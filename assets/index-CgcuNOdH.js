var Nh=Object.defineProperty;var kh=(t,e,n)=>e in t?Nh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ba=(t,e,n)=>kh(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();/**
* @vue/shared v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Eo(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const be={},jn=[],Lt=()=>{},zh=()=>!1,Gr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),vo=t=>t.startsWith("onUpdate:"),ze=Object.assign,wo=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Gh=Object.prototype.hasOwnProperty,de=(t,e)=>Gh.call(t,e),ee=Array.isArray,pi=t=>jr(t)==="[object Map]",jh=t=>jr(t)==="[object Set]",Q=t=>typeof t=="function",De=t=>typeof t=="string",Jn=t=>typeof t=="symbol",Pe=t=>t!==null&&typeof t=="object",gc=t=>(Pe(t)||Q(t))&&Q(t.then)&&Q(t.catch),Kh=Object.prototype.toString,jr=t=>Kh.call(t),Xh=t=>jr(t).slice(8,-1),Uh=t=>jr(t)==="[object Object]",Ro=t=>De(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,yi=Eo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Kr=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Vh=/-(\w)/g,wt=Kr(t=>t.replace(Vh,(e,n)=>n?n.toUpperCase():"")),Yh=/\B([A-Z])/g,wn=Kr(t=>t.replace(Yh,"-$1").toLowerCase()),Xr=Kr(t=>t.charAt(0).toUpperCase()+t.slice(1)),ps=Kr(t=>t?`on${Xr(t)}`:""),sn=(t,e)=>!Object.is(t,e),ys=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},_c=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},Wh=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Ia;const mc=()=>Ia||(Ia=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Co(t){if(ee(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],r=De(i)?$h(i):Co(i);if(r)for(const s in r)e[s]=r[s]}return e}else if(De(t)||Pe(t))return t}const Zh=/;(?![^(]*\))/g,Bh=/:([^]+)/,Hh=/\/\*[^]*?\*\//g;function $h(t){const e={};return t.replace(Hh,"").split(Zh).forEach(n=>{if(n){const i=n.split(Bh);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function xo(t){let e="";if(De(t))e=t;else if(ee(t))for(let n=0;n<t.length;n++){const i=xo(t[n]);i&&(e+=i+" ")}else if(Pe(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const qh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Jh=Eo(qh);function pc(t){return!!t||t===""}/**
* @vue/reactivity v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ot;class yc{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ot,!e&&ot&&(this.index=(ot.scopes||(ot.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=ot;try{return ot=this,e()}finally{ot=n}}}on(){ot=this}off(){ot=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function Qh(t){return new yc(t)}function ef(){return ot}let Re;const Es=new WeakSet;class Ec{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ot&&ot.active&&ot.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Es.has(this)&&(Es.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||wc(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Aa(this),Rc(this);const e=Re,n=Et;Re=this,Et=!0;try{return this.fn()}finally{Cc(this),Re=e,Et=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Io(e);this.deps=this.depsTail=void 0,Aa(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Es.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Zs(this)&&this.run()}get dirty(){return Zs(this)}}let vc=0,Ei;function wc(t){t.flags|=8,t.next=Ei,Ei=t}function To(){vc++}function bo(){if(--vc>0)return;let t;for(;Ei;){let e=Ei;for(Ei=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=n}}if(t)throw t}function Rc(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Cc(t){let e,n=t.depsTail,i=n;for(;i;){const r=i.prevDep;i.version===-1?(i===n&&(n=r),Io(i),tf(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=r}t.deps=e,t.depsTail=n}function Zs(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(xc(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function xc(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===bi))return;t.globalVersion=bi;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Zs(t)){t.flags&=-3;return}const n=Re,i=Et;Re=t,Et=!0;try{Rc(t);const r=t.fn(t._value);(e.version===0||sn(r,t._value))&&(t._value=r,e.version++)}catch(r){throw e.version++,r}finally{Re=n,Et=i,Cc(t),t.flags&=-3}}function Io(t){const{dep:e,prevSub:n,nextSub:i}=t;if(n&&(n.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=n,t.nextSub=void 0),e.subs===t&&(e.subs=n),!e.subs&&e.computed){e.computed.flags&=-5;for(let r=e.computed.deps;r;r=r.nextDep)Io(r)}}function tf(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Et=!0;const Tc=[];function an(){Tc.push(Et),Et=!1}function ln(){const t=Tc.pop();Et=t===void 0?!0:t}function Aa(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Re;Re=void 0;try{e()}finally{Re=n}}}let bi=0;class nf{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ao{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0}track(e){if(!Re||!Et||Re===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Re)n=this.activeLink=new nf(Re,this),Re.deps?(n.prevDep=Re.depsTail,Re.depsTail.nextDep=n,Re.depsTail=n):Re.deps=Re.depsTail=n,Re.flags&4&&bc(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=Re.depsTail,n.nextDep=void 0,Re.depsTail.nextDep=n,Re.depsTail=n,Re.deps===n&&(Re.deps=i)}return n}trigger(e){this.version++,bi++,this.notify(e)}notify(e){To();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{bo()}}}function bc(t){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)bc(i)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}const Bs=new WeakMap,pn=Symbol(""),Hs=Symbol(""),Ii=Symbol("");function Ue(t,e,n){if(Et&&Re){let i=Bs.get(t);i||Bs.set(t,i=new Map);let r=i.get(n);r||i.set(n,r=new Ao),r.track()}}function Kt(t,e,n,i,r,s){const o=Bs.get(t);if(!o){bi++;return}const a=l=>{l&&l.trigger()};if(To(),e==="clear")o.forEach(a);else{const l=ee(t),u=l&&Ro(n);if(l&&n==="length"){const c=Number(i);o.forEach((h,f)=>{(f==="length"||f===Ii||!Jn(f)&&f>=c)&&a(h)})}else switch(n!==void 0&&a(o.get(n)),u&&a(o.get(Ii)),e){case"add":l?u&&a(o.get("length")):(a(o.get(pn)),pi(t)&&a(o.get(Hs)));break;case"delete":l||(a(o.get(pn)),pi(t)&&a(o.get(Hs)));break;case"set":pi(t)&&a(o.get(pn));break}}bo()}function Tn(t){const e=_e(t);return e===t?e:(Ue(e,"iterate",Ii),vt(t)?e:e.map(Ze))}function So(t){return Ue(t=_e(t),"iterate",Ii),t}const rf={__proto__:null,[Symbol.iterator](){return vs(this,Symbol.iterator,Ze)},concat(...t){return Tn(this).concat(...t.map(e=>ee(e)?Tn(e):e))},entries(){return vs(this,"entries",t=>(t[1]=Ze(t[1]),t))},every(t,e){return Dt(this,"every",t,e,void 0,arguments)},filter(t,e){return Dt(this,"filter",t,e,n=>n.map(Ze),arguments)},find(t,e){return Dt(this,"find",t,e,Ze,arguments)},findIndex(t,e){return Dt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Dt(this,"findLast",t,e,Ze,arguments)},findLastIndex(t,e){return Dt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Dt(this,"forEach",t,e,void 0,arguments)},includes(...t){return ws(this,"includes",t)},indexOf(...t){return ws(this,"indexOf",t)},join(t){return Tn(this).join(t)},lastIndexOf(...t){return ws(this,"lastIndexOf",t)},map(t,e){return Dt(this,"map",t,e,void 0,arguments)},pop(){return ni(this,"pop")},push(...t){return ni(this,"push",t)},reduce(t,...e){return Sa(this,"reduce",t,e)},reduceRight(t,...e){return Sa(this,"reduceRight",t,e)},shift(){return ni(this,"shift")},some(t,e){return Dt(this,"some",t,e,void 0,arguments)},splice(...t){return ni(this,"splice",t)},toReversed(){return Tn(this).toReversed()},toSorted(t){return Tn(this).toSorted(t)},toSpliced(...t){return Tn(this).toSpliced(...t)},unshift(...t){return ni(this,"unshift",t)},values(){return vs(this,"values",Ze)}};function vs(t,e,n){const i=So(t),r=i[e]();return i!==t&&!vt(t)&&(r._next=r.next,r.next=()=>{const s=r._next();return s.value&&(s.value=n(s.value)),s}),r}const sf=Array.prototype;function Dt(t,e,n,i,r,s){const o=So(t),a=o!==t&&!vt(t),l=o[e];if(l!==sf[e]){const h=l.apply(t,s);return a?Ze(h):h}let u=n;o!==t&&(a?u=function(h,f){return n.call(this,Ze(h),f,t)}:n.length>2&&(u=function(h,f){return n.call(this,h,f,t)}));const c=l.call(o,u,i);return a&&r?r(c):c}function Sa(t,e,n,i){const r=So(t);let s=n;return r!==t&&(vt(t)?n.length>3&&(s=function(o,a,l){return n.call(this,o,a,l,t)}):s=function(o,a,l){return n.call(this,o,Ze(a),l,t)}),r[e](s,...i)}function ws(t,e,n){const i=_e(t);Ue(i,"iterate",Ii);const r=i[e](...n);return(r===-1||r===!1)&&Oo(n[0])?(n[0]=_e(n[0]),i[e](...n)):r}function ni(t,e,n=[]){an(),To();const i=_e(t)[e].apply(t,n);return bo(),ln(),i}const of=Eo("__proto__,__v_isRef,__isVue"),Ic=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Jn));function af(t){Jn(t)||(t=String(t));const e=_e(this);return Ue(e,"has",t),e.hasOwnProperty(t)}class Ac{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){const r=this._isReadonly,s=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return s;if(n==="__v_raw")return i===(r?s?vf:Lc:s?Pc:Mc).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=ee(e);if(!r){let l;if(o&&(l=rf[n]))return l;if(n==="hasOwnProperty")return af}const a=Reflect.get(e,n,Xe(e)?e:i);return(Jn(n)?Ic.has(n):of(n))||(r||Ue(e,"get",n),s)?a:Xe(a)?o&&Ro(n)?a:a.value:Pe(a)?r?Dc(a):Vr(a):a}}class Sc extends Ac{constructor(e=!1){super(!1,e)}set(e,n,i,r){let s=e[n];if(!this._isShallow){const l=En(s);if(!vt(i)&&!En(i)&&(s=_e(s),i=_e(i)),!ee(e)&&Xe(s)&&!Xe(i))return l?!1:(s.value=i,!0)}const o=ee(e)&&Ro(n)?Number(n)<e.length:de(e,n),a=Reflect.set(e,n,i,Xe(e)?e:r);return e===_e(r)&&(o?sn(i,s)&&Kt(e,"set",n,i):Kt(e,"add",n,i)),a}deleteProperty(e,n){const i=de(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&i&&Kt(e,"delete",n,void 0),r}has(e,n){const i=Reflect.has(e,n);return(!Jn(n)||!Ic.has(n))&&Ue(e,"has",n),i}ownKeys(e){return Ue(e,"iterate",ee(e)?"length":pn),Reflect.ownKeys(e)}}class lf extends Ac{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const cf=new Sc,uf=new lf,hf=new Sc(!0);const Mo=t=>t,Ur=t=>Reflect.getPrototypeOf(t);function tr(t,e,n=!1,i=!1){t=t.__v_raw;const r=_e(t),s=_e(e);n||(sn(e,s)&&Ue(r,"get",e),Ue(r,"get",s));const{has:o}=Ur(r),a=i?Mo:n?Do:Ze;if(o.call(r,e))return a(t.get(e));if(o.call(r,s))return a(t.get(s));t!==r&&t.get(e)}function nr(t,e=!1){const n=this.__v_raw,i=_e(n),r=_e(t);return e||(sn(t,r)&&Ue(i,"has",t),Ue(i,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function ir(t,e=!1){return t=t.__v_raw,!e&&Ue(_e(t),"iterate",pn),Reflect.get(t,"size",t)}function Ma(t,e=!1){!e&&!vt(t)&&!En(t)&&(t=_e(t));const n=_e(this);return Ur(n).has.call(n,t)||(n.add(t),Kt(n,"add",t,t)),this}function Pa(t,e,n=!1){!n&&!vt(e)&&!En(e)&&(e=_e(e));const i=_e(this),{has:r,get:s}=Ur(i);let o=r.call(i,t);o||(t=_e(t),o=r.call(i,t));const a=s.call(i,t);return i.set(t,e),o?sn(e,a)&&Kt(i,"set",t,e):Kt(i,"add",t,e),this}function La(t){const e=_e(this),{has:n,get:i}=Ur(e);let r=n.call(e,t);r||(t=_e(t),r=n.call(e,t)),i&&i.call(e,t);const s=e.delete(t);return r&&Kt(e,"delete",t,void 0),s}function Oa(){const t=_e(this),e=t.size!==0,n=t.clear();return e&&Kt(t,"clear",void 0,void 0),n}function rr(t,e){return function(i,r){const s=this,o=s.__v_raw,a=_e(o),l=e?Mo:t?Do:Ze;return!t&&Ue(a,"iterate",pn),o.forEach((u,c)=>i.call(r,l(u),l(c),s))}}function sr(t,e,n){return function(...i){const r=this.__v_raw,s=_e(r),o=pi(s),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=r[t](...i),c=n?Mo:e?Do:Ze;return!e&&Ue(s,"iterate",l?Hs:pn),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:a?[c(h[0]),c(h[1])]:c(h),done:f}},[Symbol.iterator](){return this}}}}function Zt(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function ff(){const t={get(s){return tr(this,s)},get size(){return ir(this)},has:nr,add:Ma,set:Pa,delete:La,clear:Oa,forEach:rr(!1,!1)},e={get(s){return tr(this,s,!1,!0)},get size(){return ir(this)},has:nr,add(s){return Ma.call(this,s,!0)},set(s,o){return Pa.call(this,s,o,!0)},delete:La,clear:Oa,forEach:rr(!1,!0)},n={get(s){return tr(this,s,!0)},get size(){return ir(this,!0)},has(s){return nr.call(this,s,!0)},add:Zt("add"),set:Zt("set"),delete:Zt("delete"),clear:Zt("clear"),forEach:rr(!0,!1)},i={get(s){return tr(this,s,!0,!0)},get size(){return ir(this,!0)},has(s){return nr.call(this,s,!0)},add:Zt("add"),set:Zt("set"),delete:Zt("delete"),clear:Zt("clear"),forEach:rr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{t[s]=sr(s,!1,!1),n[s]=sr(s,!0,!1),e[s]=sr(s,!1,!0),i[s]=sr(s,!0,!0)}),[t,n,e,i]}const[df,gf,_f,mf]=ff();function Po(t,e){const n=e?t?mf:_f:t?gf:df;return(i,r,s)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?i:Reflect.get(de(n,r)&&r in i?n:i,r,s)}const pf={get:Po(!1,!1)},yf={get:Po(!1,!0)},Ef={get:Po(!0,!1)};const Mc=new WeakMap,Pc=new WeakMap,Lc=new WeakMap,vf=new WeakMap;function wf(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Rf(t){return t.__v_skip||!Object.isExtensible(t)?0:wf(Xh(t))}function Vr(t){return En(t)?t:Lo(t,!1,cf,pf,Mc)}function Oc(t){return Lo(t,!1,hf,yf,Pc)}function Dc(t){return Lo(t,!0,uf,Ef,Lc)}function Lo(t,e,n,i,r){if(!Pe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=r.get(t);if(s)return s;const o=Rf(t);if(o===0)return t;const a=new Proxy(t,o===2?i:n);return r.set(t,a),a}function vi(t){return En(t)?vi(t.__v_raw):!!(t&&t.__v_isReactive)}function En(t){return!!(t&&t.__v_isReadonly)}function vt(t){return!!(t&&t.__v_isShallow)}function Oo(t){return t?!!t.__v_raw:!1}function _e(t){const e=t&&t.__v_raw;return e?_e(e):t}function Fc(t){return!de(t,"__v_skip")&&Object.isExtensible(t)&&_c(t,"__v_skip",!0),t}const Ze=t=>Pe(t)?Vr(t):t,Do=t=>Pe(t)?Dc(t):t;function Xe(t){return t?t.__v_isRef===!0:!1}function Nc(t){return kc(t,!1)}function Cf(t){return kc(t,!0)}function kc(t,e){return Xe(t)?t:new xf(t,e)}class xf{constructor(e,n){this.dep=new Ao,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:_e(e),this._value=n?e:Ze(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,i=this.__v_isShallow||vt(e)||En(e);e=i?e:_e(e),sn(e,n)&&(this._rawValue=e,this._value=i?e:Ze(e),this.dep.trigger())}}function Kn(t){return Xe(t)?t.value:t}const Tf={get:(t,e,n)=>e==="__v_raw"?t:Kn(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const r=t[e];return Xe(r)&&!Xe(n)?(r.value=n,!0):Reflect.set(t,e,n,i)}};function zc(t){return vi(t)?t:new Proxy(t,Tf)}class bf{constructor(e,n,i){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Ao(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=bi-1,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Re!==this)return wc(this),!0}get value(){const e=this.dep.track();return xc(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function If(t,e,n=!1){let i,r;return Q(t)?i=t:(i=t.get,r=t.set),new bf(i,r,n)}const or={},Cr=new WeakMap;let gn;function Af(t,e=!1,n=gn){if(n){let i=Cr.get(n);i||Cr.set(n,i=[]),i.push(t)}}function Sf(t,e,n=be){const{immediate:i,deep:r,once:s,scheduler:o,augmentJob:a,call:l}=n,u=R=>r?R:vt(R)||r===!1||r===0?rn(R,1):rn(R);let c,h,f,d,_=!1,p=!1;if(Xe(t)?(h=()=>t.value,_=vt(t)):vi(t)?(h=()=>u(t),_=!0):ee(t)?(p=!0,_=t.some(R=>vi(R)||vt(R)),h=()=>t.map(R=>{if(Xe(R))return R.value;if(vi(R))return u(R);if(Q(R))return l?l(R,2):R()})):Q(t)?e?h=l?()=>l(t,2):t:h=()=>{if(f){an();try{f()}finally{ln()}}const R=gn;gn=c;try{return l?l(t,3,[d]):t(d)}finally{gn=R}}:h=Lt,e&&r){const R=h,I=r===!0?1/0:r;h=()=>rn(R(),I)}const v=ef(),E=()=>{c.stop(),v&&wo(v.effects,c)};if(s&&e){const R=e;e=(...I)=>{R(...I),E()}}let y=p?new Array(t.length).fill(or):or;const C=R=>{if(!(!(c.flags&1)||!c.dirty&&!R))if(e){const I=c.run();if(r||_||(p?I.some((X,P)=>sn(X,y[P])):sn(I,y))){f&&f();const X=gn;gn=c;try{const P=[I,y===or?void 0:p&&y[0]===or?[]:y,d];l?l(e,3,P):e(...P),y=I}finally{gn=X}}}else c.run()};return a&&a(C),c=new Ec(h),c.scheduler=o?()=>o(C,!1):C,d=R=>Af(R,!1,c),f=c.onStop=()=>{const R=Cr.get(c);if(R){if(l)l(R,4);else for(const I of R)I();Cr.delete(c)}},e?i?C(!0):y=c.run():o?o(C.bind(null,!0),!0):c.run(),E.pause=c.pause.bind(c),E.resume=c.resume.bind(c),E.stop=E,E}function rn(t,e=1/0,n){if(e<=0||!Pe(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Xe(t))rn(t.value,e,n);else if(ee(t))for(let i=0;i<t.length;i++)rn(t[i],e,n);else if(jh(t)||pi(t))t.forEach(i=>{rn(i,e,n)});else if(Uh(t)){for(const i in t)rn(t[i],e,n);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&rn(t[i],e,n)}return t}/**
* @vue/runtime-core v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Yi(t,e,n,i){try{return i?t(...i):t()}catch(r){Yr(r,e,n)}}function Ot(t,e,n,i){if(Q(t)){const r=Yi(t,e,n,i);return r&&gc(r)&&r.catch(s=>{Yr(s,e,n)}),r}if(ee(t)){const r=[];for(let s=0;s<t.length;s++)r.push(Ot(t[s],e,n,i));return r}}function Yr(t,e,n,i=!0){const r=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||be;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}a=a.parent}if(s){an(),Yi(s,null,10,[t,l,u]),ln();return}}Mf(t,n,r,i,o)}function Mf(t,e,n,i=!0,r=!1){if(r)throw t;console.error(t)}let Ai=!1,$s=!1;const Be=[];let It=0;const Xn=[];let Qt=null,Dn=0;const Gc=Promise.resolve();let Fo=null;function jc(t){const e=Fo||Gc;return t?e.then(this?t.bind(this):t):e}function Pf(t){let e=Ai?It+1:0,n=Be.length;for(;e<n;){const i=e+n>>>1,r=Be[i],s=Si(r);s<t||s===t&&r.flags&2?e=i+1:n=i}return e}function No(t){if(!(t.flags&1)){const e=Si(t),n=Be[Be.length-1];!n||!(t.flags&2)&&e>=Si(n)?Be.push(t):Be.splice(Pf(e),0,t),t.flags|=1,Kc()}}function Kc(){!Ai&&!$s&&($s=!0,Fo=Gc.then(Uc))}function Lf(t){ee(t)?Xn.push(...t):Qt&&t.id===-1?Qt.splice(Dn+1,0,t):t.flags&1||(Xn.push(t),t.flags|=1),Kc()}function Da(t,e,n=Ai?It+1:0){for(;n<Be.length;n++){const i=Be[n];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;Be.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&=-2}}}function Xc(t){if(Xn.length){const e=[...new Set(Xn)].sort((n,i)=>Si(n)-Si(i));if(Xn.length=0,Qt){Qt.push(...e);return}for(Qt=e,Dn=0;Dn<Qt.length;Dn++){const n=Qt[Dn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Qt=null,Dn=0}}const Si=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Uc(t){$s=!1,Ai=!0;try{for(It=0;It<Be.length;It++){const e=Be[It];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Yi(e,e.i,e.i?15:14),e.flags&=-2)}}finally{for(;It<Be.length;It++){const e=Be[It];e&&(e.flags&=-2)}It=0,Be.length=0,Xc(),Ai=!1,Fo=null,(Be.length||Xn.length)&&Uc()}}let pt=null,Vc=null;function xr(t){const e=pt;return pt=t,Vc=t&&t.type.__scopeId||null,e}function Of(t,e=pt,n){if(!e||t._n)return t;const i=(...r)=>{i._d&&Ua(-1);const s=xr(e);let o;try{o=t(...r)}finally{xr(s),i._d&&Ua(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function un(t,e,n,i){const r=t.dirs,s=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);let l=a.dir[i];l&&(an(),Ot(l,n,8,[t.el,a,t,e]),ln())}}const Df=Symbol("_vte"),Ff=t=>t.__isTeleport;function ko(t,e){t.shapeFlag&6&&t.component?(t.transition=e,ko(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Wr(t,e){return Q(t)?ze({name:t.name},e,{setup:t}):t}function Yc(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function qs(t,e,n,i,r=!1){if(ee(t)){t.forEach((_,p)=>qs(_,e&&(ee(e)?e[p]:e),n,i,r));return}if(wi(i)&&!r)return;const s=i.shapeFlag&4?Xo(i.component):i.el,o=r?null:s,{i:a,r:l}=t,u=e&&e.r,c=a.refs===be?a.refs={}:a.refs,h=a.setupState,f=_e(h),d=h===be?()=>!1:_=>de(f,_);if(u!=null&&u!==l&&(De(u)?(c[u]=null,d(u)&&(h[u]=null)):Xe(u)&&(u.value=null)),Q(l))Yi(l,a,12,[o,c]);else{const _=De(l),p=Xe(l);if(_||p){const v=()=>{if(t.f){const E=_?d(l)?h[l]:c[l]:l.value;r?ee(E)&&wo(E,s):ee(E)?E.includes(s)||E.push(s):_?(c[l]=[s],d(l)&&(h[l]=c[l])):(l.value=[s],t.k&&(c[t.k]=l.value))}else _?(c[l]=o,d(l)&&(h[l]=o)):p&&(l.value=o,t.k&&(c[t.k]=o))};o?(v.id=-1,st(v,n)):v()}}}const wi=t=>!!t.type.__asyncLoader,Wc=t=>t.type.__isKeepAlive;function Nf(t,e){Zc(t,"a",e)}function kf(t,e){Zc(t,"da",e)}function Zc(t,e,n=Ke){const i=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Zr(e,i,n),n){let r=n.parent;for(;r&&r.parent;)Wc(r.parent.vnode)&&zf(i,e,n,r),r=r.parent}}function zf(t,e,n,i){const r=Zr(e,t,i,!0);Hc(()=>{wo(i[e],r)},n)}function Zr(t,e,n=Ke,i=!1){if(n){const r=n[t]||(n[t]=[]),s=e.__weh||(e.__weh=(...o)=>{an();const a=Wi(n),l=Ot(e,n,t,o);return a(),ln(),l});return i?r.unshift(s):r.push(s),s}}const Vt=t=>(e,n=Ke)=>{(!$r||t==="sp")&&Zr(t,(...i)=>e(...i),n)},Gf=Vt("bm"),Bc=Vt("m"),jf=Vt("bu"),Kf=Vt("u"),Xf=Vt("bum"),Hc=Vt("um"),Uf=Vt("sp"),Vf=Vt("rtg"),Yf=Vt("rtc");function Wf(t,e=Ke){Zr("ec",t,e)}const Zf="components";function Bf(t,e){return $f(Zf,t,!0,e)||t}const Hf=Symbol.for("v-ndc");function $f(t,e,n=!0,i=!1){const r=pt||Ke;if(r){const s=r.type;{const a=zd(s,!1);if(a&&(a===e||a===wt(e)||a===Xr(wt(e))))return s}const o=Fa(r[t]||s[t],e)||Fa(r.appContext[t],e);return!o&&i?s:o}}function Fa(t,e){return t&&(t[e]||t[wt(e)]||t[Xr(wt(e))])}const Js=t=>t?pu(t)?Xo(t):Js(t.parent):null,Ri=ze(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Js(t.parent),$root:t=>Js(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>zo(t),$forceUpdate:t=>t.f||(t.f=()=>{No(t.update)}),$nextTick:t=>t.n||(t.n=jc.bind(t.proxy)),$watch:t=>pd.bind(t)}),Rs=(t,e)=>t!==be&&!t.__isScriptSetup&&de(t,e),qf={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:r,props:s,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 1:return i[e];case 2:return r[e];case 4:return n[e];case 3:return s[e]}else{if(Rs(i,e))return o[e]=1,i[e];if(r!==be&&de(r,e))return o[e]=2,r[e];if((u=t.propsOptions[0])&&de(u,e))return o[e]=3,s[e];if(n!==be&&de(n,e))return o[e]=4,n[e];Qs&&(o[e]=0)}}const c=Ri[e];let h,f;if(c)return e==="$attrs"&&Ue(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==be&&de(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,de(f,e))return f[e]},set({_:t},e,n){const{data:i,setupState:r,ctx:s}=t;return Rs(r,e)?(r[e]=n,!0):i!==be&&de(i,e)?(i[e]=n,!0):de(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:r,propsOptions:s}},o){let a;return!!n[o]||t!==be&&de(t,o)||Rs(e,o)||(a=s[0])&&de(a,o)||de(i,o)||de(Ri,o)||de(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:de(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Na(t){return ee(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Qs=!0;function Jf(t){const e=zo(t),n=t.proxy,i=t.ctx;Qs=!1,e.beforeCreate&&ka(e.beforeCreate,t,"bc");const{data:r,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:f,beforeUpdate:d,updated:_,activated:p,deactivated:v,beforeDestroy:E,beforeUnmount:y,destroyed:C,unmounted:R,render:I,renderTracked:X,renderTriggered:P,errorCaptured:D,serverPrefetch:U,expose:re,inheritAttrs:le,components:ce,directives:te,filters:B}=e;if(u&&Qf(u,i,null),o)for(const H in o){const $=o[H];Q($)&&(i[H]=$.bind(n))}if(r){const H=r.call(n,n);Pe(H)&&(t.data=Vr(H))}if(Qs=!0,s)for(const H in s){const $=s[H],Me=Q($)?$.bind(n,n):Q($.get)?$.get.bind(n,n):Lt,me=!Q($)&&Q($.set)?$.set.bind(n):Lt,ue=_t({get:Me,set:me});Object.defineProperty(i,H,{enumerable:!0,configurable:!0,get:()=>ue.value,set:he=>ue.value=he})}if(a)for(const H in a)$c(a[H],i,n,H);if(l){const H=Q(l)?l.call(n):l;Reflect.ownKeys(H).forEach($=>{pr($,H[$])})}c&&ka(c,t,"c");function Y(H,$){ee($)?$.forEach(Me=>H(Me.bind(n))):$&&H($.bind(n))}if(Y(Gf,h),Y(Bc,f),Y(jf,d),Y(Kf,_),Y(Nf,p),Y(kf,v),Y(Wf,D),Y(Yf,X),Y(Vf,P),Y(Xf,y),Y(Hc,R),Y(Uf,U),ee(re))if(re.length){const H=t.exposed||(t.exposed={});re.forEach($=>{Object.defineProperty(H,$,{get:()=>n[$],set:Me=>n[$]=Me})})}else t.exposed||(t.exposed={});I&&t.render===Lt&&(t.render=I),le!=null&&(t.inheritAttrs=le),ce&&(t.components=ce),te&&(t.directives=te),U&&Yc(t)}function Qf(t,e,n=Lt){ee(t)&&(t=eo(t));for(const i in t){const r=t[i];let s;Pe(r)?"default"in r?s=Xt(r.from||i,r.default,!0):s=Xt(r.from||i):s=Xt(r),Xe(s)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[i]=s}}function ka(t,e,n){Ot(ee(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function $c(t,e,n,i){let r=i.includes(".")?uu(n,i):()=>n[i];if(De(t)){const s=e[t];Q(s)&&yr(r,s)}else if(Q(t))yr(r,t.bind(n));else if(Pe(t))if(ee(t))t.forEach(s=>$c(s,e,n,i));else{const s=Q(t.handler)?t.handler.bind(n):e[t.handler];Q(s)&&yr(r,s,t)}}function zo(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let l;return a?l=a:!r.length&&!n&&!i?l=e:(l={},r.length&&r.forEach(u=>Tr(l,u,o,!0)),Tr(l,e,o)),Pe(e)&&s.set(e,l),l}function Tr(t,e,n,i=!1){const{mixins:r,extends:s}=e;s&&Tr(t,s,n,!0),r&&r.forEach(o=>Tr(t,o,n,!0));for(const o in e)if(!(i&&o==="expose")){const a=ed[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const ed={data:za,props:Ga,emits:Ga,methods:ci,computed:ci,beforeCreate:We,created:We,beforeMount:We,mounted:We,beforeUpdate:We,updated:We,beforeDestroy:We,beforeUnmount:We,destroyed:We,unmounted:We,activated:We,deactivated:We,errorCaptured:We,serverPrefetch:We,components:ci,directives:ci,watch:nd,provide:za,inject:td};function za(t,e){return e?t?function(){return ze(Q(t)?t.call(this,this):t,Q(e)?e.call(this,this):e)}:e:t}function td(t,e){return ci(eo(t),eo(e))}function eo(t){if(ee(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function We(t,e){return t?[...new Set([].concat(t,e))]:e}function ci(t,e){return t?ze(Object.create(null),t,e):e}function Ga(t,e){return t?ee(t)&&ee(e)?[...new Set([...t,...e])]:ze(Object.create(null),Na(t),Na(e??{})):e}function nd(t,e){if(!t)return e;if(!e)return t;const n=ze(Object.create(null),t);for(const i in e)n[i]=We(t[i],e[i]);return n}function qc(){return{app:null,config:{isNativeTag:zh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let id=0;function rd(t,e){return function(i,r=null){Q(i)||(i=ze({},i)),r!=null&&!Pe(r)&&(r=null);const s=qc(),o=new WeakSet,a=[];let l=!1;const u=s.app={_uid:id++,_component:i,_props:r,_container:null,_context:s,_instance:null,version:jd,get config(){return s.config},set config(c){},use(c,...h){return o.has(c)||(c&&Q(c.install)?(o.add(c),c.install(u,...h)):Q(c)&&(o.add(c),c(u,...h))),u},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),u},component(c,h){return h?(s.components[c]=h,u):s.components[c]},directive(c,h){return h?(s.directives[c]=h,u):s.directives[c]},mount(c,h,f){if(!l){const d=u._ceVNode||ft(i,r);return d.appContext=s,f===!0?f="svg":f===!1&&(f=void 0),h&&e?e(d,c):t(d,c,f),l=!0,u._container=c,c.__vue_app__=u,Xo(d.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Ot(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return s.provides[c]=h,u},runWithContext(c){const h=Un;Un=u;try{return c()}finally{Un=h}}};return u}}let Un=null;function pr(t,e){if(Ke){let n=Ke.provides;const i=Ke.parent&&Ke.parent.provides;i===n&&(n=Ke.provides=Object.create(i)),n[t]=e}}function Xt(t,e,n=!1){const i=Ke||pt;if(i||Un){const r=Un?Un._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return n&&Q(e)?e.call(i&&i.proxy):e}}const Jc={},Qc=()=>Object.create(Jc),eu=t=>Object.getPrototypeOf(t)===Jc;function sd(t,e,n,i=!1){const r={},s=Qc();t.propsDefaults=Object.create(null),tu(t,e,r,s);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=i?r:Oc(r):t.type.props?t.props=r:t.props=s,t.attrs=s}function od(t,e,n,i){const{props:r,attrs:s,vnode:{patchFlag:o}}=t,a=_e(r),[l]=t.propsOptions;let u=!1;if((i||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let f=c[h];if(Br(t.emitsOptions,f))continue;const d=e[f];if(l)if(de(s,f))d!==s[f]&&(s[f]=d,u=!0);else{const _=wt(f);r[_]=to(l,a,_,d,t,!1)}else d!==s[f]&&(s[f]=d,u=!0)}}}else{tu(t,e,r,s)&&(u=!0);let c;for(const h in a)(!e||!de(e,h)&&((c=wn(h))===h||!de(e,c)))&&(l?n&&(n[h]!==void 0||n[c]!==void 0)&&(r[h]=to(l,a,h,void 0,t,!0)):delete r[h]);if(s!==a)for(const h in s)(!e||!de(e,h))&&(delete s[h],u=!0)}u&&Kt(t.attrs,"set","")}function tu(t,e,n,i){const[r,s]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(yi(l))continue;const u=e[l];let c;r&&de(r,c=wt(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:Br(t.emitsOptions,l)||(!(l in i)||u!==i[l])&&(i[l]=u,o=!0)}if(s){const l=_e(n),u=a||be;for(let c=0;c<s.length;c++){const h=s[c];n[h]=to(r,l,h,u[h],t,!de(u,h))}}return o}function to(t,e,n,i,r,s){const o=t[n];if(o!=null){const a=de(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Q(l)){const{propsDefaults:u}=r;if(n in u)i=u[n];else{const c=Wi(r);i=u[n]=l.call(null,e),c()}}else i=l;r.ce&&r.ce._setProp(n,i)}o[0]&&(s&&!a?i=!1:o[1]&&(i===""||i===wn(n))&&(i=!0))}return i}const ad=new WeakMap;function nu(t,e,n=!1){const i=n?ad:e.propsCache,r=i.get(t);if(r)return r;const s=t.props,o={},a=[];let l=!1;if(!Q(t)){const c=h=>{l=!0;const[f,d]=nu(h,e,!0);ze(o,f),d&&a.push(...d)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!s&&!l)return Pe(t)&&i.set(t,jn),jn;if(ee(s))for(let c=0;c<s.length;c++){const h=wt(s[c]);ja(h)&&(o[h]=be)}else if(s)for(const c in s){const h=wt(c);if(ja(h)){const f=s[c],d=o[h]=ee(f)||Q(f)?{type:f}:ze({},f),_=d.type;let p=!1,v=!0;if(ee(_))for(let E=0;E<_.length;++E){const y=_[E],C=Q(y)&&y.name;if(C==="Boolean"){p=!0;break}else C==="String"&&(v=!1)}else p=Q(_)&&_.name==="Boolean";d[0]=p,d[1]=v,(p||de(d,"default"))&&a.push(h)}}const u=[o,a];return Pe(t)&&i.set(t,u),u}function ja(t){return t[0]!=="$"&&!yi(t)}const iu=t=>t[0]==="_"||t==="$stable",Go=t=>ee(t)?t.map(At):[At(t)],ld=(t,e,n)=>{if(e._n)return e;const i=Of((...r)=>Go(e(...r)),n);return i._c=!1,i},ru=(t,e,n)=>{const i=t._ctx;for(const r in t){if(iu(r))continue;const s=t[r];if(Q(s))e[r]=ld(r,s,i);else if(s!=null){const o=Go(s);e[r]=()=>o}}},su=(t,e)=>{const n=Go(e);t.slots.default=()=>n},ou=(t,e,n)=>{for(const i in e)(n||i!=="_")&&(t[i]=e[i])},cd=(t,e,n)=>{const i=t.slots=Qc();if(t.vnode.shapeFlag&32){const r=e._;r?(ou(i,e,n),n&&_c(i,"_",r,!0)):ru(e,i)}else e&&su(t,e)},ud=(t,e,n)=>{const{vnode:i,slots:r}=t;let s=!0,o=be;if(i.shapeFlag&32){const a=e._;a?n&&a===1?s=!1:ou(r,e,n):(s=!e.$stable,ru(e,r)),o=e}else e&&(su(t,e),o={default:1});if(s)for(const a in r)!iu(a)&&o[a]==null&&delete r[a]},st=xd;function hd(t){return fd(t)}function fd(t,e){const n=mc();n.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:f,setScopeId:d=Lt,insertStaticContent:_}=t,p=(g,m,w,S=null,T=null,A=null,N=void 0,L=null,O=!!m.dynamicChildren)=>{if(g===m)return;g&&!ii(g,m)&&(S=x(g),he(g,T,A,!0),g=null),m.patchFlag===-2&&(O=!1,m.dynamicChildren=null);const{type:M,ref:V,shapeFlag:z}=m;switch(M){case Hr:v(g,m,w,S);break;case Mi:E(g,m,w,S);break;case Ts:g==null&&y(m,w,S,N);break;case zt:ce(g,m,w,S,T,A,N,L,O);break;default:z&1?I(g,m,w,S,T,A,N,L,O):z&6?te(g,m,w,S,T,A,N,L,O):(z&64||z&128)&&M.process(g,m,w,S,T,A,N,L,O,K)}V!=null&&T&&qs(V,g&&g.ref,A,m||g,!m)},v=(g,m,w,S)=>{if(g==null)i(m.el=a(m.children),w,S);else{const T=m.el=g.el;m.children!==g.children&&u(T,m.children)}},E=(g,m,w,S)=>{g==null?i(m.el=l(m.children||""),w,S):m.el=g.el},y=(g,m,w,S)=>{[g.el,g.anchor]=_(g.children,m,w,S,g.el,g.anchor)},C=({el:g,anchor:m},w,S)=>{let T;for(;g&&g!==m;)T=f(g),i(g,w,S),g=T;i(m,w,S)},R=({el:g,anchor:m})=>{let w;for(;g&&g!==m;)w=f(g),r(g),g=w;r(m)},I=(g,m,w,S,T,A,N,L,O)=>{m.type==="svg"?N="svg":m.type==="math"&&(N="mathml"),g==null?X(m,w,S,T,A,N,L,O):U(g,m,T,A,N,L,O)},X=(g,m,w,S,T,A,N,L)=>{let O,M;const{props:V,shapeFlag:z,transition:G,dirs:Z}=g;if(O=g.el=o(g.type,A,V&&V.is,V),z&8?c(O,g.children):z&16&&D(g.children,O,null,S,T,Cs(g,A),N,L),Z&&un(g,null,S,"created"),P(O,g,g.scopeId,N,S),V){for(const Te in V)Te!=="value"&&!yi(Te)&&s(O,Te,null,V[Te],A,S);"value"in V&&s(O,"value",null,V.value,A),(M=V.onVnodeBeforeMount)&&bt(M,S,g)}Z&&un(g,null,S,"beforeMount");const se=dd(T,G);se&&G.beforeEnter(O),i(O,m,w),((M=V&&V.onVnodeMounted)||se||Z)&&st(()=>{M&&bt(M,S,g),se&&G.enter(O),Z&&un(g,null,S,"mounted")},T)},P=(g,m,w,S,T)=>{if(w&&d(g,w),S)for(let A=0;A<S.length;A++)d(g,S[A]);if(T){let A=T.subTree;if(m===A||fu(A.type)&&(A.ssContent===m||A.ssFallback===m)){const N=T.vnode;P(g,N,N.scopeId,N.slotScopeIds,T.parent)}}},D=(g,m,w,S,T,A,N,L,O=0)=>{for(let M=O;M<g.length;M++){const V=g[M]=L?en(g[M]):At(g[M]);p(null,V,m,w,S,T,A,N,L)}},U=(g,m,w,S,T,A,N)=>{const L=m.el=g.el;let{patchFlag:O,dynamicChildren:M,dirs:V}=m;O|=g.patchFlag&16;const z=g.props||be,G=m.props||be;let Z;if(w&&hn(w,!1),(Z=G.onVnodeBeforeUpdate)&&bt(Z,w,m,g),V&&un(m,g,w,"beforeUpdate"),w&&hn(w,!0),(z.innerHTML&&G.innerHTML==null||z.textContent&&G.textContent==null)&&c(L,""),M?re(g.dynamicChildren,M,L,w,S,Cs(m,T),A):N||$(g,m,L,null,w,S,Cs(m,T),A,!1),O>0){if(O&16)le(L,z,G,w,T);else if(O&2&&z.class!==G.class&&s(L,"class",null,G.class,T),O&4&&s(L,"style",z.style,G.style,T),O&8){const se=m.dynamicProps;for(let Te=0;Te<se.length;Te++){const pe=se[Te],nt=z[pe],Ge=G[pe];(Ge!==nt||pe==="value")&&s(L,pe,nt,Ge,T,w)}}O&1&&g.children!==m.children&&c(L,m.children)}else!N&&M==null&&le(L,z,G,w,T);((Z=G.onVnodeUpdated)||V)&&st(()=>{Z&&bt(Z,w,m,g),V&&un(m,g,w,"updated")},S)},re=(g,m,w,S,T,A,N)=>{for(let L=0;L<m.length;L++){const O=g[L],M=m[L],V=O.el&&(O.type===zt||!ii(O,M)||O.shapeFlag&70)?h(O.el):w;p(O,M,V,null,S,T,A,N,!0)}},le=(g,m,w,S,T)=>{if(m!==w){if(m!==be)for(const A in m)!yi(A)&&!(A in w)&&s(g,A,m[A],null,T,S);for(const A in w){if(yi(A))continue;const N=w[A],L=m[A];N!==L&&A!=="value"&&s(g,A,L,N,T,S)}"value"in w&&s(g,"value",m.value,w.value,T)}},ce=(g,m,w,S,T,A,N,L,O)=>{const M=m.el=g?g.el:a(""),V=m.anchor=g?g.anchor:a("");let{patchFlag:z,dynamicChildren:G,slotScopeIds:Z}=m;Z&&(L=L?L.concat(Z):Z),g==null?(i(M,w,S),i(V,w,S),D(m.children||[],w,V,T,A,N,L,O)):z>0&&z&64&&G&&g.dynamicChildren?(re(g.dynamicChildren,G,w,T,A,N,L),(m.key!=null||T&&m===T.subTree)&&au(g,m,!0)):$(g,m,w,V,T,A,N,L,O)},te=(g,m,w,S,T,A,N,L,O)=>{m.slotScopeIds=L,g==null?m.shapeFlag&512?T.ctx.activate(m,w,S,N,O):B(m,w,S,T,A,N,O):we(g,m,O)},B=(g,m,w,S,T,A,N)=>{const L=g.component=Od(g,S,T);if(Wc(g)&&(L.ctx.renderer=K),Dd(L,!1,N),L.asyncDep){if(T&&T.registerDep(L,Y,N),!g.el){const O=L.subTree=ft(Mi);E(null,O,m,w)}}else Y(L,g,m,w,T,A,N)},we=(g,m,w)=>{const S=m.component=g.component;if(Rd(g,m,w))if(S.asyncDep&&!S.asyncResolved){H(S,m,w);return}else S.next=m,S.update();else m.el=g.el,S.vnode=m},Y=(g,m,w,S,T,A,N)=>{const L=()=>{if(g.isMounted){let{next:z,bu:G,u:Z,parent:se,vnode:Te}=g;{const it=lu(g);if(it){z&&(z.el=Te.el,H(g,z,N)),it.asyncDep.then(()=>{g.isUnmounted||L()});return}}let pe=z,nt;hn(g,!1),z?(z.el=Te.el,H(g,z,N)):z=Te,G&&ys(G),(nt=z.props&&z.props.onVnodeBeforeUpdate)&&bt(nt,se,z,Te),hn(g,!0);const Ge=xs(g),dt=g.subTree;g.subTree=Ge,p(dt,Ge,h(dt.el),x(dt),g,T,A),z.el=Ge.el,pe===null&&Cd(g,Ge.el),Z&&st(Z,T),(nt=z.props&&z.props.onVnodeUpdated)&&st(()=>bt(nt,se,z,Te),T)}else{let z;const{el:G,props:Z}=m,{bm:se,m:Te,parent:pe,root:nt,type:Ge}=g,dt=wi(m);if(hn(g,!1),se&&ys(se),!dt&&(z=Z&&Z.onVnodeBeforeMount)&&bt(z,pe,m),hn(g,!0),G&&xe){const it=()=>{g.subTree=xs(g),xe(G,g.subTree,g,T,null)};dt&&Ge.__asyncHydrate?Ge.__asyncHydrate(G,g,it):it()}else{nt.ce&&nt.ce._injectChildStyle(Ge);const it=g.subTree=xs(g);p(null,it,w,S,g,T,A),m.el=it.el}if(Te&&st(Te,T),!dt&&(z=Z&&Z.onVnodeMounted)){const it=m;st(()=>bt(z,pe,it),T)}(m.shapeFlag&256||pe&&wi(pe.vnode)&&pe.vnode.shapeFlag&256)&&g.a&&st(g.a,T),g.isMounted=!0,m=w=S=null}};g.scope.on();const O=g.effect=new Ec(L);g.scope.off();const M=g.update=O.run.bind(O),V=g.job=O.runIfDirty.bind(O);V.i=g,V.id=g.uid,O.scheduler=()=>No(V),hn(g,!0),M()},H=(g,m,w)=>{m.component=g;const S=g.vnode.props;g.vnode=m,g.next=null,od(g,m.props,S,w),ud(g,m.children,w),an(),Da(g),ln()},$=(g,m,w,S,T,A,N,L,O=!1)=>{const M=g&&g.children,V=g?g.shapeFlag:0,z=m.children,{patchFlag:G,shapeFlag:Z}=m;if(G>0){if(G&128){me(M,z,w,S,T,A,N,L,O);return}else if(G&256){Me(M,z,w,S,T,A,N,L,O);return}}Z&8?(V&16&&Ce(M,T,A),z!==M&&c(w,z)):V&16?Z&16?me(M,z,w,S,T,A,N,L,O):Ce(M,T,A,!0):(V&8&&c(w,""),Z&16&&D(z,w,S,T,A,N,L,O))},Me=(g,m,w,S,T,A,N,L,O)=>{g=g||jn,m=m||jn;const M=g.length,V=m.length,z=Math.min(M,V);let G;for(G=0;G<z;G++){const Z=m[G]=O?en(m[G]):At(m[G]);p(g[G],Z,w,null,T,A,N,L,O)}M>V?Ce(g,T,A,!0,!1,z):D(m,w,S,T,A,N,L,O,z)},me=(g,m,w,S,T,A,N,L,O)=>{let M=0;const V=m.length;let z=g.length-1,G=V-1;for(;M<=z&&M<=G;){const Z=g[M],se=m[M]=O?en(m[M]):At(m[M]);if(ii(Z,se))p(Z,se,w,null,T,A,N,L,O);else break;M++}for(;M<=z&&M<=G;){const Z=g[z],se=m[G]=O?en(m[G]):At(m[G]);if(ii(Z,se))p(Z,se,w,null,T,A,N,L,O);else break;z--,G--}if(M>z){if(M<=G){const Z=G+1,se=Z<V?m[Z].el:S;for(;M<=G;)p(null,m[M]=O?en(m[M]):At(m[M]),w,se,T,A,N,L,O),M++}}else if(M>G)for(;M<=z;)he(g[M],T,A,!0),M++;else{const Z=M,se=M,Te=new Map;for(M=se;M<=G;M++){const rt=m[M]=O?en(m[M]):At(m[M]);rt.key!=null&&Te.set(rt.key,M)}let pe,nt=0;const Ge=G-se+1;let dt=!1,it=0;const ti=new Array(Ge);for(M=0;M<Ge;M++)ti[M]=0;for(M=Z;M<=z;M++){const rt=g[M];if(nt>=Ge){he(rt,T,A,!0);continue}let Tt;if(rt.key!=null)Tt=Te.get(rt.key);else for(pe=se;pe<=G;pe++)if(ti[pe-se]===0&&ii(rt,m[pe])){Tt=pe;break}Tt===void 0?he(rt,T,A,!0):(ti[Tt-se]=M+1,Tt>=it?it=Tt:dt=!0,p(rt,m[Tt],w,null,T,A,N,L,O),nt++)}const xa=dt?gd(ti):jn;for(pe=xa.length-1,M=Ge-1;M>=0;M--){const rt=se+M,Tt=m[rt],Ta=rt+1<V?m[rt+1].el:S;ti[M]===0?p(null,Tt,w,Ta,T,A,N,L,O):dt&&(pe<0||M!==xa[pe]?ue(Tt,w,Ta,2):pe--)}}},ue=(g,m,w,S,T=null)=>{const{el:A,type:N,transition:L,children:O,shapeFlag:M}=g;if(M&6){ue(g.component.subTree,m,w,S);return}if(M&128){g.suspense.move(m,w,S);return}if(M&64){N.move(g,m,w,K);return}if(N===zt){i(A,m,w);for(let z=0;z<O.length;z++)ue(O[z],m,w,S);i(g.anchor,m,w);return}if(N===Ts){C(g,m,w);return}if(S!==2&&M&1&&L)if(S===0)L.beforeEnter(A),i(A,m,w),st(()=>L.enter(A),T);else{const{leave:z,delayLeave:G,afterLeave:Z}=L,se=()=>i(A,m,w),Te=()=>{z(A,()=>{se(),Z&&Z()})};G?G(A,se,Te):Te()}else i(A,m,w)},he=(g,m,w,S=!1,T=!1)=>{const{type:A,props:N,ref:L,children:O,dynamicChildren:M,shapeFlag:V,patchFlag:z,dirs:G,cacheIndex:Z}=g;if(z===-2&&(T=!1),L!=null&&qs(L,null,w,g,!0),Z!=null&&(m.renderCache[Z]=void 0),V&256){m.ctx.deactivate(g);return}const se=V&1&&G,Te=!wi(g);let pe;if(Te&&(pe=N&&N.onVnodeBeforeUnmount)&&bt(pe,m,g),V&6)Ye(g.component,w,S);else{if(V&128){g.suspense.unmount(w,S);return}se&&un(g,null,m,"beforeUnmount"),V&64?g.type.remove(g,m,w,K,S):M&&!M.hasOnce&&(A!==zt||z>0&&z&64)?Ce(M,m,w,!1,!0):(A===zt&&z&384||!T&&V&16)&&Ce(O,m,w),S&&Ve(g)}(Te&&(pe=N&&N.onVnodeUnmounted)||se)&&st(()=>{pe&&bt(pe,m,g),se&&un(g,null,m,"unmounted")},w)},Ve=g=>{const{type:m,el:w,anchor:S,transition:T}=g;if(m===zt){Je(w,S);return}if(m===Ts){R(g);return}const A=()=>{r(w),T&&!T.persisted&&T.afterLeave&&T.afterLeave()};if(g.shapeFlag&1&&T&&!T.persisted){const{leave:N,delayLeave:L}=T,O=()=>N(w,A);L?L(g.el,A,O):O()}else A()},Je=(g,m)=>{let w;for(;g!==m;)w=f(g),r(g),g=w;r(m)},Ye=(g,m,w)=>{const{bum:S,scope:T,job:A,subTree:N,um:L,m:O,a:M}=g;Ka(O),Ka(M),S&&ys(S),T.stop(),A&&(A.flags|=8,he(N,g,m,w)),L&&st(L,m),st(()=>{g.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},Ce=(g,m,w,S=!1,T=!1,A=0)=>{for(let N=A;N<g.length;N++)he(g[N],m,w,S,T)},x=g=>{if(g.shapeFlag&6)return x(g.component.subTree);if(g.shapeFlag&128)return g.suspense.next();const m=f(g.anchor||g.el),w=m&&m[Df];return w?f(w):m};let k=!1;const F=(g,m,w)=>{g==null?m._vnode&&he(m._vnode,null,null,!0):p(m._vnode||null,g,m,null,null,null,w),m._vnode=g,k||(k=!0,Da(),Xc(),k=!1)},K={p,um:he,m:ue,r:Ve,mt:B,mc:D,pc:$,pbc:re,n:x,o:t};let ne,xe;return{render:F,hydrate:ne,createApp:rd(F,ne)}}function Cs({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function hn({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function dd(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function au(t,e,n=!1){const i=t.children,r=e.children;if(ee(i)&&ee(r))for(let s=0;s<i.length;s++){const o=i[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=en(r[s]),a.el=o.el),!n&&a.patchFlag!==-2&&au(o,a)),a.type===Hr&&(a.el=o.el)}}function gd(t){const e=t.slice(),n=[0];let i,r,s,o,a;const l=t.length;for(i=0;i<l;i++){const u=t[i];if(u!==0){if(r=n[n.length-1],t[r]<u){e[i]=r,n.push(i);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,t[n[a]]<u?s=a+1:o=a;u<t[n[s]]&&(s>0&&(e[i]=n[s-1]),n[s]=i)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=e[o];return n}function lu(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:lu(e)}function Ka(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const _d=Symbol.for("v-scx"),md=()=>Xt(_d);function yr(t,e,n){return cu(t,e,n)}function cu(t,e,n=be){const{immediate:i,deep:r,flush:s,once:o}=n,a=ze({},n);let l;if($r)if(s==="sync"){const f=md();l=f.__watcherHandles||(f.__watcherHandles=[])}else if(!e||i)a.once=!0;else{const f=()=>{};return f.stop=Lt,f.resume=Lt,f.pause=Lt,f}const u=Ke;a.call=(f,d,_)=>Ot(f,u,d,_);let c=!1;s==="post"?a.scheduler=f=>{st(f,u&&u.suspense)}:s!=="sync"&&(c=!0,a.scheduler=(f,d)=>{d?f():No(f)}),a.augmentJob=f=>{e&&(f.flags|=4),c&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const h=Sf(t,e,a);return l&&l.push(h),h}function pd(t,e,n){const i=this.proxy,r=De(t)?t.includes(".")?uu(i,t):()=>i[t]:t.bind(i,i);let s;Q(e)?s=e:(s=e.handler,n=e);const o=Wi(this),a=cu(r,s.bind(i),n);return o(),a}function uu(t,e){const n=e.split(".");return()=>{let i=t;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}const yd=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${wt(e)}Modifiers`]||t[`${wn(e)}Modifiers`];function Ed(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||be;let r=n;const s=e.startsWith("update:"),o=s&&yd(i,e.slice(7));o&&(o.trim&&(r=n.map(c=>De(c)?c.trim():c)),o.number&&(r=n.map(Wh)));let a,l=i[a=ps(e)]||i[a=ps(wt(e))];!l&&s&&(l=i[a=ps(wn(e))]),l&&Ot(l,t,6,r);const u=i[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ot(u,t,6,r)}}function hu(t,e,n=!1){const i=e.emitsCache,r=i.get(t);if(r!==void 0)return r;const s=t.emits;let o={},a=!1;if(!Q(t)){const l=u=>{const c=hu(u,e,!0);c&&(a=!0,ze(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!s&&!a?(Pe(t)&&i.set(t,null),null):(ee(s)?s.forEach(l=>o[l]=null):ze(o,s),Pe(t)&&i.set(t,o),o)}function Br(t,e){return!t||!Gr(e)?!1:(e=e.slice(2).replace(/Once$/,""),de(t,e[0].toLowerCase()+e.slice(1))||de(t,wn(e))||de(t,e))}function xs(t){const{type:e,vnode:n,proxy:i,withProxy:r,propsOptions:[s],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:f,setupState:d,ctx:_,inheritAttrs:p}=t,v=xr(t);let E,y;try{if(n.shapeFlag&4){const R=r||i,I=R;E=At(u.call(I,R,c,h,d,f,_)),y=a}else{const R=e;E=At(R.length>1?R(h,{attrs:a,slots:o,emit:l}):R(h,null)),y=e.props?a:vd(a)}}catch(R){Ci.length=0,Yr(R,t,1),E=ft(Mi)}let C=E;if(y&&p!==!1){const R=Object.keys(y),{shapeFlag:I}=C;R.length&&I&7&&(s&&R.some(vo)&&(y=wd(y,s)),C=Bn(C,y,!1,!0))}return n.dirs&&(C=Bn(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(n.dirs):n.dirs),n.transition&&ko(C,n.transition),E=C,xr(v),E}const vd=t=>{let e;for(const n in t)(n==="class"||n==="style"||Gr(n))&&((e||(e={}))[n]=t[n]);return e},wd=(t,e)=>{const n={};for(const i in t)(!vo(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function Rd(t,e,n){const{props:i,children:r,component:s}=t,{props:o,children:a,patchFlag:l}=e,u=s.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?Xa(i,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const f=c[h];if(o[f]!==i[f]&&!Br(u,f))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?Xa(i,o,u):!0:!!o;return!1}function Xa(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(e[s]!==t[s]&&!Br(n,s))return!0}return!1}function Cd({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const fu=t=>t.__isSuspense;function xd(t,e){e&&e.pendingBranch?ee(t)?e.effects.push(...t):e.effects.push(t):Lf(t)}const zt=Symbol.for("v-fgt"),Hr=Symbol.for("v-txt"),Mi=Symbol.for("v-cmt"),Ts=Symbol.for("v-stc"),Ci=[];let lt=null;function jo(t=!1){Ci.push(lt=t?null:[])}function Td(){Ci.pop(),lt=Ci[Ci.length-1]||null}let Pi=1;function Ua(t){Pi+=t,t<0&&lt&&(lt.hasOnce=!0)}function du(t){return t.dynamicChildren=Pi>0?lt||jn:null,Td(),Pi>0&&lt&&lt.push(t),t}function bd(t,e,n,i,r,s){return du(mu(t,e,n,i,r,s,!0))}function gu(t,e,n,i,r){return du(ft(t,e,n,i,r,!0))}function no(t){return t?t.__v_isVNode===!0:!1}function ii(t,e){return t.type===e.type&&t.key===e.key}const _u=({key:t})=>t??null,Er=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?De(t)||Xe(t)||Q(t)?{i:pt,r:t,k:e,f:!!n}:t:null);function mu(t,e=null,n=null,i=0,r=null,s=t===zt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&_u(e),ref:e&&Er(e),scopeId:Vc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:pt};return a?(Ko(l,n),s&128&&t.normalize(l)):n&&(l.shapeFlag|=De(n)?8:16),Pi>0&&!o&&lt&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&lt.push(l),l}const ft=Id;function Id(t,e=null,n=null,i=0,r=null,s=!1){if((!t||t===Hf)&&(t=Mi),no(t)){const a=Bn(t,e,!0);return n&&Ko(a,n),Pi>0&&!s&&lt&&(a.shapeFlag&6?lt[lt.indexOf(t)]=a:lt.push(a)),a.patchFlag=-2,a}if(Gd(t)&&(t=t.__vccOpts),e){e=Ad(e);let{class:a,style:l}=e;a&&!De(a)&&(e.class=xo(a)),Pe(l)&&(Oo(l)&&!ee(l)&&(l=ze({},l)),e.style=Co(l))}const o=De(t)?1:fu(t)?128:Ff(t)?64:Pe(t)?4:Q(t)?2:0;return mu(t,e,n,i,r,o,s,!0)}function Ad(t){return t?Oo(t)||eu(t)?ze({},t):t:null}function Bn(t,e,n=!1,i=!1){const{props:r,ref:s,patchFlag:o,children:a,transition:l}=t,u=e?Md(r||{},e):r,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&_u(u),ref:e&&e.ref?n&&s?ee(s)?s.concat(Er(e)):[s,Er(e)]:Er(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==zt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Bn(t.ssContent),ssFallback:t.ssFallback&&Bn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&ko(c,l.clone(c)),c}function Sd(t=" ",e=0){return ft(Hr,null,t,e)}function At(t){return t==null||typeof t=="boolean"?ft(Mi):ee(t)?ft(zt,null,t.slice()):typeof t=="object"?en(t):ft(Hr,null,String(t))}function en(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Bn(t)}function Ko(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(ee(e))n=16;else if(typeof e=="object")if(i&65){const r=e.default;r&&(r._c&&(r._d=!1),Ko(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!eu(e)?e._ctx=pt:r===3&&pt&&(pt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Q(e)?(e={default:e,_ctx:pt},n=32):(e=String(e),i&64?(n=16,e=[Sd(e)]):n=8);t.children=e,t.shapeFlag|=n}function Md(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const r in i)if(r==="class")e.class!==i.class&&(e.class=xo([e.class,i.class]));else if(r==="style")e.style=Co([e.style,i.style]);else if(Gr(r)){const s=e[r],o=i[r];o&&s!==o&&!(ee(s)&&s.includes(o))&&(e[r]=s?[].concat(s,o):o)}else r!==""&&(e[r]=i[r])}return e}function bt(t,e,n,i=null){Ot(t,e,7,[n,i])}const Pd=qc();let Ld=0;function Od(t,e,n){const i=t.type,r=(e?e.appContext:t.appContext)||Pd,s={uid:Ld++,vnode:t,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new yc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:nu(i,r),emitsOptions:hu(i,r),emit:null,emitted:null,propsDefaults:be,inheritAttrs:i.inheritAttrs,ctx:be,data:be,props:be,attrs:be,slots:be,refs:be,setupState:be,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=Ed.bind(null,s),t.ce&&t.ce(s),s}let Ke=null,br,io;{const t=mc(),e=(n,i)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(i),s=>{r.length>1?r.forEach(o=>o(s)):r[0](s)}};br=e("__VUE_INSTANCE_SETTERS__",n=>Ke=n),io=e("__VUE_SSR_SETTERS__",n=>$r=n)}const Wi=t=>{const e=Ke;return br(t),t.scope.on(),()=>{t.scope.off(),br(e)}},Va=()=>{Ke&&Ke.scope.off(),br(null)};function pu(t){return t.vnode.shapeFlag&4}let $r=!1;function Dd(t,e=!1,n=!1){e&&io(e);const{props:i,children:r}=t.vnode,s=pu(t);sd(t,i,s,e),cd(t,r,n);const o=s?Fd(t,e):void 0;return e&&io(!1),o}function Fd(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,qf);const{setup:i}=n;if(i){const r=t.setupContext=i.length>1?kd(t):null,s=Wi(t);an();const o=Yi(i,t,0,[t.props,r]);if(ln(),s(),gc(o)){if(wi(t)||Yc(t),o.then(Va,Va),e)return o.then(a=>{Ya(t,a,e)}).catch(a=>{Yr(a,t,0)});t.asyncDep=o}else Ya(t,o,e)}else yu(t,e)}function Ya(t,e,n){Q(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Pe(e)&&(t.setupState=zc(e)),yu(t,n)}let Wa;function yu(t,e,n){const i=t.type;if(!t.render){if(!e&&Wa&&!i.render){const r=i.template||zo(t).template;if(r){const{isCustomElement:s,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=i,u=ze(ze({isCustomElement:s,delimiters:a},o),l);i.render=Wa(r,u)}}t.render=i.render||Lt}{const r=Wi(t);an();try{Jf(t)}finally{ln(),r()}}}const Nd={get(t,e){return Ue(t,"get",""),t[e]}};function kd(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Nd),slots:t.slots,emit:t.emit,expose:e}}function Xo(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(zc(Fc(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ri)return Ri[n](t)},has(e,n){return n in e||n in Ri}})):t.proxy}function zd(t,e=!0){return Q(t)?t.displayName||t.name:t.name||e&&t.__name}function Gd(t){return Q(t)&&"__vccOpts"in t}const _t=(t,e)=>If(t,e,$r);function Eu(t,e,n){const i=arguments.length;return i===2?Pe(e)&&!ee(e)?no(e)?ft(t,null,[e]):ft(t,e):ft(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&no(n)&&(n=[n]),ft(t,e,n))}const jd="3.5.6";/**
* @vue/runtime-dom v3.5.6
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ro;const Za=typeof window<"u"&&window.trustedTypes;if(Za)try{ro=Za.createPolicy("vue",{createHTML:t=>t})}catch{}const vu=ro?t=>ro.createHTML(t):t=>t,Kd="http://www.w3.org/2000/svg",Xd="http://www.w3.org/1998/Math/MathML",kt=typeof document<"u"?document:null,Ba=kt&&kt.createElement("template"),Ud={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const r=e==="svg"?kt.createElementNS(Kd,t):e==="mathml"?kt.createElementNS(Xd,t):n?kt.createElement(t,{is:n}):kt.createElement(t);return t==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:t=>kt.createTextNode(t),createComment:t=>kt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>kt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,r,s){const o=n?n.previousSibling:e.lastChild;if(r&&(r===s||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{Ba.innerHTML=vu(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const a=Ba.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Vd=Symbol("_vtc");function Yd(t,e,n){const i=t[Vd];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Ha=Symbol("_vod"),Wd=Symbol("_vsh"),Zd=Symbol(""),Bd=/(^|;)\s*display\s*:/;function Hd(t,e,n){const i=t.style,r=De(n);let s=!1;if(n&&!r){if(e)if(De(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&vr(i,a,"")}else for(const o in e)n[o]==null&&vr(i,o,"");for(const o in n)o==="display"&&(s=!0),vr(i,o,n[o])}else if(r){if(e!==n){const o=i[Zd];o&&(n+=";"+o),i.cssText=n,s=Bd.test(n)}}else e&&t.removeAttribute("style");Ha in t&&(t[Ha]=s?i.display:"",t[Wd]&&(i.display="none"))}const $a=/\s*!important$/;function vr(t,e,n){if(ee(n))n.forEach(i=>vr(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=$d(t,e);$a.test(n)?t.setProperty(wn(i),n.replace($a,""),"important"):t[i]=n}}const qa=["Webkit","Moz","ms"],bs={};function $d(t,e){const n=bs[e];if(n)return n;let i=wt(e);if(i!=="filter"&&i in t)return bs[e]=i;i=Xr(i);for(let r=0;r<qa.length;r++){const s=qa[r]+i;if(s in t)return bs[e]=s}return e}const Ja="http://www.w3.org/1999/xlink";function Qa(t,e,n,i,r,s=Jh(e)){i&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(Ja,e.slice(6,e.length)):t.setAttributeNS(Ja,e,n):n==null||s&&!pc(n)?t.removeAttribute(e):t.setAttribute(e,s?"":Jn(n)?String(n):n)}function qd(t,e,n,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?vu(n):n);return}const r=t.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const o=r==="OPTION"?t.getAttribute("value")||"":t.value,a=n==null?t.type==="checkbox"?"on":"":String(n);(o!==a||!("_value"in t))&&(t.value=a),n==null&&t.removeAttribute(e),t._value=n;return}let s=!1;if(n===""||n==null){const o=typeof t[e];o==="boolean"?n=pc(n):n==null&&o==="string"?(n="",s=!0):o==="number"&&(n=0,s=!0)}try{t[e]=n}catch{}s&&t.removeAttribute(e)}function Jd(t,e,n,i){t.addEventListener(e,n,i)}function Qd(t,e,n,i){t.removeEventListener(e,n,i)}const el=Symbol("_vei");function eg(t,e,n,i,r=null){const s=t[el]||(t[el]={}),o=s[e];if(i&&o)o.value=i;else{const[a,l]=tg(e);if(i){const u=s[e]=rg(i,r);Jd(t,a,u,l)}else o&&(Qd(t,a,o,l),s[e]=void 0)}}const tl=/(?:Once|Passive|Capture)$/;function tg(t){let e;if(tl.test(t)){e={};let i;for(;i=t.match(tl);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):wn(t.slice(2)),e]}let Is=0;const ng=Promise.resolve(),ig=()=>Is||(ng.then(()=>Is=0),Is=Date.now());function rg(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Ot(sg(i,n.value),e,5,[i])};return n.value=t,n.attached=ig(),n}function sg(t,e){if(ee(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>r=>!r._stopped&&i&&i(r))}else return e}const nl=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,og=(t,e,n,i,r,s)=>{const o=r==="svg";e==="class"?Yd(t,i,o):e==="style"?Hd(t,n,i):Gr(e)?vo(e)||eg(t,e,n,i,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):ag(t,e,i,o))?(qd(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Qa(t,e,i,o,s,e!=="value")):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),Qa(t,e,i,o))};function ag(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&nl(e)&&Q(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return nl(e)&&De(n)?!1:!!(e in t||t._isVueCE&&(/[A-Z]/.test(e)||!De(n)))}const lg=ze({patchProp:og},Ud);let il;function cg(){return il||(il=hd(lg))}const ug=(...t)=>{const e=cg().createApp(...t),{mount:n}=e;return e.mount=i=>{const r=fg(i);if(!r)return;const s=e._component;!Q(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=n(r,!1,hg(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function hg(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function fg(t){return De(t)?document.querySelector(t):t}const dg=(t,e)=>{const n=t.__vccOpts||t;for(const[i,r]of e)n[i]=r;return n},gg={};function _g(t,e){const n=Bf("router-view");return jo(),gu(n)}const mg=dg(gg,[["render",_g]]);/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Fn=typeof document<"u";function wu(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function pg(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&wu(t.default)}const Ee=Object.assign;function As(t,e){const n={};for(const i in e){const r=e[i];n[i]=Rt(r)?r.map(t):t(r)}return n}const xi=()=>{},Rt=Array.isArray,Ru=/#/g,yg=/&/g,Eg=/\//g,vg=/=/g,wg=/\?/g,Cu=/\+/g,Rg=/%5B/g,Cg=/%5D/g,xu=/%5E/g,xg=/%60/g,Tu=/%7B/g,Tg=/%7C/g,bu=/%7D/g,bg=/%20/g;function Uo(t){return encodeURI(""+t).replace(Tg,"|").replace(Rg,"[").replace(Cg,"]")}function Ig(t){return Uo(t).replace(Tu,"{").replace(bu,"}").replace(xu,"^")}function so(t){return Uo(t).replace(Cu,"%2B").replace(bg,"+").replace(Ru,"%23").replace(yg,"%26").replace(xg,"`").replace(Tu,"{").replace(bu,"}").replace(xu,"^")}function Ag(t){return so(t).replace(vg,"%3D")}function Sg(t){return Uo(t).replace(Ru,"%23").replace(wg,"%3F")}function Mg(t){return t==null?"":Sg(t).replace(Eg,"%2F")}function Li(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Pg=/\/$/,Lg=t=>t.replace(Pg,"");function Ss(t,e,n="/"){let i,r={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),r=t(s)),a>-1&&(i=i||e.slice(0,a),o=e.slice(a,e.length)),i=Ng(i??e,n),{fullPath:i+(s&&"?")+s+o,path:i,query:r,hash:Li(o)}}function Og(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function rl(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Dg(t,e,n){const i=e.matched.length-1,r=n.matched.length-1;return i>-1&&i===r&&Hn(e.matched[i],n.matched[r])&&Iu(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function Hn(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Iu(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Fg(t[n],e[n]))return!1;return!0}function Fg(t,e){return Rt(t)?sl(t,e):Rt(e)?sl(e,t):t===e}function sl(t,e){return Rt(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function Ng(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),r=i[i.length-1];(r===".."||r===".")&&i.push("");let s=n.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+i.slice(o).join("/")}const Bt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Oi;(function(t){t.pop="pop",t.push="push"})(Oi||(Oi={}));var Ti;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ti||(Ti={}));function kg(t){if(!t)if(Fn){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Lg(t)}const zg=/^[^#]+#/;function Gg(t,e){return t.replace(zg,"#")+e}function jg(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const qr=()=>({left:window.scrollX,top:window.scrollY});function Kg(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=jg(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function ol(t,e){return(history.state?history.state.position-e:-1)+t}const oo=new Map;function Xg(t,e){oo.set(t,e)}function Ug(t){const e=oo.get(t);return oo.delete(t),e}let Vg=()=>location.protocol+"//"+location.host;function Au(t,e){const{pathname:n,search:i,hash:r}=e,s=t.indexOf("#");if(s>-1){let a=r.includes(t.slice(s))?t.slice(s).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),rl(l,"")}return rl(n,t)+i+r}function Yg(t,e,n,i){let r=[],s=[],o=null;const a=({state:f})=>{const d=Au(t,location),_=n.value,p=e.value;let v=0;if(f){if(n.value=d,e.value=f,o&&o===_){o=null;return}v=p?f.position-p.position:0}else i(d);r.forEach(E=>{E(n.value,_,{delta:v,type:Oi.pop,direction:v?v>0?Ti.forward:Ti.back:Ti.unknown})})};function l(){o=n.value}function u(f){r.push(f);const d=()=>{const _=r.indexOf(f);_>-1&&r.splice(_,1)};return s.push(d),d}function c(){const{history:f}=window;f.state&&f.replaceState(Ee({},f.state,{scroll:qr()}),"")}function h(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function al(t,e,n,i=!1,r=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:r?qr():null}}function Wg(t){const{history:e,location:n}=window,i={value:Au(t,n)},r={value:e.state};r.value||s(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:Vg()+t+l;try{e[c?"replaceState":"pushState"](u,"",f),r.value=u}catch(d){console.error(d),n[c?"replace":"assign"](f)}}function o(l,u){const c=Ee({},e.state,al(r.value.back,l,r.value.forward,!0),u,{position:r.value.position});s(l,c,!0),i.value=l}function a(l,u){const c=Ee({},r.value,e.state,{forward:l,scroll:qr()});s(c.current,c,!0);const h=Ee({},al(i.value,l,null),{position:c.position+1},u);s(l,h,!1),i.value=l}return{location:i,state:r,push:a,replace:o}}function Zg(t){t=kg(t);const e=Wg(t),n=Yg(t,e.state,e.location,e.replace);function i(s,o=!0){o||n.pauseListeners(),history.go(s)}const r=Ee({location:"",base:t,go:i,createHref:Gg.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function Bg(t){return typeof t=="string"||t&&typeof t=="object"}function Su(t){return typeof t=="string"||typeof t=="symbol"}const Mu=Symbol("");var ll;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(ll||(ll={}));function $n(t,e){return Ee(new Error,{type:t,[Mu]:!0},e)}function Ft(t,e){return t instanceof Error&&Mu in t&&(e==null||!!(t.type&e))}const cl="[^/]+?",Hg={sensitive:!1,strict:!1,start:!0,end:!0},$g=/[.+*?^${}()[\]/\\]/g;function qg(t,e){const n=Ee({},Hg,e),i=[];let r=n.start?"^":"";const s=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(r+="/");for(let h=0;h<u.length;h++){const f=u[h];let d=40+(n.sensitive?.25:0);if(f.type===0)h||(r+="/"),r+=f.value.replace($g,"\\$&"),d+=40;else if(f.type===1){const{value:_,repeatable:p,optional:v,regexp:E}=f;s.push({name:_,repeatable:p,optional:v});const y=E||cl;if(y!==cl){d+=10;try{new RegExp(`(${y})`)}catch(R){throw new Error(`Invalid custom RegExp for param "${_}" (${y}): `+R.message)}}let C=p?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;h||(C=v&&u.length<2?`(?:/${C})`:"/"+C),v&&(C+="?"),r+=C,d+=20,v&&(d+=-8),p&&(d+=-20),y===".*"&&(d+=-50)}c.push(d)}i.push(c)}if(n.strict&&n.end){const u=i.length-1;i[u][i[u].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let f=1;f<c.length;f++){const d=c[f]||"",_=s[f-1];h[_.name]=d&&_.repeatable?d.split("/"):d}return h}function l(u){let c="",h=!1;for(const f of t){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const d of f)if(d.type===0)c+=d.value;else if(d.type===1){const{value:_,repeatable:p,optional:v}=d,E=_ in u?u[_]:"";if(Rt(E)&&!p)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const y=Rt(E)?E.join("/"):E;if(!y)if(v)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${_}"`);c+=y}}return c||"/"}return{re:o,score:i,keys:s,parse:a,stringify:l}}function Jg(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Pu(t,e){let n=0;const i=t.score,r=e.score;for(;n<i.length&&n<r.length;){const s=Jg(i[n],r[n]);if(s)return s;n++}if(Math.abs(r.length-i.length)===1){if(ul(i))return 1;if(ul(r))return-1}return r.length-i.length}function ul(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Qg={type:0,value:""},e_=/[a-zA-Z0-9_]/;function t_(t){if(!t)return[[]];if(t==="/")return[[Qg]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${n})/"${u}": ${d}`)}let n=0,i=n;const r=[];let s;function o(){s&&r.push(s),s=[]}let a=0,l,u="",c="";function h(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=i;break;case 1:l==="("?n=2:e_.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),h(),o(),r}function n_(t,e,n){const i=qg(t_(t.path),n),r=Ee(i,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function i_(t,e){const n=[],i=new Map;e=gl({strict:!1,end:!0,sensitive:!1},e);function r(h){return i.get(h)}function s(h,f,d){const _=!d,p=fl(h);p.aliasOf=d&&d.record;const v=gl(e,h),E=[p];if("alias"in h){const R=typeof h.alias=="string"?[h.alias]:h.alias;for(const I of R)E.push(fl(Ee({},p,{components:d?d.record.components:p.components,path:I,aliasOf:d?d.record:p})))}let y,C;for(const R of E){const{path:I}=R;if(f&&I[0]!=="/"){const X=f.record.path,P=X[X.length-1]==="/"?"":"/";R.path=f.record.path+(I&&P+I)}if(y=n_(R,f,v),d?d.alias.push(y):(C=C||y,C!==y&&C.alias.push(y),_&&h.name&&!dl(y)&&o(h.name)),Lu(y)&&l(y),p.children){const X=p.children;for(let P=0;P<X.length;P++)s(X[P],y,d&&d.children[P])}d=d||y}return C?()=>{o(C)}:xi}function o(h){if(Su(h)){const f=i.get(h);f&&(i.delete(h),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(h);f>-1&&(n.splice(f,1),h.record.name&&i.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return n}function l(h){const f=o_(h,n);n.splice(f,0,h),h.record.name&&!dl(h)&&i.set(h.record.name,h)}function u(h,f){let d,_={},p,v;if("name"in h&&h.name){if(d=i.get(h.name),!d)throw $n(1,{location:h});v=d.record.name,_=Ee(hl(f.params,d.keys.filter(C=>!C.optional).concat(d.parent?d.parent.keys.filter(C=>C.optional):[]).map(C=>C.name)),h.params&&hl(h.params,d.keys.map(C=>C.name))),p=d.stringify(_)}else if(h.path!=null)p=h.path,d=n.find(C=>C.re.test(p)),d&&(_=d.parse(p),v=d.record.name);else{if(d=f.name?i.get(f.name):n.find(C=>C.re.test(f.path)),!d)throw $n(1,{location:h,currentLocation:f});v=d.record.name,_=Ee({},f.params,h.params),p=d.stringify(_)}const E=[];let y=d;for(;y;)E.unshift(y.record),y=y.parent;return{name:v,path:p,params:_,matched:E,meta:s_(E)}}t.forEach(h=>s(h));function c(){n.length=0,i.clear()}return{addRoute:s,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:r}}function hl(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function fl(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:r_(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function r_(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function dl(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function s_(t){return t.reduce((e,n)=>Ee(e,n.meta),{})}function gl(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function o_(t,e){let n=0,i=e.length;for(;n!==i;){const s=n+i>>1;Pu(t,e[s])<0?i=s:n=s+1}const r=a_(t);return r&&(i=e.lastIndexOf(r,i-1)),i}function a_(t){let e=t;for(;e=e.parent;)if(Lu(e)&&Pu(t,e)===0)return e}function Lu({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function l_(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<i.length;++r){const s=i[r].replace(Cu," "),o=s.indexOf("="),a=Li(o<0?s:s.slice(0,o)),l=o<0?null:Li(s.slice(o+1));if(a in e){let u=e[a];Rt(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function _l(t){let e="";for(let n in t){const i=t[n];if(n=Ag(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(Rt(i)?i.map(s=>s&&so(s)):[i&&so(i)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+n,s!=null&&(e+="="+s))})}return e}function c_(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=Rt(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return e}const u_=Symbol(""),ml=Symbol(""),Vo=Symbol(""),Ou=Symbol(""),ao=Symbol("");function ri(){let t=[];function e(i){return t.push(i),()=>{const r=t.indexOf(i);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function tn(t,e,n,i,r,s=o=>o()){const o=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l($n(4,{from:n,to:e})):f instanceof Error?l(f):Bg(f)?l($n(2,{from:e,to:f})):(o&&i.enterCallbacks[r]===o&&typeof f=="function"&&o.push(f),a())},c=s(()=>t.call(i&&i.instances[r],e,n,u));let h=Promise.resolve(c);t.length<3&&(h=h.then(u)),h.catch(f=>l(f))})}function Ms(t,e,n,i,r=s=>s()){const s=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(wu(l)){const c=(l.__vccOpts||l)[e];c&&s.push(tn(c,n,i,o,a,r))}else{let u=l();s.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=pg(c)?c.default:c;o.mods[a]=c,o.components[a]=h;const d=(h.__vccOpts||h)[e];return d&&tn(d,n,i,o,a,r)()}))}}return s}function pl(t){const e=Xt(Vo),n=Xt(Ou),i=_t(()=>{const l=Kn(t.to);return e.resolve(l)}),r=_t(()=>{const{matched:l}=i.value,{length:u}=l,c=l[u-1],h=n.matched;if(!c||!h.length)return-1;const f=h.findIndex(Hn.bind(null,c));if(f>-1)return f;const d=yl(l[u-2]);return u>1&&yl(c)===d&&h[h.length-1].path!==d?h.findIndex(Hn.bind(null,l[u-2])):f}),s=_t(()=>r.value>-1&&g_(n.params,i.value.params)),o=_t(()=>r.value>-1&&r.value===n.matched.length-1&&Iu(n.params,i.value.params));function a(l={}){return d_(l)?e[Kn(t.replace)?"replace":"push"](Kn(t.to)).catch(xi):Promise.resolve()}return{route:i,href:_t(()=>i.value.href),isActive:s,isExactActive:o,navigate:a}}const h_=Wr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:pl,setup(t,{slots:e}){const n=Vr(pl(t)),{options:i}=Xt(Vo),r=_t(()=>({[El(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[El(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=e.default&&e.default(n);return t.custom?s:Eu("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},s)}}}),f_=h_;function d_(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function g_(t,e){for(const n in e){const i=e[n],r=t[n];if(typeof i=="string"){if(i!==r)return!1}else if(!Rt(r)||r.length!==i.length||i.some((s,o)=>s!==r[o]))return!1}return!0}function yl(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const El=(t,e,n)=>t??e??n,__=Wr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=Xt(ao),r=_t(()=>t.route||i.value),s=Xt(ml,0),o=_t(()=>{let u=Kn(s);const{matched:c}=r.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),a=_t(()=>r.value.matched[o.value]);pr(ml,_t(()=>o.value+1)),pr(u_,a),pr(ao,r);const l=Nc();return yr(()=>[l.value,a.value,t.name],([u,c,h],[f,d,_])=>{c&&(c.instances[h]=u,d&&d!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=d.leaveGuards),c.updateGuards.size||(c.updateGuards=d.updateGuards))),u&&c&&(!d||!Hn(c,d)||!f)&&(c.enterCallbacks[h]||[]).forEach(p=>p(u))},{flush:"post"}),()=>{const u=r.value,c=t.name,h=a.value,f=h&&h.components[c];if(!f)return vl(n.default,{Component:f,route:u});const d=h.props[c],_=d?d===!0?u.params:typeof d=="function"?d(u):d:null,v=Eu(f,Ee({},_,e,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return vl(n.default,{Component:v,route:u})||v}}});function vl(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const m_=__;function p_(t){const e=i_(t.routes,t),n=t.parseQuery||l_,i=t.stringifyQuery||_l,r=t.history,s=ri(),o=ri(),a=ri(),l=Cf(Bt);let u=Bt;Fn&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=As.bind(null,x=>""+x),h=As.bind(null,Mg),f=As.bind(null,Li);function d(x,k){let F,K;return Su(x)?(F=e.getRecordMatcher(x),K=k):K=x,e.addRoute(K,F)}function _(x){const k=e.getRecordMatcher(x);k&&e.removeRoute(k)}function p(){return e.getRoutes().map(x=>x.record)}function v(x){return!!e.getRecordMatcher(x)}function E(x,k){if(k=Ee({},k||l.value),typeof x=="string"){const m=Ss(n,x,k.path),w=e.resolve({path:m.path},k),S=r.createHref(m.fullPath);return Ee(m,w,{params:f(w.params),hash:Li(m.hash),redirectedFrom:void 0,href:S})}let F;if(x.path!=null)F=Ee({},x,{path:Ss(n,x.path,k.path).path});else{const m=Ee({},x.params);for(const w in m)m[w]==null&&delete m[w];F=Ee({},x,{params:h(m)}),k.params=h(k.params)}const K=e.resolve(F,k),ne=x.hash||"";K.params=c(f(K.params));const xe=Og(i,Ee({},x,{hash:Ig(ne),path:K.path})),g=r.createHref(xe);return Ee({fullPath:xe,hash:ne,query:i===_l?c_(x.query):x.query||{}},K,{redirectedFrom:void 0,href:g})}function y(x){return typeof x=="string"?Ss(n,x,l.value.path):Ee({},x)}function C(x,k){if(u!==x)return $n(8,{from:k,to:x})}function R(x){return P(x)}function I(x){return R(Ee(y(x),{replace:!0}))}function X(x){const k=x.matched[x.matched.length-1];if(k&&k.redirect){const{redirect:F}=k;let K=typeof F=="function"?F(x):F;return typeof K=="string"&&(K=K.includes("?")||K.includes("#")?K=y(K):{path:K},K.params={}),Ee({query:x.query,hash:x.hash,params:K.path!=null?{}:x.params},K)}}function P(x,k){const F=u=E(x),K=l.value,ne=x.state,xe=x.force,g=x.replace===!0,m=X(F);if(m)return P(Ee(y(m),{state:typeof m=="object"?Ee({},ne,m.state):ne,force:xe,replace:g}),k||F);const w=F;w.redirectedFrom=k;let S;return!xe&&Dg(i,K,F)&&(S=$n(16,{to:w,from:K}),ue(K,K,!0,!1)),(S?Promise.resolve(S):re(w,K)).catch(T=>Ft(T)?Ft(T,2)?T:me(T):$(T,w,K)).then(T=>{if(T){if(Ft(T,2))return P(Ee({replace:g},y(T.to),{state:typeof T.to=="object"?Ee({},ne,T.to.state):ne,force:xe}),k||w)}else T=ce(w,K,!0,g,ne);return le(w,K,T),T})}function D(x,k){const F=C(x,k);return F?Promise.reject(F):Promise.resolve()}function U(x){const k=Je.values().next().value;return k&&typeof k.runWithContext=="function"?k.runWithContext(x):x()}function re(x,k){let F;const[K,ne,xe]=y_(x,k);F=Ms(K.reverse(),"beforeRouteLeave",x,k);for(const m of K)m.leaveGuards.forEach(w=>{F.push(tn(w,x,k))});const g=D.bind(null,x,k);return F.push(g),Ce(F).then(()=>{F=[];for(const m of s.list())F.push(tn(m,x,k));return F.push(g),Ce(F)}).then(()=>{F=Ms(ne,"beforeRouteUpdate",x,k);for(const m of ne)m.updateGuards.forEach(w=>{F.push(tn(w,x,k))});return F.push(g),Ce(F)}).then(()=>{F=[];for(const m of xe)if(m.beforeEnter)if(Rt(m.beforeEnter))for(const w of m.beforeEnter)F.push(tn(w,x,k));else F.push(tn(m.beforeEnter,x,k));return F.push(g),Ce(F)}).then(()=>(x.matched.forEach(m=>m.enterCallbacks={}),F=Ms(xe,"beforeRouteEnter",x,k,U),F.push(g),Ce(F))).then(()=>{F=[];for(const m of o.list())F.push(tn(m,x,k));return F.push(g),Ce(F)}).catch(m=>Ft(m,8)?m:Promise.reject(m))}function le(x,k,F){a.list().forEach(K=>U(()=>K(x,k,F)))}function ce(x,k,F,K,ne){const xe=C(x,k);if(xe)return xe;const g=k===Bt,m=Fn?history.state:{};F&&(K||g?r.replace(x.fullPath,Ee({scroll:g&&m&&m.scroll},ne)):r.push(x.fullPath,ne)),l.value=x,ue(x,k,F,g),me()}let te;function B(){te||(te=r.listen((x,k,F)=>{if(!Ye.listening)return;const K=E(x),ne=X(K);if(ne){P(Ee(ne,{replace:!0}),K).catch(xi);return}u=K;const xe=l.value;Fn&&Xg(ol(xe.fullPath,F.delta),qr()),re(K,xe).catch(g=>Ft(g,12)?g:Ft(g,2)?(P(g.to,K).then(m=>{Ft(m,20)&&!F.delta&&F.type===Oi.pop&&r.go(-1,!1)}).catch(xi),Promise.reject()):(F.delta&&r.go(-F.delta,!1),$(g,K,xe))).then(g=>{g=g||ce(K,xe,!1),g&&(F.delta&&!Ft(g,8)?r.go(-F.delta,!1):F.type===Oi.pop&&Ft(g,20)&&r.go(-1,!1)),le(K,xe,g)}).catch(xi)}))}let we=ri(),Y=ri(),H;function $(x,k,F){me(x);const K=Y.list();return K.length?K.forEach(ne=>ne(x,k,F)):console.error(x),Promise.reject(x)}function Me(){return H&&l.value!==Bt?Promise.resolve():new Promise((x,k)=>{we.add([x,k])})}function me(x){return H||(H=!x,B(),we.list().forEach(([k,F])=>x?F(x):k()),we.reset()),x}function ue(x,k,F,K){const{scrollBehavior:ne}=t;if(!Fn||!ne)return Promise.resolve();const xe=!F&&Ug(ol(x.fullPath,0))||(K||!F)&&history.state&&history.state.scroll||null;return jc().then(()=>ne(x,k,xe)).then(g=>g&&Kg(g)).catch(g=>$(g,x,k))}const he=x=>r.go(x);let Ve;const Je=new Set,Ye={currentRoute:l,listening:!0,addRoute:d,removeRoute:_,clearRoutes:e.clearRoutes,hasRoute:v,getRoutes:p,resolve:E,options:t,push:R,replace:I,go:he,back:()=>he(-1),forward:()=>he(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:Y.add,isReady:Me,install(x){const k=this;x.component("RouterLink",f_),x.component("RouterView",m_),x.config.globalProperties.$router=k,Object.defineProperty(x.config.globalProperties,"$route",{enumerable:!0,get:()=>Kn(l)}),Fn&&!Ve&&l.value===Bt&&(Ve=!0,R(r.location).catch(ne=>{}));const F={};for(const ne in Bt)Object.defineProperty(F,ne,{get:()=>l.value[ne],enumerable:!0});x.provide(Vo,k),x.provide(Ou,Oc(F)),x.provide(ao,l);const K=x.unmount;Je.add(x),x.unmount=function(){Je.delete(x),Je.size<1&&(u=Bt,te&&te(),te=null,l.value=Bt,Ve=!1,H=!1),K()}}};function Ce(x){return x.reduce((k,F)=>k.then(()=>U(F)),Promise.resolve())}return Ye}function y_(t,e){const n=[],i=[],r=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(u=>Hn(u,a))?i.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>Hn(u,l))||r.push(l))}return[n,i,r]}class cn{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const Di={PROPERTYCHANGE:"propertychange"};class Yo{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function Jr(t,e){return t>e?1:t<e?-1:0}function Wo(t,e,n){if(t[0]<=e)return 0;const i=t.length;if(e<=t[i-1])return i-1;if(typeof n=="function"){for(let r=1;r<i;++r){const s=t[r];if(s===e)return r;if(s<e)return n(e,t[r-1],s)>0?r-1:r}return i-1}if(n>0){for(let r=1;r<i;++r)if(t[r]<e)return r-1;return i-1}if(n<0){for(let r=1;r<i;++r)if(t[r]<=e)return r;return i-1}for(let r=1;r<i;++r){if(t[r]==e)return r;if(t[r]<e)return t[r-1]-e<e-t[r]?r-1:r}return i-1}function E_(t,e){const n=Array.isArray(e)?e:[e],i=n.length;for(let r=0;r<i;r++)t[t.length]=n[r]}function Qr(t,e){const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function v_(t,e,n){const i=e||Jr;return t.every(function(r,s){if(s===0)return!0;const o=i(t[s-1],r);return!(o>0||o===0)})}function Ir(){return!0}function es(){return!1}function Ar(){}function w_(t){let e,n,i;return function(){const r=Array.prototype.slice.call(arguments);return(!n||this!==i||!Qr(r,n))&&(i=this,n=r,e=t.apply(this,arguments)),e}}function R_(t){function e(){let n;try{n=t()}catch(i){return Promise.reject(i)}return n instanceof Promise?n:Promise.resolve(n)}return e()}function ts(t){for(const e in t)delete t[e]}function Du(t){let e;for(e in t)return!1;return!e}class ns extends Yo{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,n){if(!e||!n)return;const i=this.listeners_||(this.listeners_={}),r=i[e]||(i[e]=[]);r.includes(n)||r.push(n)}dispatchEvent(e){const n=typeof e=="string",i=n?e:e.type,r=this.listeners_&&this.listeners_[i];if(!r)return;const s=n?new cn(e):e;s.target||(s.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});i in o||(o[i]=0,a[i]=0),++o[i];let l;for(let u=0,c=r.length;u<c;++u)if("handleEvent"in r[u]?l=r[u].handleEvent(s):l=r[u].call(this,s),l===!1||s.propagationStopped){l=!1;break}if(--o[i]===0){let u=a[i];for(delete a[i];u--;)this.removeEventListener(i,Ar);delete o[i]}return l}disposeInternal(){this.listeners_&&ts(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,n){if(!this.listeners_)return;const i=this.listeners_[e];if(!i)return;const r=i.indexOf(n);r!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[r]=Ar,++this.pendingRemovals_[e]):(i.splice(r,1),i.length===0&&delete this.listeners_[e]))}}const J={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function ge(t,e,n,i,r){if(r){const o=n;n=function(){t.removeEventListener(e,n),o.apply(i??this,arguments)}}else i&&i!==t&&(n=n.bind(i));const s={target:t,type:e,listener:n};return t.addEventListener(e,n),s}function Sr(t,e,n,i){return ge(t,e,n,i,!0)}function Ae(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),ts(t))}class Zi extends ns{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(J.CHANGE)}getRevision(){return this.revision_}onInternal(e,n){if(Array.isArray(e)){const i=e.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=ge(this,e[s],n);return r}return ge(this,e,n)}onceInternal(e,n){let i;if(Array.isArray(e)){const r=e.length;i=new Array(r);for(let s=0;s<r;++s)i[s]=Sr(this,e[s],n)}else i=Sr(this,e,n);return n.ol_key=i,i}unInternal(e,n){const i=n.ol_key;if(i)C_(i);else if(Array.isArray(e))for(let r=0,s=e.length;r<s;++r)this.removeEventListener(e[r],n);else this.removeEventListener(e,n)}}Zi.prototype.on;Zi.prototype.once;Zi.prototype.un;function C_(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)Ae(t[e]);else Ae(t)}function ae(){throw new Error("Unimplemented abstract method.")}let x_=0;function He(t){return t.ol_uid||(t.ol_uid=String(++x_))}class wl extends cn{constructor(e,n,i){super(e),this.key=n,this.oldValue=i}}class Yt extends Zi{constructor(e){super(),this.on,this.once,this.un,He(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,n){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new wl(i,e,n)),i=Di.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new wl(i,e,n))}addChangeListener(e,n){this.addEventListener(`change:${e}`,n)}removeChangeListener(e,n){this.removeEventListener(`change:${e}`,n)}set(e,n,i){const r=this.values_||(this.values_={});if(i)r[e]=n;else{const s=r[e];r[e]=n,s!==n&&this.notify(e,s)}}setProperties(e,n){for(const i in e)this.set(i,e[i],n)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,n){if(this.values_&&e in this.values_){const i=this.values_[e];delete this.values_[e],Du(this.values_)&&(this.values_=null),n||this.notify(e,i)}}}const ht={ADD:"add",REMOVE:"remove"},Rl={LENGTH:"length"};class ar extends cn{constructor(e,n,i){super(e),this.element=n,this.index=i}}class jt extends Yt{constructor(e,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=e||[],this.unique_)for(let i=0,r=this.array_.length;i<r;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let n=0,i=e.length;n<i;++n)this.push(e[n]);return this}forEach(e){const n=this.array_;for(let i=0,r=n.length;i<r;++i)e(n[i],i,n)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(Rl.LENGTH)}insertAt(e,n){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new ar(ht.ADD,n,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const n=this.getLength();return this.insertAt(n,e),this.getLength()}remove(e){const n=this.array_;for(let i=0,r=n.length;i<r;++i)if(n[i]===e)return this.removeAt(i)}removeAt(e){if(e<0||e>=this.getLength())return;const n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new ar(ht.REMOVE,n,e)),n}setAt(e,n){const i=this.getLength();if(e>=i){this.insertAt(e,n);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n,e);const r=this.array_[e];this.array_[e]=n,this.dispatchEvent(new ar(ht.REMOVE,r,e)),this.dispatchEvent(new ar(ht.ADD,n,e))}updateLength_(){this.set(Rl.LENGTH,this.array_.length)}assertUnique_(e,n){for(let i=0,r=this.array_.length;i<r;++i)if(this.array_[i]===e&&i!==n)throw new Error("Duplicate item added to a unique collection")}}const ye={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};function ve(t,e){if(!t)throw new Error(e)}function Le(t,e,n){return Math.min(Math.max(t,e),n)}function T_(t,e,n,i,r,s){const o=r-n,a=s-i;if(o!==0||a!==0){const l=((t-n)*o+(e-i)*a)/(o*o+a*a);l>1?(n=r,i=s):l>0&&(n+=o*l,i+=a*l)}return Vn(t,e,n,i)}function Vn(t,e,n,i){const r=n-t,s=i-e;return r*r+s*s}function b_(t){const e=t.length;for(let i=0;i<e;i++){let r=i,s=Math.abs(t[i][i]);for(let a=i+1;a<e;a++){const l=Math.abs(t[a][i]);l>s&&(s=l,r=a)}if(s===0)return null;const o=t[r];t[r]=t[i],t[i]=o;for(let a=i+1;a<e;a++){const l=-t[a][i]/t[i][i];for(let u=i;u<e+1;u++)i==u?t[a][u]=0:t[a][u]+=l*t[i][u]}}const n=new Array(e);for(let i=e-1;i>=0;i--){n[i]=t[i][e]/t[i][i];for(let r=i-1;r>=0;r--)t[r][e]-=t[r][i]*n[i]}return n}function wr(t){return t*Math.PI/180}function Yn(t,e){const n=t%e;return n*e<0?n+e:n}function I_(t,e,n){return t+n*(e-t)}function Fu(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function lr(t,e){return Math.floor(Fu(t,e))}function cr(t,e){return Math.ceil(Fu(t,e))}class Nu extends Yt{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const n=Object.assign({},e);typeof e.properties=="object"&&(delete n.properties,Object.assign(n,e.properties)),n[ye.OPACITY]=e.opacity!==void 0?e.opacity:1,ve(typeof n[ye.OPACITY]=="number","Layer opacity must be a number"),n[ye.VISIBLE]=e.visible!==void 0?e.visible:!0,n[ye.Z_INDEX]=e.zIndex,n[ye.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,n[ye.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,n[ye.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,n[ye.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const n=this.state_||{layer:this,managed:e===void 0?!0:e},i=this.getZIndex();return n.opacity=Le(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=i===void 0&&!n.managed?1/0:i,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(e){return ae()}getLayerStatesArray(e){return ae()}getExtent(){return this.get(ye.EXTENT)}getMaxResolution(){return this.get(ye.MAX_RESOLUTION)}getMinResolution(){return this.get(ye.MIN_RESOLUTION)}getMinZoom(){return this.get(ye.MIN_ZOOM)}getMaxZoom(){return this.get(ye.MAX_ZOOM)}getOpacity(){return this.get(ye.OPACITY)}getSourceState(){return ae()}getVisible(){return this.get(ye.VISIBLE)}getZIndex(){return this.get(ye.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(ye.EXTENT,e)}setMaxResolution(e){this.set(ye.MAX_RESOLUTION,e)}setMinResolution(e){this.set(ye.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(ye.MAX_ZOOM,e)}setMinZoom(e){this.set(ye.MIN_ZOOM,e)}setOpacity(e){ve(typeof e=="number","Layer opacity must be a number"),this.set(ye.OPACITY,e)}setVisible(e){this.set(ye.VISIBLE,e)}setZIndex(e){this.set(ye.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const Mt={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},ct={ANIMATING:0,INTERACTING:1},gt={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},A_=42,Zo=256,Bo={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class ku{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||Bo[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const Bi=6378137,Gn=Math.PI*Bi,S_=[-Gn,-Gn,Gn,Gn],M_=[-180,-85,180,85],ur=Bi*Math.log(Math.tan(Math.PI/2));class bn extends ku{constructor(e){super({code:e,units:"m",extent:S_,global:!0,worldExtent:M_,getPointResolution:function(n,i){return n/Math.cosh(i[1]/Bi)}})}}const Cl=[new bn("EPSG:3857"),new bn("EPSG:102100"),new bn("EPSG:102113"),new bn("EPSG:900913"),new bn("http://www.opengis.net/def/crs/EPSG/0/3857"),new bn("http://www.opengis.net/gml/srs/epsg.xml#3857")];function P_(t,e,n,i){const r=t.length;n=n>1?n:2,i=i??n,e===void 0&&(n>2?e=t.slice():e=new Array(r));for(let s=0;s<r;s+=i){e[s]=Gn*t[s]/180;let o=Bi*Math.log(Math.tan(Math.PI*(+t[s+1]+90)/360));o>ur?o=ur:o<-ur&&(o=-ur),e[s+1]=o}return e}function L_(t,e,n,i){const r=t.length;n=n>1?n:2,i=i??n,e===void 0&&(n>2?e=t.slice():e=new Array(r));for(let s=0;s<r;s+=i)e[s]=180*t[s]/Gn,e[s+1]=360*Math.atan(Math.exp(t[s+1]/Bi))/Math.PI-90;return e}const O_=6378137,xl=[-180,-90,180,90],D_=Math.PI*O_/180;class fn extends ku{constructor(e,n){super({code:e,units:"degrees",extent:xl,axisOrientation:n,global:!0,metersPerUnit:D_,worldExtent:xl})}}const Tl=[new fn("CRS:84"),new fn("EPSG:4326","neu"),new fn("urn:ogc:def:crs:OGC:1.3:CRS84"),new fn("urn:ogc:def:crs:OGC:2:84"),new fn("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new fn("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new fn("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let lo={};function F_(t){return lo[t]||lo[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function N_(t,e){lo[t]=e}let Wn={};function Mr(t,e,n){const i=t.getCode(),r=e.getCode();i in Wn||(Wn[i]={}),Wn[i][r]=n}function k_(t,e){let n;return t in Wn&&e in Wn[t]&&(n=Wn[t][e]),n}const Fe={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function bl(t){const e=Rn();for(let n=0,i=t.length;n<i;++n)Rr(e,t[n]);return e}function z_(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function zu(t,e,n){let i,r;return e<t[0]?i=t[0]-e:t[2]<e?i=e-t[2]:i=0,n<t[1]?r=t[1]-n:t[3]<n?r=n-t[3]:r=0,i*i+r*r}function Ho(t,e){return Gu(t,e[0],e[1])}function G_(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function Gu(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function Il(t,e){const n=t[0],i=t[1],r=t[2],s=t[3],o=e[0],a=e[1];let l=Fe.UNKNOWN;return o<n?l=l|Fe.LEFT:o>r&&(l=l|Fe.RIGHT),a<i?l=l|Fe.BELOW:a>s&&(l=l|Fe.ABOVE),l===Fe.UNKNOWN&&(l=Fe.INTERSECTING),l}function Rn(){return[1/0,1/0,-1/0,-1/0]}function Hi(t,e,n,i,r){return r?(r[0]=t,r[1]=e,r[2]=n,r[3]=i,r):[t,e,n,i]}function is(t){return Hi(1/0,1/0,-1/0,-1/0,t)}function j_(t,e){const n=t[0],i=t[1];return Hi(n,i,n,i,e)}function K_(t,e,n,i,r){const s=is(r);return ju(s,t,e,n,i)}function co(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function X_(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function Rr(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function ju(t,e,n,i,r){for(;n<i;n+=r)U_(t,e[n],e[n+1]);return t}function U_(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function Ku(t,e){let n;return n=e(rs(t)),n||(n=e(ss(t)),n)||(n=e(os(t)),n)||(n=e(Cn(t)),n)?n:!1}function Fi(t){let e=0;return as(t)||(e=Ie(t)*at(t)),e}function rs(t){return[t[0],t[1]]}function ss(t){return[t[2],t[1]]}function qn(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function V_(t,e){let n;if(e==="bottom-left")n=rs(t);else if(e==="bottom-right")n=ss(t);else if(e==="top-left")n=Cn(t);else if(e==="top-right")n=os(t);else throw new Error("Invalid corner");return n}function uo(t,e,n,i,r){const[s,o,a,l,u,c,h,f]=Y_(t,e,n,i);return Hi(Math.min(s,a,u,h),Math.min(o,l,c,f),Math.max(s,a,u,h),Math.max(o,l,c,f),r)}function Y_(t,e,n,i){const r=e*i[0]/2,s=e*i[1]/2,o=Math.cos(n),a=Math.sin(n),l=r*o,u=r*a,c=s*o,h=s*a,f=t[0],d=t[1];return[f-l+h,d-u-c,f-l-h,d-u+c,f+l-h,d+u+c,f+l+h,d+u-c,f-l+h,d-u-c]}function at(t){return t[3]-t[1]}function yt(t,e,n){const i=n||Rn();return $i(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):is(i),i}function Cn(t){return[t[0],t[3]]}function os(t){return[t[2],t[3]]}function Ie(t){return t[2]-t[0]}function $i(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function as(t){return t[2]<t[0]||t[3]<t[1]}function W_(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function Z_(t,e,n){let i=!1;const r=Il(t,e),s=Il(t,n);if(r===Fe.INTERSECTING||s===Fe.INTERSECTING)i=!0;else{const o=t[0],a=t[1],l=t[2],u=t[3],c=e[0],h=e[1],f=n[0],d=n[1],_=(d-h)/(f-c);let p,v;s&Fe.ABOVE&&!(r&Fe.ABOVE)&&(p=f-(d-u)/_,i=p>=o&&p<=l),!i&&s&Fe.RIGHT&&!(r&Fe.RIGHT)&&(v=d-(f-l)*_,i=v>=a&&v<=u),!i&&s&Fe.BELOW&&!(r&Fe.BELOW)&&(p=f-(d-a)/_,i=p>=o&&p<=l),!i&&s&Fe.LEFT&&!(r&Fe.LEFT)&&(v=d-(f-o)*_,i=v>=a&&v<=u)}return i}function B_(t,e){const n=e.getExtent(),i=qn(t);if(e.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){const r=Ie(n),o=Math.floor((i[0]-n[0])/r)*r;t[0]-=o,t[2]-=o}return t}function Xu(t,e,n){if(e.canWrapX()){const i=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[i[0],t[1],i[2],t[3]]];B_(t,e);const r=Ie(i);if(Ie(t)>r&&!n)return[[i[0],t[1],i[2],t[3]]];if(t[0]<i[0])return[[t[0]+r,t[1],i[2],t[3]],[i[0],t[1],t[2],t[3]]];if(t[2]>i[2])return[[t[0],t[1],i[2],t[3]],[i[0],t[1],t[2]-r,t[3]]]}return[t]}function H_(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function Pr(t,e){let n=!0;for(let i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function $o(t,e){const n=Math.cos(e),i=Math.sin(e),r=t[0]*n-t[1]*i,s=t[1]*n+t[0]*i;return t[0]=r,t[1]=s,t}function $_(t,e){return t[0]*=e,t[1]*=e,t}function q_(t,e){if(e.canWrapX()){const n=Ie(e.getExtent()),i=J_(t,e,n);i&&(t[0]-=i*n)}return t}function J_(t,e,n){const i=e.getExtent();let r=0;return e.canWrapX()&&(t[0]<i[0]||t[0]>i[2])&&(n=n||Ie(i),r=Math.floor((t[0]-i[0])/n)),r}const Q_=63710088e-1;function Al(t,e,n){n=n||Q_;const i=wr(t[1]),r=wr(e[1]),s=(r-i)/2,o=wr(e[0]-t[0])/2,a=Math.sin(s)*Math.sin(s)+Math.sin(o)*Math.sin(o)*Math.cos(i)*Math.cos(r);return 2*n*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}function Uu(...t){console.warn(...t)}let ho=!0;function em(t){ho=!1}function qo(t,e){if(e!==void 0){for(let n=0,i=t.length;n<i;++n)e[n]=t[n];e=e}else e=t.slice();return e}function Vu(t,e){if(e!==void 0&&t!==e){for(let n=0,i=t.length;n<i;++n)e[n]=t[n];t=e}return t}function tm(t){N_(t.getCode(),t),Mr(t,t,qo)}function nm(t){t.forEach(tm)}function Ct(t){return typeof t=="string"?F_(t):t||null}function Sl(t,e,n,i){t=Ct(t);let r;const s=t.getPointResolutionFunc();if(s)r=s(e,n);else{const o=t.getUnits();if(o=="degrees"&&!i||i=="degrees")r=e;else{const a=Qo(t,Ct("EPSG:4326"));if(a===Vu&&o!=="degrees")r=e*t.getMetersPerUnit();else{let u=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];u=a(u,u,2);const c=Al(u.slice(0,2),u.slice(2,4)),h=Al(u.slice(4,6),u.slice(6,8));r=(c+h)/2}const l=t.getMetersPerUnit();l!==void 0&&(r/=l)}}return r}function Ml(t){nm(t),t.forEach(function(e){t.forEach(function(n){e!==n&&Mr(e,n,qo)})})}function im(t,e,n,i){t.forEach(function(r){e.forEach(function(s){Mr(r,s,n),Mr(s,r,i)})})}function Jo(t,e){return t?typeof t=="string"?Ct(t):t:Ct(e)}function ui(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||Qo(t,e)===qo)&&n}function Qo(t,e){const n=t.getCode(),i=e.getCode();let r=k_(n,i);return r||(r=Vu),r}function Lr(t,e){const n=Ct(t),i=Ct(e);return Qo(n,i)}function rm(t,e,n){return Lr(e,n)(t,void 0,t.length)}function fo(t,e){return t}function Nt(t,e){return ho&&!Pr(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(ho=!1,Uu("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t}function sm(t,e){return t}function _n(t,e){return t}function om(){Ml(Cl),Ml(Tl),im(Tl,Cl,P_,L_)}om();function Pl(t,e,n){return function(i,r,s,o,a){if(!i)return;if(!r&&!e)return i;const l=e?0:s[0]*r,u=e?0:s[1]*r,c=a?a[0]:0,h=a?a[1]:0;let f=t[0]+l/2+c,d=t[2]-l/2+c,_=t[1]+u/2+h,p=t[3]-u/2+h;f>d&&(f=(d+f)/2,d=f),_>p&&(_=(p+_)/2,p=_);let v=Le(i[0],f,d),E=Le(i[1],_,p);if(o&&n&&r){const y=30*r;v+=-y*Math.log(1+Math.max(0,f-i[0])/y)+y*Math.log(1+Math.max(0,i[0]-d)/y),E+=-y*Math.log(1+Math.max(0,_-i[1])/y)+y*Math.log(1+Math.max(0,i[1]-p)/y)}return[v,E]}}function am(t){return t}function ea(t,e,n,i){const r=Ie(e)/n[0],s=at(e)/n[1];return i?Math.min(t,Math.max(r,s)):Math.min(t,Math.min(r,s))}function ta(t,e,n){let i=Math.min(t,e);const r=50;return i*=Math.log(1+r*Math.max(0,t/e-1))/r+1,n&&(i=Math.max(i,n),i/=Math.log(1+r*Math.max(0,n/t-1))/r+1),Le(i,n/2,e*2)}function lm(t,e,n,i){return e=e!==void 0?e:!0,function(r,s,o,a){if(r!==void 0){const l=t[0],u=t[t.length-1],c=n?ea(l,n,o,i):l;if(a)return e?ta(r,c,u):Le(r,u,c);const h=Math.min(c,r),f=Math.floor(Wo(t,h,s));return t[f]>c&&f<t.length-1?t[f+1]:t[f]}}}function cm(t,e,n,i,r,s){return i=i!==void 0?i:!0,n=n!==void 0?n:0,function(o,a,l,u){if(o!==void 0){const c=r?ea(e,r,l,s):e;if(u)return i?ta(o,c,n):Le(o,n,c);const h=1e-9,f=Math.ceil(Math.log(e/c)/Math.log(t)-h),d=-a*(.5-h)+.5,_=Math.min(c,o),p=Math.floor(Math.log(e/_)/Math.log(t)+d),v=Math.max(f,p),E=e/Math.pow(t,v);return Le(E,n,c)}}}function Ll(t,e,n,i,r){return n=n!==void 0?n:!0,function(s,o,a,l){if(s!==void 0){const u=i?ea(t,i,a,r):t;return!n||!l?Le(s,e,u):ta(s,u,e)}}}function na(t){if(t!==void 0)return 0}function Ol(t){if(t!==void 0)return t}function um(t){const e=2*Math.PI/t;return function(n,i){if(i)return n;if(n!==void 0)return n=Math.floor(n/e+.5)*e,n}}function hm(t){const e=wr(5);return function(n,i){return i||n===void 0?n:Math.abs(n)<=e?0:n}}function Yu(t){return Math.pow(t,3)}function Qn(t){return 1-Yu(1-t)}function fm(t){return 3*t*t-2*t*t*t}function dm(t){return t}new Array(6);function Zn(){return[1,0,0,1,0,0]}function ut(t,e){const n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function Ni(t,e,n,i,r,s,o,a){const l=Math.sin(s),u=Math.cos(s);return t[0]=i*u,t[1]=r*l,t[2]=-i*l,t[3]=r*u,t[4]=o*i*u-a*i*l+e,t[5]=o*r*l+a*r*u+n,t}function Wu(t,e){const n=gm(e);ve(n!==0,"Transformation matrix cannot be inverted");const i=e[0],r=e[1],s=e[2],o=e[3],a=e[4],l=e[5];return t[0]=o/n,t[1]=-r/n,t[2]=-s/n,t[3]=i/n,t[4]=(s*l-o*a)/n,t[5]=-(i*l-r*a)/n,t}function gm(t){return t[0]*t[3]-t[1]*t[2]}const Dl=[1e6,1e6,1e6,1e6,2,2];function _m(t){return"matrix("+t.map((n,i)=>Math.round(n*Dl[i])/Dl[i]).join(", ")+")"}function mm(t,e,n,i,r,s,o){s=s||[],o=o||2;let a=0;for(let l=e;l<n;l+=i){const u=t[l],c=t[l+1];s[a++]=r[0]*u+r[2]*c+r[4],s[a++]=r[1]*u+r[3]*c+r[5];for(let h=2;h<o;h++)s[a++]=t[l+h]}return s&&s.length!=a&&(s.length=a),s}function pm(t,e,n,i,r,s,o){o=o||[];const a=Math.cos(r),l=Math.sin(r),u=s[0],c=s[1];let h=0;for(let f=e;f<n;f+=i){const d=t[f]-u,_=t[f+1]-c;o[h++]=u+d*a-_*l,o[h++]=c+d*l+_*a;for(let p=f+2;p<f+i;++p)o[h++]=t[p]}return o&&o.length!=h&&(o.length=h),o}function ym(t,e,n,i,r,s,o,a){a=a||[];const l=o[0],u=o[1];let c=0;for(let h=e;h<n;h+=i){const f=t[h]-l,d=t[h+1]-u;a[c++]=l+r*f,a[c++]=u+s*d;for(let _=h+2;_<h+i;++_)a[c++]=t[_]}return a&&a.length!=c&&(a.length=c),a}function Em(t,e,n,i,r,s,o){o=o||[];let a=0;for(let l=e;l<n;l+=i){o[a++]=t[l]+r,o[a++]=t[l+1]+s;for(let u=l+2;u<l+i;++u)o[a++]=t[u]}return o&&o.length!=a&&(o.length=a),o}const Fl=Zn();class vm extends Yt{constructor(){super(),this.extent_=Rn(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=w_((e,n,i)=>{if(!i)return this.getSimplifiedGeometry(n);const r=this.clone();return r.applyTransform(i),r.getSimplifiedGeometry(n)})}simplifyTransformed(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)}clone(){return ae()}closestPointXY(e,n,i,r){return ae()}containsXY(e,n){const i=this.getClosestPoint([e,n]);return i[0]===e&&i[1]===n}getClosestPoint(e,n){return n=n||[NaN,NaN],this.closestPointXY(e[0],e[1],n,1/0),n}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return ae()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&is(n),this.extentRevision_=this.getRevision()}return W_(this.extent_,e)}rotate(e,n){ae()}scale(e,n,i){ae()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return ae()}getType(){return ae()}applyTransform(e){ae()}intersectsExtent(e){return ae()}translate(e,n){ae()}transform(e,n){const i=Ct(e),r=i.getUnits()=="tile-pixels"?function(s,o,a){const l=i.getExtent(),u=i.getWorldExtent(),c=at(u)/at(l);return Ni(Fl,u[0],u[3],c,-c,0,0,0),mm(s,0,s.length,a,Fl,o),Lr(i,n)(s,o,a)}:Lr(i,n);return this.applyTransform(r),this}}class ia extends vm{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return K_(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return ae()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,n){this.stride=Nl(e),this.layout=e,this.flatCoordinates=n}setCoordinates(e,n){ae()}setLayout(e,n,i){let r;if(e)r=Nl(e);else{for(let s=0;s<i;++s){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}r=n.length,e=wm(r)}this.layout=e,this.stride=r}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(e,n){const i=this.getFlatCoordinates();if(i){const r=this.getStride();pm(i,0,i.length,r,e,n,i),this.changed()}}scale(e,n,i){n===void 0&&(n=e),i||(i=qn(this.getExtent()));const r=this.getFlatCoordinates();if(r){const s=this.getStride();ym(r,0,r.length,s,e,n,i,r),this.changed()}}translate(e,n){const i=this.getFlatCoordinates();if(i){const r=this.getStride();Em(i,0,i.length,r,e,n,i),this.changed()}}}function wm(t){let e;return t==2?e="XY":t==3?e="XYZ":t==4&&(e="XYZM"),e}function Nl(t){let e;return t=="XY"?e=2:t=="XYZ"||t=="XYM"?e=3:t=="XYZM"&&(e=4),e}function kl(t,e,n,i,r,s,o){const a=t[e],l=t[e+1],u=t[n]-a,c=t[n+1]-l;let h;if(u===0&&c===0)h=e;else{const f=((r-a)*u+(s-l)*c)/(u*u+c*c);if(f>1)h=n;else if(f>0){for(let d=0;d<i;++d)o[d]=I_(t[e+d],t[n+d],f);o.length=i;return}else h=e}for(let f=0;f<i;++f)o[f]=t[h+f];o.length=i}function Zu(t,e,n,i,r){let s=t[e],o=t[e+1];for(e+=i;e<n;e+=i){const a=t[e],l=t[e+1],u=Vn(s,o,a,l);u>r&&(r=u),s=a,o=l}return r}function Rm(t,e,n,i,r){for(let s=0,o=n.length;s<o;++s){const a=n[s];r=Zu(t,e,a,i,r),e=a}return r}function Bu(t,e,n,i,r,s,o,a,l,u,c){if(e==n)return u;let h,f;if(r===0){if(f=Vn(o,a,t[e],t[e+1]),f<u){for(h=0;h<i;++h)l[h]=t[e+h];return l.length=i,f}return u}c=c||[NaN,NaN];let d=e+i;for(;d<n;)if(kl(t,d-i,d,i,o,a,c),f=Vn(o,a,c[0],c[1]),f<u){for(u=f,h=0;h<i;++h)l[h]=c[h];l.length=i,d+=i}else d+=i*Math.max((Math.sqrt(f)-Math.sqrt(u))/r|0,1);if(kl(t,n-i,e,i,o,a,c),f=Vn(o,a,c[0],c[1]),f<u){for(u=f,h=0;h<i;++h)l[h]=c[h];l.length=i}return u}function Cm(t,e,n,i,r,s,o,a,l,u,c){c=c||[NaN,NaN];for(let h=0,f=n.length;h<f;++h){const d=n[h];u=Bu(t,e,d,i,r,s,o,a,l,u,c),e=d}return u}function xm(t,e,n,i){for(let r=0,s=n.length;r<s;++r)t[e++]=n[r];return e}function Hu(t,e,n,i){for(let r=0,s=n.length;r<s;++r){const o=n[r];for(let a=0;a<i;++a)t[e++]=o[a]}return e}function Tm(t,e,n,i,r){r=r||[];let s=0;for(let o=0,a=n.length;o<a;++o){const l=Hu(t,e,n[o],i);r[s++]=l,e=l}return r.length=s,r}function bm(t,e,n,i,r,s,o){const a=(n-e)/i;if(a<3){for(;e<n;e+=i)s[o++]=t[e],s[o++]=t[e+1];return o}const l=new Array(a);l[0]=1,l[a-1]=1;const u=[e,n-i];let c=0;for(;u.length>0;){const h=u.pop(),f=u.pop();let d=0;const _=t[f],p=t[f+1],v=t[h],E=t[h+1];for(let y=f+i;y<h;y+=i){const C=t[y],R=t[y+1],I=T_(C,R,_,p,v,E);I>d&&(c=y,d=I)}d>r&&(l[(c-e)/i]=1,f+i<c&&u.push(f,c),c+i<h&&u.push(c,h))}for(let h=0;h<a;++h)l[h]&&(s[o++]=t[e+h*i],s[o++]=t[e+h*i+1]);return o}function In(t,e){return e*Math.round(t/e)}function Im(t,e,n,i,r,s,o){if(e==n)return o;let a=In(t[e],r),l=In(t[e+1],r);e+=i,s[o++]=a,s[o++]=l;let u,c;do if(u=In(t[e],r),c=In(t[e+1],r),e+=i,e==n)return s[o++]=u,s[o++]=c,o;while(u==a&&c==l);for(;e<n;){const h=In(t[e],r),f=In(t[e+1],r);if(e+=i,h==u&&f==c)continue;const d=u-a,_=c-l,p=h-a,v=f-l;if(d*v==_*p&&(d<0&&p<d||d==p||d>0&&p>d)&&(_<0&&v<_||_==v||_>0&&v>_)){u=h,c=f;continue}s[o++]=u,s[o++]=c,a=u,l=c,u=h,c=f}return s[o++]=u,s[o++]=c,o}function Am(t,e,n,i,r,s,o,a){for(let l=0,u=n.length;l<u;++l){const c=n[l];o=Im(t,e,c,i,r,s,o),a.push(o),e=c}return o}function $u(t,e,n,i,r){r=r!==void 0?r:[];let s=0;for(let o=e;o<n;o+=i)r[s++]=t.slice(o,o+i);return r.length=s,r}function Sm(t,e,n,i,r){r=r!==void 0?r:[];let s=0;for(let o=0,a=n.length;o<a;++o){const l=n[o];r[s++]=$u(t,e,l,i,r[s]),e=l}return r.length=s,r}function qu(t,e,n,i){let r=0;const s=t[n-i],o=t[n-i+1];let a=0,l=0;for(;e<n;e+=i){const u=t[e]-s,c=t[e+1]-o;r+=l*u-a*c,a=u,l=c}return r/2}function Mm(t,e,n,i){let r=0;for(let s=0,o=n.length;s<o;++s){const a=n[s];r+=qu(t,e,a,i),e=a}return r}class ki extends ia{constructor(e,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}clone(){return new ki(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,n,i,r){return r<zu(this.getExtent(),e,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Zu(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Bu(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,i,r))}getArea(){return qu(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return $u(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const n=[];return n.length=bm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new ki(n,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Hu(this.flatCoordinates,0,e,this.stride),this.changed()}}class ra extends ia{constructor(e,n){super(),this.setCoordinates(e,n)}clone(){const e=new ra(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,i,r){const s=this.flatCoordinates,o=Vn(e,n,s[0],s[1]);if(o<r){const a=this.stride;for(let l=0;l<a;++l)i[l]=s[l];return i.length=a,o}return r}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return j_(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return Gu(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=xm(this.flatCoordinates,0,e,this.stride),this.changed()}}function Pm(t,e,n,i,r){return!Ku(r,function(o){return!mn(t,e,n,i,o[0],o[1])})}function mn(t,e,n,i,r,s){let o=0,a=t[n-i],l=t[n-i+1];for(;e<n;e+=i){const u=t[e],c=t[e+1];l<=s?c>s&&(u-a)*(s-l)-(r-a)*(c-l)>0&&o++:c<=s&&(u-a)*(s-l)-(r-a)*(c-l)<0&&o--,a=u,l=c}return o!==0}function Ju(t,e,n,i,r,s){if(n.length===0||!mn(t,e,n[0],i,r,s))return!1;for(let o=1,a=n.length;o<a;++o)if(mn(t,n[o-1],n[o],i,r,s))return!1;return!0}function Lm(t,e,n,i,r,s,o){let a,l,u,c,h,f,d;const _=r[s+1],p=[];for(let y=0,C=n.length;y<C;++y){const R=n[y];for(c=t[R-i],f=t[R-i+1],a=e;a<R;a+=i)h=t[a],d=t[a+1],(_<=f&&d<=_||f<=_&&_<=d)&&(u=(_-f)/(d-f)*(h-c)+c,p.push(u)),c=h,f=d}let v=NaN,E=-1/0;for(p.sort(Jr),c=p[0],a=1,l=p.length;a<l;++a){h=p[a];const y=Math.abs(h-c);y>E&&(u=(c+h)/2,Ju(t,e,n,i,u,_)&&(v=u,E=y)),c=h}return isNaN(v)&&(v=r[s]),[v,_,E]}function Om(t,e,n,i,r){let s;for(e+=i;e<n;e+=i)if(s=r(t.slice(e-i,e),t.slice(e,e+i)),s)return s;return!1}function Qu(t,e,n,i,r){const s=ju(Rn(),t,e,n,i);return $i(r,s)?G_(r,s)||s[0]>=r[0]&&s[2]<=r[2]||s[1]>=r[1]&&s[3]<=r[3]?!0:Om(t,e,n,i,function(o,a){return Z_(r,o,a)}):!1}function eh(t,e,n,i,r){return!!(Qu(t,e,n,i,r)||mn(t,e,n,i,r[0],r[1])||mn(t,e,n,i,r[0],r[3])||mn(t,e,n,i,r[2],r[1])||mn(t,e,n,i,r[2],r[3]))}function Dm(t,e,n,i,r){if(!eh(t,e,n[0],i,r))return!1;if(n.length===1)return!0;for(let s=1,o=n.length;s<o;++s)if(Pm(t,n[s-1],n[s],i,r)&&!Qu(t,n[s-1],n[s],i,r))return!1;return!0}function Fm(t,e,n,i){for(;e<n-i;){for(let r=0;r<i;++r){const s=t[e+r];t[e+r]=t[n-i+r],t[n-i+r]=s}e+=i,n-=i}}function th(t,e,n,i){let r=0,s=t[n-i],o=t[n-i+1];for(;e<n;e+=i){const a=t[e],l=t[e+1];r+=(a-s)*(l+o),s=a,o=l}return r===0?void 0:r>0}function Nm(t,e,n,i,r){r=r!==void 0?r:!1;for(let s=0,o=n.length;s<o;++s){const a=n[s],l=th(t,e,a,i);if(s===0){if(r&&l||!r&&!l)return!1}else if(r&&!l||!r&&l)return!1;e=a}return!0}function zl(t,e,n,i,r){r=r!==void 0?r:!1;for(let s=0,o=n.length;s<o;++s){const a=n[s],l=th(t,e,a,i);(s===0?r&&l||!r&&!l:r&&!l||!r&&l)&&Fm(t,e,a,i),e=a}return e}class zi extends ia{constructor(e,n,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&i?(this.setFlatCoordinates(n,e),this.ends_=i):this.setCoordinates(e,n)}appendLinearRing(e){this.flatCoordinates?E_(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new zi(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,i,r){return r<zu(this.getExtent(),e,n)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Rm(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Cm(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,i,r))}containsXY(e,n){return Ju(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)}getArea(){return Mm(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),zl(n,0,this.ends_,this.stride,e)):n=this.flatCoordinates,Sm(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=qn(this.getExtent());this.flatInteriorPoint_=Lm(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new ra(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new ki(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,n=this.flatCoordinates,i=this.ends_,r=[];let s=0;for(let o=0,a=i.length;o<a;++o){const l=i[o],u=new ki(n.slice(s,l),e);r.push(u),s=l}return r}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;Nm(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=zl(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],i=[];return n.length=Am(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,i),new zi(n,"XY",i)}getType(){return"Polygon"}intersectsExtent(e){return Dm(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=Tm(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}function Gl(t){if(as(t))throw new Error("Cannot create polygon from empty extent");const e=t[0],n=t[1],i=t[2],r=t[3],s=[e,n,e,r,i,r,i,n,e,n];return new zi(s,"XY",[s.length])}const Ps=0;class St extends Yt{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=Jo(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&em(),e.center&&(e.center=Nt(e.center,this.projection_)),e.extent&&(e.extent=_n(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const n=Object.assign({},e);for(const a in gt)delete n[a];this.setProperties(n,!0);const i=zm(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;const r=km(e),s=i.constraint,o=Gm(e);this.constraints_={center:r,resolution:s,rotation:o},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let n=this.padding_;this.padding_=e;const i=this.getCenterInternal();if(i){const r=e||[0,0,0,0];n=n||[0,0,0,0];const s=this.getResolution(),o=s/2*(r[3]-n[3]+n[1]-r[1]),a=s/2*(r[0]-n[0]+n[2]-r[2]);this.setCenterInternal([i[0]+o,i[1]-a])}}getUpdatedOptions_(e){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let i=0;i<n.length;++i){let r=arguments[i];r.center&&(r=Object.assign({},r),r.center=Nt(r.center,this.getProjection())),r.anchor&&(r=Object.assign({},r),r.anchor=Nt(r.anchor,this.getProjection())),n[i]=r}this.animateInternal.apply(this,n)}animateInternal(e){let n=arguments.length,i;n>1&&typeof arguments[n-1]=="function"&&(i=arguments[n-1],--n);let r=0;for(;r<n&&!this.isDef();++r){const c=arguments[r];c.center&&this.setCenterInternal(c.center),c.zoom!==void 0?this.setZoom(c.zoom):c.resolution&&this.setResolution(c.resolution),c.rotation!==void 0&&this.setRotation(c.rotation)}if(r===n){i&&hr(i,!0);return}let s=Date.now(),o=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_;const u=[];for(;r<n;++r){const c=arguments[r],h={start:s,complete:!1,anchor:c.anchor,duration:c.duration!==void 0?c.duration:1e3,easing:c.easing||fm,callback:i};if(c.center&&(h.sourceCenter=o,h.targetCenter=c.center.slice(),o=h.targetCenter),c.zoom!==void 0?(h.sourceResolution=a,h.targetResolution=this.getResolutionForZoom(c.zoom),a=h.targetResolution):c.resolution&&(h.sourceResolution=a,h.targetResolution=c.resolution,a=h.targetResolution),c.rotation!==void 0){h.sourceRotation=l;const f=Yn(c.rotation-l+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=l+f,l=h.targetRotation}jm(h)?h.complete=!0:s+=h.duration,u.push(h)}this.animations_.push(u),this.setHint(ct.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[ct.ANIMATING]>0}getInteracting(){return this.hints_[ct.INTERACTING]>0}cancelAnimations(){this.setHint(ct.ANIMATING,-this.hints_[ct.ANIMATING]);let e;for(let n=0,i=this.animations_.length;n<i;++n){const r=this.animations_[n];if(r[0].callback&&hr(r[0].callback,!1),!e)for(let s=0,o=r.length;s<o;++s){const a=r[s];if(!a.complete){e=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let n=!1;for(let i=this.animations_.length-1;i>=0;--i){const r=this.animations_[i];let s=!0;for(let o=0,a=r.length;o<a;++o){const l=r[o];if(l.complete)continue;const u=e-l.start;let c=l.duration>0?u/l.duration:1;c>=1?(l.complete=!0,c=1):s=!1;const h=l.easing(c);if(l.sourceCenter){const f=l.sourceCenter[0],d=l.sourceCenter[1],_=l.targetCenter[0],p=l.targetCenter[1];this.nextCenter_=l.targetCenter;const v=f+h*(_-f),E=d+h*(p-d);this.targetCenter_=[v,E]}if(l.sourceResolution&&l.targetResolution){const f=h===1?l.targetResolution:l.sourceResolution+h*(l.targetResolution-l.sourceResolution);if(l.anchor){const d=this.getViewportSize_(this.getRotation()),_=this.constraints_.resolution(f,0,d,!0);this.targetCenter_=this.calculateCenterZoom(_,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=f,this.applyTargetState_(!0)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){const f=h===1?Yn(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+h*(l.targetRotation-l.sourceRotation);if(l.anchor){const d=this.constraints_.rotation(f,!0);this.targetCenter_=this.calculateCenterRotate(d,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=f}if(this.applyTargetState_(!0),n=!0,!l.complete)break}if(s){this.animations_[i]=null,this.setHint(ct.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const o=r[0].callback;o&&hr(o,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,n){let i;const r=this.getCenterInternal();return r!==void 0&&(i=[r[0]-n[0],r[1]-n[1]],$o(i,e-this.getRotation()),H_(i,n)),i}calculateCenterZoom(e,n){let i;const r=this.getCenterInternal(),s=this.getResolution();if(r!==void 0&&s!==void 0){const o=n[0]-e*(n[0]-r[0])/s,a=n[1]-e*(n[1]-r[1])/s;i=[o,a]}return i}getViewportSize_(e){const n=this.viewportSize_;if(e){const i=n[0],r=n[1];return[Math.abs(i*Math.cos(e))+Math.abs(r*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(r*Math.cos(e))]}return n}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&fo(e,this.getProjection())}getCenterInternal(){return this.get(gt.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const n=this.calculateExtentInternal(e);return sm(n,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();ve(n,"The view center is not defined");const i=this.getResolution();ve(i!==void 0,"The view resolution is not defined");const r=this.getRotation();return ve(r!==void 0,"The view rotation is not defined"),uo(n,i,r,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(gt.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,n){return this.getResolutionForExtentInternal(_n(e,this.getProjection()),n)}getResolutionForExtentInternal(e,n){n=n||this.getViewportSizeMinusPadding_();const i=Ie(e)/n[0],r=at(e)/n[1];return Math.max(i,r)}getResolutionForValueFunction(e){e=e||2;const n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(n/i)/Math.log(e);return function(s){return n/Math.pow(e,s*r)}}getRotation(){return this.get(gt.ROTATION)}getValueForResolutionFunction(e){const n=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,s=Math.log(i/r)/n;return function(o){return Math.log(i/o)/n/s}}getViewportSizeMinusPadding_(e){let n=this.getViewportSize_(e);const i=this.padding_;return i&&(n=[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]),n}getState(){const e=this.getProjection(),n=this.getResolution(),i=this.getRotation();let r=this.getCenterInternal();const s=this.padding_;if(s){const o=this.getViewportSizeMinusPadding_();r=Ls(r,this.getViewportSize_(),[o[0]/2+s[3],o[1]/2+s[0]],n,i)}return{center:r.slice(0),projection:e!==void 0?e:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const n=this.getResolution();return n!==void 0&&(e=this.getZoomForResolution(n)),e}getZoomForResolution(e){let n=this.minZoom_||0,i,r;if(this.resolutions_){const s=Wo(this.resolutions_,e,1);n=s,i=this.resolutions_[s],s==this.resolutions_.length-1?r=2:r=i/this.resolutions_[s+1]}else i=this.maxResolution_,r=this.zoomFactor_;return n+Math.log(i/e)/Math.log(r)}getResolutionForZoom(e){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;const n=Le(Math.floor(e),0,this.resolutions_.length-2),i=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(i,Le(e-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,n){let i;if(ve(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){ve(!as(e),"Cannot fit empty extent provided as `geometry`");const r=_n(e,this.getProjection());i=Gl(r)}else if(e.getType()==="Circle"){const r=_n(e.getExtent(),this.getProjection());i=Gl(r),i.rotate(this.getRotation(),qn(r))}else i=e;this.fitInternal(i,n)}rotatedExtentForGeometry(e){const n=this.getRotation(),i=Math.cos(n),r=Math.sin(-n),s=e.getFlatCoordinates(),o=e.getStride();let a=1/0,l=1/0,u=-1/0,c=-1/0;for(let h=0,f=s.length;h<f;h+=o){const d=s[h]*i-s[h+1]*r,_=s[h]*r+s[h+1]*i;a=Math.min(a,d),l=Math.min(l,_),u=Math.max(u,d),c=Math.max(c,_)}return[a,l,u,c]}fitInternal(e,n){n=n||{};let i=n.size;i||(i=this.getViewportSizeMinusPadding_());const r=n.padding!==void 0?n.padding:[0,0,0,0],s=n.nearest!==void 0?n.nearest:!1;let o;n.minResolution!==void 0?o=n.minResolution:n.maxZoom!==void 0?o=this.getResolutionForZoom(n.maxZoom):o=0;const a=this.rotatedExtentForGeometry(e);let l=this.getResolutionForExtentInternal(a,[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]);l=isNaN(l)?o:Math.max(l,o),l=this.getConstrainedResolution(l,s?0:1);const u=this.getRotation(),c=Math.sin(u),h=Math.cos(u),f=qn(a);f[0]+=(r[1]-r[3])/2*l,f[1]+=(r[0]-r[2])/2*l;const d=f[0]*h-f[1]*c,_=f[1]*h+f[0]*c,p=this.getConstrainedCenter([d,_],l),v=n.callback?n.callback:Ar;n.duration!==void 0?this.animateInternal({resolution:l,center:p,duration:n.duration,easing:n.easing},v):(this.targetResolution_=l,this.targetCenter_=p,this.applyTargetState_(!1,!0),hr(v,!0))}centerOn(e,n,i){this.centerOnInternal(Nt(e,this.getProjection()),n,i)}centerOnInternal(e,n,i){this.setCenterInternal(Ls(e,n,i,this.getResolution(),this.getRotation()))}calculateCenterShift(e,n,i,r){let s;const o=this.padding_;if(o&&e){const a=this.getViewportSizeMinusPadding_(-i),l=Ls(e,r,[a[0]/2+o[3],a[1]/2+o[0]],n,i);s=[e[0]-l[0],e[1]-l[1]]}return s}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const n=fo(this.targetCenter_,this.getProjection());this.setCenter([n[0]+e[0],n[1]+e[1]])}adjustCenterInternal(e){const n=this.targetCenter_;this.setCenterInternal([n[0]+e[0],n[1]+e[1]])}adjustResolution(e,n){n=n&&Nt(n,this.getProjection()),this.adjustResolutionInternal(e,n)}adjustResolutionInternal(e,n){const i=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),s=this.constraints_.resolution(this.targetResolution_*e,0,r,i);n&&(this.targetCenter_=this.calculateCenterZoom(s,n)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,n){this.adjustResolution(Math.pow(this.zoomFactor_,-e),n)}adjustRotation(e,n){n&&(n=Nt(n,this.getProjection())),this.adjustRotationInternal(e,n)}adjustRotationInternal(e,n){const i=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+e,i);n&&(this.targetCenter_=this.calculateCenterRotate(r,n)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&Nt(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,n){return this.hints_[e]+=n,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,n){const i=this.getAnimating()||this.getInteracting()||n,r=this.constraints_.rotation(this.targetRotation_,i),s=this.getViewportSize_(r),o=this.constraints_.resolution(this.targetResolution_,0,s,i),a=this.constraints_.center(this.targetCenter_,o,s,i,this.calculateCenterShift(this.targetCenter_,o,r,s));this.get(gt.ROTATION)!==r&&this.set(gt.ROTATION,r),this.get(gt.RESOLUTION)!==o&&(this.set(gt.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),(!a||!this.get(gt.CENTER)||!Pr(this.get(gt.CENTER),a))&&this.set(gt.CENTER,a),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,n,i){e=e!==void 0?e:200;const r=n||0,s=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(s),a=this.constraints_.resolution(this.targetResolution_,r,o),l=this.constraints_.center(this.targetCenter_,a,o,!1,this.calculateCenterShift(this.targetCenter_,a,s,o));if(e===0&&!this.cancelAnchor_){this.targetResolution_=a,this.targetRotation_=s,this.targetCenter_=l,this.applyTargetState_();return}i=i||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==a||this.getRotation()!==s||!this.getCenterInternal()||!Pr(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:s,center:l,resolution:a,duration:e,easing:Qn,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(ct.INTERACTING,1)}endInteraction(e,n,i){i=i&&Nt(i,this.getProjection()),this.endInteractionInternal(e,n,i)}endInteractionInternal(e,n,i){this.getInteracting()&&(this.setHint(ct.INTERACTING,-1),this.resolveConstraints(e,n,i))}getConstrainedCenter(e,n){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,n||this.getResolution(),i)}getConstrainedZoom(e,n){const i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,n))}getConstrainedResolution(e,n){n=n||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,n,i)}}function hr(t,e){setTimeout(function(){t(e)},0)}function km(t){if(t.extent!==void 0){const n=t.smoothExtentConstraint!==void 0?t.smoothExtentConstraint:!0;return Pl(t.extent,t.constrainOnlyCenter,n)}const e=Jo(t.projection,"EPSG:3857");if(t.multiWorld!==!0&&e.isGlobal()){const n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,Pl(n,!1,!1)}return am}function zm(t){let e,n,i,o=t.minZoom!==void 0?t.minZoom:Ps,a=t.maxZoom!==void 0?t.maxZoom:28;const l=t.zoomFactor!==void 0?t.zoomFactor:2,u=t.multiWorld!==void 0?t.multiWorld:!1,c=t.smoothResolutionConstraint!==void 0?t.smoothResolutionConstraint:!0,h=t.showFullExtent!==void 0?t.showFullExtent:!1,f=Jo(t.projection,"EPSG:3857"),d=f.getExtent();let _=t.constrainOnlyCenter,p=t.extent;if(!u&&!p&&f.isGlobal()&&(_=!1,p=d),t.resolutions!==void 0){const v=t.resolutions;n=v[o],i=v[a]!==void 0?v[a]:v[v.length-1],t.constrainResolution?e=lm(v,c,!_&&p,h):e=Ll(n,i,c,!_&&p,h)}else{const E=(d?Math.max(Ie(d),at(d)):360*Bo.degrees/f.getMetersPerUnit())/Zo/Math.pow(2,Ps),y=E/Math.pow(2,28-Ps);n=t.maxResolution,n!==void 0?o=0:n=E/Math.pow(l,o),i=t.minResolution,i===void 0&&(t.maxZoom!==void 0?t.maxResolution!==void 0?i=n/Math.pow(l,a):i=E/Math.pow(l,a):i=y),a=o+Math.floor(Math.log(n/i)/Math.log(l)),i=n/Math.pow(l,a-o),t.constrainResolution?e=cm(l,n,i,c,!_&&p,h):e=Ll(n,i,c,!_&&p,h)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:o,zoomFactor:l}}function Gm(t){if(t.enableRotation!==void 0?t.enableRotation:!0){const n=t.constrainRotation;return n===void 0||n===!0?hm():n===!1?Ol:typeof n=="number"?um(n):Ol}return na}function jm(t){return!(t.sourceCenter&&t.targetCenter&&!Pr(t.sourceCenter,t.targetCenter)||t.sourceResolution!==t.targetResolution||t.sourceRotation!==t.targetRotation)}function Ls(t,e,n,i,r){const s=Math.cos(-r);let o=Math.sin(-r),a=t[0]*s-t[1]*o,l=t[1]*s+t[0]*o;a+=(e[0]/2-n[0])*i,l+=(n[1]-e[1]/2)*i,o=-o;const u=a*s-l*o,c=l*s+a*o;return[u,c]}class ls extends Nu{constructor(e){const n=Object.assign({},e);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(ye.SOURCE,this.handleSourcePropertyChange_);const i=e.source?e.source:null;this.setSource(i)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(ye.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Ae(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=ge(e,J.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let n;const i=this.getMapInternal();!e&&i&&(e=i.getView()),e instanceof St?n={viewState:e.getState(),extent:e.calculateExtent()}:n=e,!n.layerStatesArray&&i&&(n.layerStatesArray=i.getLayerGroup().getLayerStatesArray());let r;n.layerStatesArray?r=n.layerStatesArray.find(o=>o.layer===this):r=this.getLayerState();const s=this.getExtent();return sa(r,n.viewState)&&(!s||$i(s,n.extent))}getAttributions(e){var s;if(!this.isVisible(e))return[];const n=(s=this.getSource())==null?void 0:s.getAttributions();if(!n)return[];const i=e instanceof St?e.getViewStateAndExtent():e;let r=n(i);return Array.isArray(r)||(r=[r]),r}render(e,n){const i=this.getRenderer();return i.prepareFrame(e)?(this.rendered=!0,i.renderFrame(e,n)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,n){}renderDeferred(e){const n=this.getRenderer();n&&n.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(ye.MAP,e)}getMapInternal(){return this.get(ye.MAP)}setMap(e){this.mapPrecomposeKey_&&(Ae(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Ae(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=ge(e,Mt.PRECOMPOSE,n=>{const r=n.frameState.layerStatesArray,s=this.getLayerState(!1);ve(!r.some(function(o){return o.layer===s.layer}),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),r.push(s)}),this.mapRenderKey_=ge(this,J.CHANGE,e.render,e),this.changed())}setSource(e){this.set(ye.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function sa(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const i=e.zoom;return i>t.minZoom&&i<=t.maxZoom}function nh(t,e,n=0,i=t.length-1,r=Km){for(;i>n;){if(i-n>600){const l=i-n+1,u=e-n+1,c=Math.log(l),h=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*h*(l-h)/l)*(u-l/2<0?-1:1),d=Math.max(n,Math.floor(e-u*h/l+f)),_=Math.min(i,Math.floor(e+(l-u)*h/l+f));nh(t,e,d,_,r)}const s=t[e];let o=n,a=i;for(si(t,n,e),r(t[i],s)>0&&si(t,n,i);o<a;){for(si(t,o,a),o++,a--;r(t[o],s)<0;)o++;for(;r(t[a],s)>0;)a--}r(t[n],s)===0?si(t,n,a):(a++,si(t,a,i)),a<=e&&(n=a+1),e<=a&&(i=a-1)}}function si(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function Km(t,e){return t<e?-1:t>e?1:0}class Xm{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let n=this.data;const i=[];if(!dr(e,n))return i;const r=this.toBBox,s=[];for(;n;){for(let o=0;o<n.children.length;o++){const a=n.children[o],l=n.leaf?r(a):a;dr(e,l)&&(n.leaf?i.push(a):Ds(e,l)?this._all(a,i):s.push(a))}n=s.pop()}return i}collides(e){let n=this.data;if(!dr(e,n))return!1;const i=[];for(;n;){for(let r=0;r<n.children.length;r++){const s=n.children[r],o=n.leaf?this.toBBox(s):s;if(dr(e,o)){if(n.leaf||Ds(e,o))return!0;i.push(s)}}n=i.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let i=0;i<e.length;i++)this.insert(e[i]);return this}let n=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Nn([]),this}remove(e,n){if(!e)return this;let i=this.data;const r=this.toBBox(e),s=[],o=[];let a,l,u;for(;i||s.length;){if(i||(i=s.pop(),l=s[s.length-1],a=o.pop(),u=!0),i.leaf){const c=Um(e,i.children,n);if(c!==-1)return i.children.splice(c,1),s.push(i),this._condense(s),this}!u&&!i.leaf&&Ds(i,r)?(s.push(i),o.push(a),a=0,l=i,i=i.children[0]):l?(a++,i=l.children[a],u=!1):i=null}return this}toBBox(e){return e}compareMinX(e,n){return e.minX-n.minX}compareMinY(e,n){return e.minY-n.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,n){const i=[];for(;e;)e.leaf?n.push(...e.children):i.push(...e.children),e=i.pop();return n}_build(e,n,i,r){const s=i-n+1;let o=this._maxEntries,a;if(s<=o)return a=Nn(e.slice(n,i+1)),An(a,this.toBBox),a;r||(r=Math.ceil(Math.log(s)/Math.log(o)),o=Math.ceil(s/Math.pow(o,r-1))),a=Nn([]),a.leaf=!1,a.height=r;const l=Math.ceil(s/o),u=l*Math.ceil(Math.sqrt(o));jl(e,n,i,u,this.compareMinX);for(let c=n;c<=i;c+=u){const h=Math.min(c+u-1,i);jl(e,c,h,l,this.compareMinY);for(let f=c;f<=h;f+=l){const d=Math.min(f+l-1,h);a.children.push(this._build(e,f,d,r-1))}}return An(a,this.toBBox),a}_chooseSubtree(e,n,i,r){for(;r.push(n),!(n.leaf||r.length-1===i);){let s=1/0,o=1/0,a;for(let l=0;l<n.children.length;l++){const u=n.children[l],c=Os(u),h=Wm(e,u)-c;h<o?(o=h,s=c<s?c:s,a=u):h===o&&c<s&&(s=c,a=u)}n=a||n.children[0]}return n}_insert(e,n,i){const r=i?e:this.toBBox(e),s=[],o=this._chooseSubtree(r,this.data,n,s);for(o.children.push(e),fi(o,r);n>=0&&s[n].children.length>this._maxEntries;)this._split(s,n),n--;this._adjustParentBBoxes(r,s,n)}_split(e,n){const i=e[n],r=i.children.length,s=this._minEntries;this._chooseSplitAxis(i,s,r);const o=this._chooseSplitIndex(i,s,r),a=Nn(i.children.splice(o,i.children.length-o));a.height=i.height,a.leaf=i.leaf,An(i,this.toBBox),An(a,this.toBBox),n?e[n-1].children.push(a):this._splitRoot(i,a)}_splitRoot(e,n){this.data=Nn([e,n]),this.data.height=e.height+1,this.data.leaf=!1,An(this.data,this.toBBox)}_chooseSplitIndex(e,n,i){let r,s=1/0,o=1/0;for(let a=n;a<=i-n;a++){const l=hi(e,0,a,this.toBBox),u=hi(e,a,i,this.toBBox),c=Zm(l,u),h=Os(l)+Os(u);c<s?(s=c,r=a,o=h<o?h:o):c===s&&h<o&&(o=h,r=a)}return r||i-n}_chooseSplitAxis(e,n,i){const r=e.leaf?this.compareMinX:Vm,s=e.leaf?this.compareMinY:Ym,o=this._allDistMargin(e,n,i,r),a=this._allDistMargin(e,n,i,s);o<a&&e.children.sort(r)}_allDistMargin(e,n,i,r){e.children.sort(r);const s=this.toBBox,o=hi(e,0,n,s),a=hi(e,i-n,i,s);let l=fr(o)+fr(a);for(let u=n;u<i-n;u++){const c=e.children[u];fi(o,e.leaf?s(c):c),l+=fr(o)}for(let u=i-n-1;u>=n;u--){const c=e.children[u];fi(a,e.leaf?s(c):c),l+=fr(a)}return l}_adjustParentBBoxes(e,n,i){for(let r=i;r>=0;r--)fi(n[r],e)}_condense(e){for(let n=e.length-1,i;n>=0;n--)e[n].children.length===0?n>0?(i=e[n-1].children,i.splice(i.indexOf(e[n]),1)):this.clear():An(e[n],this.toBBox)}}function Um(t,e,n){if(!n)return e.indexOf(t);for(let i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function An(t,e){hi(t,0,t.children.length,e,t)}function hi(t,e,n,i,r){r||(r=Nn(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(let s=e;s<n;s++){const o=t.children[s];fi(r,t.leaf?i(o):o)}return r}function fi(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function Vm(t,e){return t.minX-e.minX}function Ym(t,e){return t.minY-e.minY}function Os(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function fr(t){return t.maxX-t.minX+(t.maxY-t.minY)}function Wm(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function Zm(t,e){const n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),s=Math.min(t.maxY,e.maxY);return Math.max(0,r-n)*Math.max(0,s-i)}function Ds(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function dr(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Nn(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function jl(t,e,n,i,r){const s=[e,n];for(;s.length;){if(n=s.pop(),e=s.pop(),n-e<=i)continue;const o=e+Math.ceil((n-e)/i/2)*i;nh(t,o,e,n,r),s.push(e,o,o,n)}}const oe={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function Kl(t){return t[0]>0&&t[1]>0}function Bm(t,e,n){return n===void 0&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function tt(t,e){return Array.isArray(t)?t:(e===void 0?e=[t,t]:(e[0]=t,e[1]=t),e)}class cs{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=tt(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new cs({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return ae()}getImage(e){return ae()}getHitDetectionImage(){return ae()}getPixelRatio(e){return 1}getImageState(){return ae()}getImageSize(){return ae()}getOrigin(){return ae()}getSize(){return ae()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=tt(e)}listenImageChange(e){ae()}load(){ae()}unlistenImageChange(e){ae()}ready(){return Promise.resolve()}}const Gi={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var Ne={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"]};Ne.whitepoint={2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}};Ne.max=Ne.whitepoint[2].D65;Ne.rgb=function(t,e){e=e||Ne.whitepoint[2].E;var n=t[0]/e[0],i=t[1]/e[1],r=t[2]/e[2],s,o,a;return s=n*3.240969941904521+i*-1.537383177570093+r*-.498610760293,o=n*-.96924363628087+i*1.87596750150772+r*.041555057407175,a=n*.055630079696993+i*-.20397695888897+r*1.056971514242878,s=s>.0031308?1.055*Math.pow(s,1/2.4)-.055:s=s*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o=o*12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=a*12.92,s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),a=Math.min(Math.max(0,a),1),[s*255,o*255,a*255]};Gi.xyz=function(t,e){var n=t[0]/255,i=t[1]/255,r=t[2]/255;n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92;var s=n*.41239079926595+i*.35758433938387+r*.18048078840183,o=n*.21263900587151+i*.71516867876775+r*.072192315360733,a=n*.019330818715591+i*.11919477979462+r*.95053215224966;return e=e||Ne.whitepoint[2].E,[s*e[0],o*e[1],a*e[2]]};const oa={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(t,e,n){var i,r,s,o,a,l,u,c,h,f,d,_,p;if(s=t[0],o=t[1],a=t[2],s===0)return[0,0,0];var v=.0011070564598794539;return e=e||"D65",n=n||2,h=Ne.whitepoint[n][e][0],f=Ne.whitepoint[n][e][1],d=Ne.whitepoint[n][e][2],_=4*h/(h+15*f+3*d),p=9*f/(h+15*f+3*d),i=o/(13*s)+_||0,r=a/(13*s)+p||0,u=s>8?f*Math.pow((s+16)/116,3):f*s*v,l=u*9*i/(4*r)||0,c=u*(12-3*i-20*r)/(4*r)||0,[l,u,c]}};Ne.luv=function(t,e,n){var i,r,s,o,a,l,u,c,h,f,d,_,p,v=.008856451679035631,E=903.2962962962961;e=e||"D65",n=n||2,h=Ne.whitepoint[n][e][0],f=Ne.whitepoint[n][e][1],d=Ne.whitepoint[n][e][2],_=4*h/(h+15*f+3*d),p=9*f/(h+15*f+3*d),l=t[0],u=t[1],c=t[2],i=4*l/(l+15*u+3*c)||0,r=9*u/(l+15*u+3*c)||0;var y=u/f;return s=y<=v?E*y:116*Math.pow(y,1/3)-16,o=13*s*(i-_),a=13*s*(r-p),[s,o,a]};var ih={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(t){var e=t[0],n=t[1],i=t[2],r,s,o;return o=i/360*2*Math.PI,r=n*Math.cos(o),s=n*Math.sin(o),[e,r,s]},xyz:function(t){return oa.xyz(ih.luv(t))}};oa.lchuv=function(t){var e=t[0],n=t[1],i=t[2],r=Math.sqrt(n*n+i*i),s=Math.atan2(i,n),o=s*360/2/Math.PI;return o<0&&(o+=360),[e,r,o]};Ne.lchuv=function(t){return oa.lchuv(Ne.luv(t))};const Xl={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var Ul={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function Hm(t){var c,h;var e,n=[],i=1,r;if(typeof t=="number")return{space:"rgb",values:[t>>>16,(t&65280)>>>8,t&255],alpha:1};if(typeof t=="number")return{space:"rgb",values:[t>>>16,(t&65280)>>>8,t&255],alpha:1};if(t=String(t).toLowerCase(),Xl[t])n=Xl[t].slice(),r="rgb";else if(t==="transparent")i=0,r="rgb",n=[0,0,0];else if(t[0]==="#"){var s=t.slice(1),o=s.length,a=o<=4;i=1,a?(n=[parseInt(s[0]+s[0],16),parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16)],o===4&&(i=parseInt(s[3]+s[3],16)/255)):(n=[parseInt(s[0]+s[1],16),parseInt(s[2]+s[3],16),parseInt(s[4]+s[5],16)],o===8&&(i=parseInt(s[6]+s[7],16)/255)),n[0]||(n[0]=0),n[1]||(n[1]=0),n[2]||(n[2]=0),r="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(t)){var l=e[1];r=l.replace(/a$/,"");var u=r==="cmyk"?4:r==="gray"?1:3;n=e[2].trim().split(/\s*[,\/]\s*|\s+/),r==="color"&&(r=n.shift()),n=n.map(function(f,d){if(f[f.length-1]==="%")return f=parseFloat(f)/100,d===3?f:r==="rgb"?f*255:r[0]==="h"||r[0]==="l"&&!d?f*100:r==="lab"?f*125:r==="lch"?d<2?f*150:f*360:r[0]==="o"&&!d?f:r==="oklab"?f*.4:r==="oklch"?d<2?f*.4:f*360:f;if(r[d]==="h"||d===2&&r[r.length-1]==="h"){if(Ul[f]!==void 0)return Ul[f];if(f.endsWith("deg"))return parseFloat(f);if(f.endsWith("turn"))return parseFloat(f)*360;if(f.endsWith("grad"))return parseFloat(f)*360/400;if(f.endsWith("rad"))return parseFloat(f)*180/Math.PI}return f==="none"?0:parseFloat(f)}),i=n.length>u?n.pop():1}else/[0-9](?:\s|\/|,)/.test(t)&&(n=t.match(/([0-9]+)/g).map(function(f){return parseFloat(f)}),r=((h=(c=t.match(/([a-z])/ig))==null?void 0:c.join(""))==null?void 0:h.toLowerCase())||"rgb");return{space:r,values:n,alpha:i}}const Fs={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e=t[0]/360,n=t[1]/100,i=t[2]/100,r,s,o,a,l,u=0;if(n===0)return l=i*255,[l,l,l];for(s=i<.5?i*(1+n):i+n-i*n,r=2*i-s,a=[0,0,0];u<3;)o=e+1/3*-(u-1),o<0?o++:o>1&&o--,l=6*o<1?r+(s-r)*6*o:2*o<1?s:3*o<2?r+(s-r)*(2/3-o)*6:r,a[u++]=l*255;return a}};Gi.hsl=function(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255,r=Math.min(e,n,i),s=Math.max(e,n,i),o=s-r,a,l,u;return s===r?a=0:e===s?a=(n-i)/o:n===s?a=2+(i-e)/o:i===s&&(a=4+(e-n)/o),a=Math.min(a*60,360),a<0&&(a+=360),u=(r+s)/2,s===r?l=0:u<=.5?l=o/(s+r):l=o/(2-s-r),[a,l*100,u*100]};function $m(t){Array.isArray(t)&&t.raw&&(t=String.raw(...arguments)),t instanceof Number&&(t=+t);var e,n=Hm(t);if(!n.space)return[];const i=n.space[0]==="h"?Fs.min:Gi.min,r=n.space[0]==="h"?Fs.max:Gi.max;return e=Array(3),e[0]=Math.min(Math.max(n.values[0],i[0]),r[0]),e[1]=Math.min(Math.max(n.values[1],i[1]),r[1]),e[2]=Math.min(Math.max(n.values[2],i[2]),r[2]),n.space[0]==="h"&&(e=Fs.rgb(e)),e.push(Math.min(Math.max(n.alpha,0),1)),e}const aa=[NaN,NaN,NaN,0];function qm(t){return typeof t=="string"?t:ca(t)}const Jm=1024,oi={};let Ns=0;function Qm(t){if(t.length===4)return t;const e=t.slice();return e[3]=1,e}function Vl(t){const e=Ne.lchuv(Gi.xyz(t));return e[3]=t[3],e}function ep(t){const e=Ne.rgb(ih.xyz(t));return e[3]=t[3],e}function la(t){if(t==="none")return aa;if(oi.hasOwnProperty(t))return oi[t];if(Ns>=Jm){let n=0;for(const i in oi)n++&3||(delete oi[i],--Ns)}const e=$m(t);if(e.length!==4)throw new Error('failed to parse "'+t+'" as color');for(const n of e)if(isNaN(n))throw new Error('failed to parse "'+t+'" as color');return rh(e),oi[t]=e,++Ns,e}function ji(t){return Array.isArray(t)?t:la(t)}function rh(t){return t[0]=Le(t[0]+.5|0,0,255),t[1]=Le(t[1]+.5|0,0,255),t[2]=Le(t[2]+.5|0,0,255),t[3]=Le(t[3],0,1),t}function ca(t){let e=t[0];e!=(e|0)&&(e=e+.5|0);let n=t[1];n!=(n|0)&&(n=n+.5|0);let i=t[2];i!=(i|0)&&(i=i+.5|0);const r=t[3]===void 0?1:Math.round(t[3]*1e3)/1e3;return"rgba("+e+","+n+","+i+","+r+")"}const on=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",tp=on.includes("firefox"),np=on.includes("safari")&&!on.includes("chrom");np&&(on.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(on));const ip=on.includes("webkit")&&!on.includes("edge"),sh=on.includes("macintosh"),oh=typeof devicePixelRatio<"u"?devicePixelRatio:1,rp=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,ah=typeof Image<"u"&&Image.prototype.decode,lh=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return t}();function qe(t,e,n,i){let r;return n&&n.length?r=n.shift():rp?r=new OffscreenCanvas(t||300,e||300):r=document.createElement("canvas"),t&&(r.width=t),e&&(r.height=e),r.getContext("2d",i)}let ks;function Or(){return ks||(ks=qe(1,1)),ks}function Ki(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function Yl(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function sp(t){for(;t.lastChild;)t.lastChild.remove()}function op(t,e){const n=t.childNodes;for(let i=0;;++i){const r=n[i],s=e[i];if(!r&&!s)break;if(r!==s){if(!r){t.appendChild(s);continue}if(!s){t.removeChild(r),--i;continue}t.insertBefore(s,r)}}}function ap(t,e,n){const i=t;let r=!0,s=!1,o=!1;const a=[Sr(i,J.LOAD,function(){o=!0,s||e()})];return i.src&&ah?(s=!0,i.decode().then(function(){r&&e()}).catch(function(l){r&&(o?e():n())})):a.push(Sr(i,J.ERROR,n)),function(){r=!1,a.forEach(Ae)}}function lp(t,e){return new Promise((n,i)=>{function r(){o(),n(t)}function s(){o(),i(new Error("Image load error"))}function o(){t.removeEventListener("load",r),t.removeEventListener("error",s)}t.addEventListener("load",r),t.addEventListener("error",s)})}function cp(t,e){return e&&(t.src=e),t.src&&ah?new Promise((n,i)=>t.decode().then(()=>n(t)).catch(r=>t.complete&&t.width?n(t):i(r))):lp(t)}class up{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const n in this.cache_){const i=this.cache_[n];!(e++&3)&&!i.hasListener()&&(delete this.cache_[n],delete this.patternCache_[n],--this.cacheSize_)}}}get(e,n,i){const r=zs(e,n,i);return r in this.cache_?this.cache_[r]:null}getPattern(e,n,i){const r=zs(e,n,i);return r in this.patternCache_?this.patternCache_[r]:null}set(e,n,i,r,s){const o=zs(e,n,i),a=o in this.cache_;this.cache_[o]=r,s&&(r.getImageState()===oe.IDLE&&r.load(),r.getImageState()===oe.LOADING?r.ready().then(()=>{this.patternCache_[o]=Or().createPattern(r.getImage(1),"repeat")}):this.patternCache_[o]=Or().createPattern(r.getImage(1),"repeat")),a||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function zs(t,e,n){const i=n?ji(n):"null";return e+":"+t+":"+i}const Pt=new up;let ai=null;class hp extends ns{constructor(e,n,i,r,s){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=i,this.canvas_={},this.color_=s,this.imageState_=r===void 0?oe.IDLE:r,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=n,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===oe.LOADED){ai||(ai=qe(1,1,void 0,{willReadFrequently:!0})),ai.drawImage(this.image_,0,0);try{ai.getImageData(0,0,1,1),this.tainted_=!1}catch{ai=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(J.CHANGE)}handleImageError_(){this.imageState_=oe.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=oe.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],n=this.size_[1],i=qe(e,n);i.fillRect(0,0,e,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===oe.IDLE){this.image_||this.initializeImage_(),this.imageState_=oe.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&cp(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==oe.LOADED)return;const n=this.image_,i=document.createElement("canvas");i.width=Math.ceil(n.width*e),i.height=Math.ceil(n.height*e);const r=i.getContext("2d");r.scale(e,e),r.drawImage(n,0,0),r.globalCompositeOperation="multiply",r.fillStyle=qm(this.color_),r.fillRect(0,0,i.width/e,i.height/e),r.globalCompositeOperation="destination-in",r.drawImage(n,0,0),this.canvas_[e]=i}ready(){return this.ready_||(this.ready_=new Promise(e=>{if(this.imageState_===oe.LOADED||this.imageState_===oe.ERROR)e();else{const n=()=>{(this.imageState_===oe.LOADED||this.imageState_===oe.ERROR)&&(this.removeEventListener(J.CHANGE,n),e())};this.addEventListener(J.CHANGE,n)}})),this.ready_}}function ua(t,e,n,i,r,s){let o=e===void 0?void 0:Pt.get(e,n,r);return o||(o=new hp(t,t&&"src"in t?t.src||void 0:e,n,i,r),Pt.set(e,n,r,o,s)),s&&o&&!Pt.getPattern(e,n,r)&&Pt.set(e,n,r,o,s),o}function Wl(t){return t?Array.isArray(t)?ca(t):typeof t=="object"&&"src"in t?fp(t):t:null}function fp(t){if(!t.offset||!t.size)return Pt.getPattern(t.src,"anonymous",t.color);const e=t.src+":"+t.offset,n=Pt.getPattern(e,void 0,t.color);if(n)return n;const i=Pt.get(t.src,"anonymous",null);if(i.getImageState()!==oe.LOADED)return null;const r=qe(t.size[0],t.size[1]);return r.drawImage(i.getImage(1),t.offset[0],t.offset[1],t.size[0],t.size[1],0,0,t.size[0],t.size[1]),ua(r.canvas,e,void 0,oe.LOADED,t.color,!0),Pt.getPattern(e,void 0,t.color)}const gr="ol-hidden",us="ol-unselectable",ha="ol-control",Zl="ol-collapsed",Bl="#000",Hl="round",$l="round",dp=10,gp="#000",_p=1,mp=new Yt;class hs extends cs{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.canvases_,this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?oe.LOADING:oe.LOADED,this.imageState_===oe.LOADING&&this.ready().then(()=>this.imageState_=oe.LOADED),this.render()}clone(){const e=this.getScale(),n=new hs({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const e=this.size_,n=this.getDisplacement(),i=this.getScaleArray();return[e[0]/2-n[0]/i[0],e[1]/2+n[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){let n=this.canvases_[e];if(!n){const i=this.renderOptions_,r=qe(i.size*e,i.size*e);this.draw_(i,r,e),n=r.canvas,this.canvases_[e]=n}return n}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,n,i){if(n===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return n;let r=this.radius,s=this.radius2_===void 0?r:this.radius2_;if(r<s){const X=r;r=s,s=X}const o=this.radius2_===void 0?this.points_:this.points_*2,a=2*Math.PI/o,l=s*Math.sin(a),u=Math.sqrt(s*s-l*l),c=r-u,h=Math.sqrt(l*l+c*c),f=h/l;if(e==="miter"&&f<=i)return f*n;const d=n/2/f,_=n/2*(c/h),v=Math.sqrt((r+d)*(r+d)+_*_)-r;if(this.radius2_===void 0||e==="bevel")return v*2;const E=r*Math.sin(a),y=Math.sqrt(r*r-E*E),C=s-y,I=Math.sqrt(E*E+C*C)/E;if(I<=i){const X=I*n/2-s-r;return 2*Math.max(v,X)}return v*2}createRenderOptions(){let e=Hl,n=$l,i=0,r=null,s=0,o,a=0;this.stroke_&&(o=Wl(this.stroke_.getColor()??gp),a=this.stroke_.getWidth()??_p,r=this.stroke_.getLineDash(),s=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??$l,e=this.stroke_.getLineCap()??Hl,i=this.stroke_.getMiterLimit()??dp);const l=this.calculateLineJoinSize_(n,a,i),u=Math.max(this.radius,this.radius2_||0),c=Math.ceil(2*u+l);return{strokeStyle:o,strokeWidth:a,size:c,lineCap:e,lineDash:r,lineDashOffset:s,lineJoin:n,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.canvases_={},this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,n,i){if(n.scale(i,i),n.translate(e.size/2,e.size/2),this.createPath_(n),this.fill_){let r=this.fill_.getColor();r===null&&(r=Bl),n.fillStyle=Wl(r),n.fill()}e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineCap=e.lineCap,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}createHitDetectionCanvas_(e){let n;if(this.fill_){let i=this.fill_.getColor(),r=0;typeof i=="string"&&(i=ji(i)),i===null?r=1:Array.isArray(i)&&(r=i.length===4?i[3]:1),r===0&&(n=qe(e.size,e.size),this.drawHitDetectionCanvas_(e,n))}return n?n.canvas:this.getImage(1)}createPath_(e){let n=this.points_;const i=this.radius;if(n===1/0)e.arc(0,0,i,0,2*Math.PI);else{const r=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(n*=2);const s=this.angle_-Math.PI/2,o=2*Math.PI/n;for(let a=0;a<n;a++){const l=s+a*o,u=a%2===0?i:r;e.lineTo(u*Math.cos(l),u*Math.sin(l))}e.closePath()}}drawHitDetectionCanvas_(e,n){n.translate(e.size/2,e.size/2),this.createPath_(n),n.fillStyle=Bl,n.fill(),e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class fs extends hs{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),n=new fs({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(e){this.radius=e,this.render()}}class qi{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){const e=this.getColor();return new qi({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){const n=ua(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));n.ready().then(()=>{this.patternImage_=null}),n.getImageState()===oe.IDLE&&n.load(),n.getImageState()===oe.LOADING&&(this.patternImage_=n)}this.color_=e}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}class ds{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new ds({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}class yn{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=ql,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new yn({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(n){return n.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=ql,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function pp(t){let e;if(typeof t=="function")e=t;else{let n;Array.isArray(t)?n=t:(ve(typeof t.getZIndex=="function","Expected an `Style` or an array of `Style`"),n=[t]),e=function(){return n}}return e}let Gs=null;function ch(t,e){if(!Gs){const n=new qi({color:"rgba(255,255,255,0.4)"}),i=new ds({color:"#3399CC",width:1.25});Gs=[new yn({image:new fs({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return Gs}function ql(t){return t.getGeometry()}function Jl(t,e,n,i){return n!==void 0&&i!==void 0?[n/t,i/e]:n!==void 0?n/t:i!==void 0?i/e:1}class fa extends cs{constructor(e){e=e||{};const n=e.opacity!==void 0?e.opacity:1,i=e.rotation!==void 0?e.rotation:0,r=e.scale!==void 0?e.scale:1,s=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:n,rotation:i,scale:r,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:s,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const o=e.img!==void 0?e.img:null;let a=e.src;ve(!(a!==void 0&&o),"`image` and `src` cannot be provided at the same time"),(a===void 0||a.length===0)&&o&&(a=o.src||He(o)),ve(a!==void 0&&a.length>0,"A defined and non-empty `src` or `image` must be provided"),ve(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let l;if(e.src!==void 0?l=oe.IDLE:o!==void 0&&("complete"in o?o.complete?l=o.src?oe.LOADED:oe.IDLE:l=oe.LOADING:l=oe.LOADED),this.color_=e.color!==void 0?ji(e.color):null,this.iconImage_=ua(o,a,this.crossOrigin_,l,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.initialOptions_,e.width!==void 0||e.height!==void 0){let u,c;if(e.size)[u,c]=e.size;else{const h=this.getImage(1);if(h.width&&h.height)u=h.width,c=h.height;else if(h instanceof HTMLImageElement){this.initialOptions_=e;const f=()=>{if(this.unlistenImageChange(f),!this.initialOptions_)return;const d=this.iconImage_.getSize();this.setScale(Jl(d[0],d[1],e.width,e.height))};this.listenImageChange(f);return}}u!==void 0&&this.setScale(Jl(u,c,e.width,e.height))}}clone(){let e,n,i;return this.initialOptions_?(n=this.initialOptions_.width,i=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new fa({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:n,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const r=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!r)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=r[0]),this.anchorYUnits_=="fraction"&&(e[1]*=r[1])}if(this.anchorOrigin_!="top-left"){if(!r)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+r[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+r[1])}this.normalizedAnchor_=e}const n=this.getDisplacement(),i=this.getScaleArray();return[e[0]-n[0]/i[0],e[1]+n[1]/i[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),i=this.iconImage_.getSize();if(!n||!i)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=i[0]-n[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=i[1]-n[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==oe.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){const e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==oe.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(J.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(J.CHANGE,e)}ready(){return this.iconImage_.ready()}}const yp="#333";class da{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=tt(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new qi({color:yp}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new da({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=tt(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}let xn=0;const $e=1<<xn++,ie=1<<xn++,Qe=1<<xn++,mt=1<<xn++,vn=1<<xn++,di=1<<xn++,_r=Math.pow(2,xn)-1,ga={[$e]:"boolean",[ie]:"number",[Qe]:"string",[mt]:"color",[vn]:"number[]",[di]:"size"},Ep=Object.keys(ga).map(Number).sort(Jr);function vp(t){return t in ga}function gi(t){const e=[];for(const n of Ep)_i(t,n)&&e.push(ga[n]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function _i(t,e){return(t&e)===e}function Ht(t,e){return t===e}class Oe{constructor(e,n){if(!vp(e))throw new Error(`literal expressions must have a specific type, got ${gi(e)}`);this.type=e,this.value=n}}class wp{constructor(e,n,...i){this.type=e,this.operator=n,this.args=i}}function uh(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1}}function ke(t,e,n){switch(typeof t){case"boolean":{if(Ht(e,Qe))return new Oe(Qe,t?"true":"false");if(!_i(e,$e))throw new Error(`got a boolean, but expected ${gi(e)}`);return new Oe($e,t)}case"number":{if(Ht(e,di))return new Oe(di,tt(t));if(Ht(e,$e))return new Oe($e,!!t);if(Ht(e,Qe))return new Oe(Qe,t.toString());if(!_i(e,ie))throw new Error(`got a number, but expected ${gi(e)}`);return new Oe(ie,t)}case"string":{if(Ht(e,mt))return new Oe(mt,la(t));if(Ht(e,$e))return new Oe($e,!!t);if(!_i(e,Qe))throw new Error(`got a string, but expected ${gi(e)}`);return new Oe(Qe,t)}}if(!Array.isArray(t))throw new Error("expression must be an array or a primitive value");if(t.length===0)throw new Error("empty expression");if(typeof t[0]=="string")return Lp(t,e,n);for(const i of t)if(typeof i!="number")throw new Error("expected an array of numbers");if(Ht(e,di)){if(t.length!==2)throw new Error(`expected an array of two values for a size, got ${t.length}`);return new Oe(di,t)}if(Ht(e,mt)){if(t.length===3)return new Oe(mt,[...t,1]);if(t.length===4)return new Oe(mt,t);throw new Error(`expected an array of 3 or 4 values for a color, got ${t.length}`)}if(!_i(e,vn))throw new Error(`got an array of numbers, but expected ${gi(e)}`);return new Oe(vn,t)}const b={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},Rp={[b.Get]:W(q(1,1/0),Ql),[b.Var]:W(q(1,1),Cp),[b.Has]:W(q(1,1/0),Ql),[b.Id]:W(xp,Sn),[b.Concat]:W(q(2,1/0),fe(Qe)),[b.GeometryType]:W(Tp,Sn),[b.LineMetric]:W(Sn),[b.Resolution]:W(Sn),[b.Zoom]:W(Sn),[b.Time]:W(Sn),[b.Any]:W(q(2,1/0),fe($e)),[b.All]:W(q(2,1/0),fe($e)),[b.Not]:W(q(1,1),fe($e)),[b.Equal]:W(q(2,2),fe(_r)),[b.NotEqual]:W(q(2,2),fe(_r)),[b.GreaterThan]:W(q(2,2),fe(ie)),[b.GreaterThanOrEqualTo]:W(q(2,2),fe(ie)),[b.LessThan]:W(q(2,2),fe(ie)),[b.LessThanOrEqualTo]:W(q(2,2),fe(ie)),[b.Multiply]:W(q(2,1/0),ec),[b.Coalesce]:W(q(2,1/0),ec),[b.Divide]:W(q(2,2),fe(ie)),[b.Add]:W(q(2,1/0),fe(ie)),[b.Subtract]:W(q(2,2),fe(ie)),[b.Clamp]:W(q(3,3),fe(ie)),[b.Mod]:W(q(2,2),fe(ie)),[b.Pow]:W(q(2,2),fe(ie)),[b.Abs]:W(q(1,1),fe(ie)),[b.Floor]:W(q(1,1),fe(ie)),[b.Ceil]:W(q(1,1),fe(ie)),[b.Round]:W(q(1,1),fe(ie)),[b.Sin]:W(q(1,1),fe(ie)),[b.Cos]:W(q(1,1),fe(ie)),[b.Atan]:W(q(1,2),fe(ie)),[b.Sqrt]:W(q(1,1),fe(ie)),[b.Match]:W(q(4,1/0),tc,Ip),[b.Between]:W(q(3,3),fe(ie)),[b.Interpolate]:W(q(6,1/0),tc,Ap),[b.Case]:W(q(3,1/0),bp,Sp),[b.In]:W(q(2,2),Mp),[b.Number]:W(q(1,1/0),fe(_r)),[b.String]:W(q(1,1/0),fe(_r)),[b.Array]:W(q(1,1/0),fe(ie)),[b.Color]:W(q(1,4),fe(ie)),[b.Band]:W(q(1,3),fe(ie)),[b.Palette]:W(q(2,2),Pp),[b.ToString]:W(q(1,1),fe($e|ie|Qe|mt))};function Ql(t,e,n){const i=t.length-1,r=new Array(i);for(let s=0;s<i;++s){const o=t[s+1];switch(typeof o){case"number":{r[s]=new Oe(ie,o);break}case"string":{r[s]=new Oe(Qe,o);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${o}`)}s===0&&n.properties.add(String(o))}return r}function Cp(t,e,n){const i=t[1];if(typeof i!="string")throw new Error("expected a string argument for var operation");return n.variables.add(i),[new Oe(Qe,i)]}function xp(t,e,n){n.featureId=!0}function Tp(t,e,n){n.geometryType=!0}function Sn(t,e,n){const i=t[0];if(t.length!==1)throw new Error(`expected no arguments for ${i} operation`);return[]}function q(t,e){return function(n,i,r){const s=n[0],o=n.length-1;if(t===e){if(o!==t){const a=t===1?"":"s";throw new Error(`expected ${t} argument${a} for ${s}, got ${o}`)}}else if(o<t||o>e){const a=e===1/0?`${t} or more`:`${t} to ${e}`;throw new Error(`expected ${a} arguments for ${s}, got ${o}`)}}}function ec(t,e,n){const i=t.length-1,r=new Array(i);for(let s=0;s<i;++s){const o=ke(t[s+1],e,n);r[s]=o}return r}function fe(t){return function(e,n,i){const r=e.length-1,s=new Array(r);for(let o=0;o<r;++o){const a=ke(e[o+1],t,i);s[o]=a}return s}}function bp(t,e,n){const i=t[0],r=t.length-1;if(r%2===0)throw new Error(`expected an odd number of arguments for ${i}, got ${r} instead`)}function tc(t,e,n){const i=t[0],r=t.length-1;if(r%2===1)throw new Error(`expected an even number of arguments for operation ${i}, got ${r} instead`)}function Ip(t,e,n){const i=t.length-1,r=Qe|ie|$e,s=ke(t[1],r,n),o=ke(t[t.length-1],e,n),a=new Array(i-2);for(let l=0;l<i-2;l+=2){try{const u=ke(t[l+2],s.type,n);a[l]=u}catch(u){throw new Error(`failed to parse argument ${l+1} of match expression: ${u.message}`)}try{const u=ke(t[l+3],o.type,n);a[l+1]=u}catch(u){throw new Error(`failed to parse argument ${l+2} of match expression: ${u.message}`)}}return[s,...a,o]}function Ap(t,e,n){const i=t[1];let r;switch(i[0]){case"linear":r=1;break;case"exponential":const l=i[1];if(typeof l!="number"||l<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(l)} instead`);r=l;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(i)}`)}const s=new Oe(ie,r);let o;try{o=ke(t[2],ie,n)}catch(l){throw new Error(`failed to parse argument 1 in interpolate expression: ${l.message}`)}const a=new Array(t.length-3);for(let l=0;l<a.length;l+=2){try{const u=ke(t[l+3],ie,n);a[l]=u}catch(u){throw new Error(`failed to parse argument ${l+2} for interpolate expression: ${u.message}`)}try{const u=ke(t[l+4],e,n);a[l+1]=u}catch(u){throw new Error(`failed to parse argument ${l+3} for interpolate expression: ${u.message}`)}}return[s,o,...a]}function Sp(t,e,n){const i=ke(t[t.length-1],e,n),r=new Array(t.length-1);for(let s=0;s<r.length-1;s+=2){try{const o=ke(t[s+1],$e,n);r[s]=o}catch(o){throw new Error(`failed to parse argument ${s} of case expression: ${o.message}`)}try{const o=ke(t[s+2],i.type,n);r[s+1]=o}catch(o){throw new Error(`failed to parse argument ${s+1} of case expression: ${o.message}`)}}return r[r.length-1]=i,r}function Mp(t,e,n){let i=t[2];if(!Array.isArray(i))throw new Error('the second argument for the "in" operator must be an array');let r;if(typeof i[0]=="string"){if(i[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(i[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');i=i[1],r=Qe}else r=ie;const s=new Array(i.length);for(let a=0;a<s.length;a++)try{const l=ke(i[a],r,n);s[a]=l}catch(l){throw new Error(`failed to parse haystack item ${a} for "in" expression: ${l.message}`)}return[ke(t[1],r,n),...s]}function Pp(t,e,n){let i;try{i=ke(t[1],ie,n)}catch(o){throw new Error(`failed to parse first argument in palette expression: ${o.message}`)}const r=t[2];if(!Array.isArray(r))throw new Error("the second argument of palette must be an array");const s=new Array(r.length);for(let o=0;o<s.length;o++){let a;try{a=ke(r[o],mt,n)}catch(l){throw new Error(`failed to parse color at index ${o} in palette expression: ${l.message}`)}if(!(a instanceof Oe))throw new Error(`the palette color at index ${o} must be a literal value`);s[o]=a}return[i,...s]}function W(...t){return function(e,n,i){const r=e[0];let s;for(let o=0;o<t.length;o++){const a=t[o](e,n,i);if(o==t.length-1){if(!a)throw new Error("expected last argument validator to return the parsed args");s=a}}return new wp(n,r,...s)}}function Lp(t,e,n){const i=t[0],r=Rp[i];if(!r)throw new Error(`unknown operator: ${i}`);return r(t,e,n)}function hh(t){if(!t)return"";const e=t.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return hh(t.getGeometries()[0]);default:return""}}function fh(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function Wt(t,e,n){const i=ke(t,e,n);return xt(i)}function xt(t,e){if(t instanceof Oe){if(t.type===mt&&typeof t.value=="string"){const i=la(t.value);return function(){return i}}return function(){return t.value}}const n=t.operator;switch(n){case b.Number:case b.String:case b.Coalesce:return Op(t);case b.Get:case b.Var:case b.Has:return Dp(t);case b.Id:return i=>i.featureId;case b.GeometryType:return i=>i.geometryType;case b.Concat:{const i=t.args.map(r=>xt(r));return r=>"".concat(...i.map(s=>s(r).toString()))}case b.Resolution:return i=>i.resolution;case b.Any:case b.All:case b.Between:case b.In:case b.Not:return Np(t);case b.Equal:case b.NotEqual:case b.LessThan:case b.LessThanOrEqualTo:case b.GreaterThan:case b.GreaterThanOrEqualTo:return Fp(t);case b.Multiply:case b.Divide:case b.Add:case b.Subtract:case b.Clamp:case b.Mod:case b.Pow:case b.Abs:case b.Floor:case b.Ceil:case b.Round:case b.Sin:case b.Cos:case b.Atan:case b.Sqrt:return kp(t);case b.Case:return zp(t);case b.Match:return Gp(t);case b.Interpolate:return jp(t);case b.ToString:return Kp(t);default:throw new Error(`Unsupported operator ${n}`)}}function Op(t,e){const n=t.operator,i=t.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=xt(t.args[s]);switch(n){case b.Coalesce:return s=>{for(let o=0;o<i;++o){const a=r[o](s);if(typeof a<"u"&&a!==null)return a}throw new Error("Expected one of the values to be non-null")};case b.Number:case b.String:return s=>{for(let o=0;o<i;++o){const a=r[o](s);if(typeof a===n)return a}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}function Dp(t,e){const i=t.args[0].value;switch(t.operator){case b.Get:return r=>{const s=t.args;let o=r.properties[i];for(let a=1,l=s.length;a<l;++a){const c=s[a].value;o=o[c]}return o};case b.Var:return r=>r.variables[i];case b.Has:return r=>{const s=t.args;if(!(i in r.properties))return!1;let o=r.properties[i];for(let a=1,l=s.length;a<l;++a){const c=s[a].value;if(!o||!Object.hasOwn(o,c))return!1;o=o[c]}return!0};default:throw new Error(`Unsupported accessor operator ${t.operator}`)}}function Fp(t,e){const n=t.operator,i=xt(t.args[0]),r=xt(t.args[1]);switch(n){case b.Equal:return s=>i(s)===r(s);case b.NotEqual:return s=>i(s)!==r(s);case b.LessThan:return s=>i(s)<r(s);case b.LessThanOrEqualTo:return s=>i(s)<=r(s);case b.GreaterThan:return s=>i(s)>r(s);case b.GreaterThanOrEqualTo:return s=>i(s)>=r(s);default:throw new Error(`Unsupported comparison operator ${n}`)}}function Np(t,e){const n=t.operator,i=t.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=xt(t.args[s]);switch(n){case b.Any:return s=>{for(let o=0;o<i;++o)if(r[o](s))return!0;return!1};case b.All:return s=>{for(let o=0;o<i;++o)if(!r[o](s))return!1;return!0};case b.Between:return s=>{const o=r[0](s),a=r[1](s),l=r[2](s);return o>=a&&o<=l};case b.In:return s=>{const o=r[0](s);for(let a=1;a<i;++a)if(o===r[a](s))return!0;return!1};case b.Not:return s=>!r[0](s);default:throw new Error(`Unsupported logical operator ${n}`)}}function kp(t,e){const n=t.operator,i=t.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=xt(t.args[s]);switch(n){case b.Multiply:return s=>{let o=1;for(let a=0;a<i;++a)o*=r[a](s);return o};case b.Divide:return s=>r[0](s)/r[1](s);case b.Add:return s=>{let o=0;for(let a=0;a<i;++a)o+=r[a](s);return o};case b.Subtract:return s=>r[0](s)-r[1](s);case b.Clamp:return s=>{const o=r[0](s),a=r[1](s);if(o<a)return a;const l=r[2](s);return o>l?l:o};case b.Mod:return s=>r[0](s)%r[1](s);case b.Pow:return s=>Math.pow(r[0](s),r[1](s));case b.Abs:return s=>Math.abs(r[0](s));case b.Floor:return s=>Math.floor(r[0](s));case b.Ceil:return s=>Math.ceil(r[0](s));case b.Round:return s=>Math.round(r[0](s));case b.Sin:return s=>Math.sin(r[0](s));case b.Cos:return s=>Math.cos(r[0](s));case b.Atan:return i===2?s=>Math.atan2(r[0](s),r[1](s)):s=>Math.atan(r[0](s));case b.Sqrt:return s=>Math.sqrt(r[0](s));default:throw new Error(`Unsupported numeric operator ${n}`)}}function zp(t,e){const n=t.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=xt(t.args[r]);return r=>{for(let s=0;s<n-1;s+=2)if(i[s](r))return i[s+1](r);return i[n-1](r)}}function Gp(t,e){const n=t.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=xt(t.args[r]);return r=>{const s=i[0](r);for(let o=1;o<n;o+=2)if(s===i[o](r))return i[o+1](r);return i[n-1](r)}}function jp(t,e){const n=t.args.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=xt(t.args[r]);return r=>{const s=i[0](r),o=i[1](r);let a,l;for(let u=2;u<n;u+=2){const c=i[u](r);let h=i[u+1](r);const f=Array.isArray(h);if(f&&(h=Qm(h)),c>=o)return u===2?h:f?Xp(s,o,a,l,c,h):mi(s,o,a,l,c,h);a=c,l=h}return l}}function Kp(t,e){const n=t.operator,i=t.args.length,r=new Array(i);for(let s=0;s<i;++s)r[s]=xt(t.args[s]);switch(n){case b.ToString:return s=>{const o=r[0](s);return t.args[0].type===mt?ca(o):o.toString()};default:throw new Error(`Unsupported convert operator ${n}`)}}function mi(t,e,n,i,r,s){const o=r-n;if(o===0)return i;const a=e-n,l=t===1?a/o:(Math.pow(t,a)-1)/(Math.pow(t,o)-1);return i+l*(s-i)}function Xp(t,e,n,i,r,s){if(r-n===0)return i;const a=Vl(i),l=Vl(s);let u=l[2]-a[2];u>180?u-=360:u<-180&&(u+=360);const c=[mi(t,e,n,a[0],r,l[0]),mi(t,e,n,a[1],r,l[1]),a[2]+mi(t,e,n,0,r,u),mi(t,e,n,i[3],r,s[3])];return rh(ep(c))}function Up(t){return!0}function Vp(t){const e=uh(),n=Yp(t,e),i=fh();return function(r,s){if(i.properties=r.getPropertiesInternal(),i.resolution=s,e.featureId){const o=r.getId();o!==void 0?i.featureId=o:i.featureId=null}return e.geometryType&&(i.geometryType=hh(r.getGeometry())),n(i)}}function nc(t){const e=uh(),n=t.length,i=new Array(n);for(let o=0;o<n;++o)i[o]=go(t[o],e);const r=fh(),s=new Array(n);return function(o,a){if(r.properties=o.getPropertiesInternal(),r.resolution=a,e.featureId){const u=o.getId();u!==void 0?r.featureId=u:r.featureId=null}let l=0;for(let u=0;u<n;++u){const c=i[u](r);c&&(s[l]=c,l+=1)}return s.length=l,s}}function Yp(t,e){const n=t.length,i=new Array(n);for(let r=0;r<n;++r){const s=t[r],o="filter"in s?Wt(s.filter,$e,e):Up;let a;if(Array.isArray(s.style)){const l=s.style.length;a=new Array(l);for(let u=0;u<l;++u)a[u]=go(s.style[u],e)}else a=[go(s.style,e)];i[r]={filter:o,styles:a}}return function(r){const s=[];let o=!1;for(let a=0;a<n;++a){const l=i[a].filter;if(l(r)&&!(t[a].else&&o)){o=!0;for(const u of i[a].styles){const c=u(r);c&&s.push(c)}}}return s}}function go(t,e){const n=Xi(t,"",e),i=Ui(t,"",e),r=Wp(t,e),s=Zp(t,e),o=et(t,"z-index",e);if(!n&&!i&&!r&&!s&&!Du(t))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(t));const a=new yn;return function(l){let u=!0;if(n){const c=n(l);c&&(u=!1),a.setFill(c)}if(i){const c=i(l);c&&(u=!1),a.setStroke(c)}if(r){const c=r(l);c&&(u=!1),a.setText(c)}if(s){const c=s(l);c&&(u=!1),a.setImage(c)}return o&&a.setZIndex(o(l)),u?null:a}}function Xi(t,e,n){let i;if(e+"fill-pattern-src"in t)i=qp(t,e+"fill-",n);else{if(t[e+"fill-color"]==="none")return s=>null;i=_a(t,e+"fill-color",n)}if(!i)return null;const r=new qi;return function(s){const o=i(s);return o===aa?null:(r.setColor(o),r)}}function Ui(t,e,n){const i=et(t,e+"stroke-width",n),r=_a(t,e+"stroke-color",n);if(!i&&!r)return null;const s=Gt(t,e+"stroke-line-cap",n),o=Gt(t,e+"stroke-line-join",n),a=dh(t,e+"stroke-line-dash",n),l=et(t,e+"stroke-line-dash-offset",n),u=et(t,e+"stroke-miter-limit",n),c=new ds;return function(h){if(r){const f=r(h);if(f===aa)return null;c.setColor(f)}if(i&&c.setWidth(i(h)),s){const f=s(h);if(f!=="butt"&&f!=="round"&&f!=="square")throw new Error("Expected butt, round, or square line cap");c.setLineCap(f)}if(o){const f=o(h);if(f!=="bevel"&&f!=="round"&&f!=="miter")throw new Error("Expected bevel, round, or miter line join");c.setLineJoin(f)}return a&&c.setLineDash(a(h)),l&&c.setLineDashOffset(l(h)),u&&c.setMiterLimit(u(h)),c}}function Wp(t,e){const n="text-",i=Gt(t,n+"value",e);if(!i)return null;const r=Xi(t,n,e),s=Xi(t,n+"background-",e),o=Ui(t,n,e),a=Ui(t,n+"background-",e),l=Gt(t,n+"font",e),u=et(t,n+"max-angle",e),c=et(t,n+"offset-x",e),h=et(t,n+"offset-y",e),f=Vi(t,n+"overflow",e),d=Gt(t,n+"placement",e),_=et(t,n+"repeat",e),p=gs(t,n+"scale",e),v=Vi(t,n+"rotate-with-view",e),E=et(t,n+"rotation",e),y=Gt(t,n+"align",e),C=Gt(t,n+"justify",e),R=Gt(t,n+"baseline",e),I=dh(t,n+"padding",e),X=_s(t,n+"declutter-mode"),P=new da({declutterMode:X});return function(D){if(P.setText(i(D)),r&&P.setFill(r(D)),s&&P.setBackgroundFill(s(D)),o&&P.setStroke(o(D)),a&&P.setBackgroundStroke(a(D)),l&&P.setFont(l(D)),u&&P.setMaxAngle(u(D)),c&&P.setOffsetX(c(D)),h&&P.setOffsetY(h(D)),f&&P.setOverflow(f(D)),d){const U=d(D);if(U!=="point"&&U!=="line")throw new Error("Expected point or line for text-placement");P.setPlacement(U)}if(_&&P.setRepeat(_(D)),p&&P.setScale(p(D)),v&&P.setRotateWithView(v(D)),E&&P.setRotation(E(D)),y){const U=y(D);if(U!=="left"&&U!=="center"&&U!=="right"&&U!=="end"&&U!=="start")throw new Error("Expected left, right, center, start, or end for text-align");P.setTextAlign(U)}if(C){const U=C(D);if(U!=="left"&&U!=="right"&&U!=="center")throw new Error("Expected left, right, or center for text-justify");P.setJustify(U)}if(R){const U=R(D);if(U!=="bottom"&&U!=="top"&&U!=="middle"&&U!=="alphabetic"&&U!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");P.setTextBaseline(U)}return I&&P.setPadding(I(D)),P}}function Zp(t,e){return"icon-src"in t?Bp(t,e):"shape-points"in t?Hp(t,e):"circle-radius"in t?$p(t,e):null}function Bp(t,e){const n="icon-",i=n+"src",r=gh(t[i],i),s=Dr(t,n+"anchor",e),o=gs(t,n+"scale",e),a=et(t,n+"opacity",e),l=Dr(t,n+"displacement",e),u=et(t,n+"rotation",e),c=Vi(t,n+"rotate-with-view",e),h=rc(t,n+"anchor-origin"),f=sc(t,n+"anchor-x-units"),d=sc(t,n+"anchor-y-units"),_=t0(t,n+"color"),p=Qp(t,n+"cross-origin"),v=e0(t,n+"offset"),E=rc(t,n+"offset-origin"),y=Fr(t,n+"width"),C=Fr(t,n+"height"),R=Jp(t,n+"size"),I=_s(t,n+"declutter-mode"),X=new fa({src:r,anchorOrigin:h,anchorXUnits:f,anchorYUnits:d,color:_,crossOrigin:p,offset:v,offsetOrigin:E,height:C,width:y,size:R,declutterMode:I});return function(P){return a&&X.setOpacity(a(P)),l&&X.setDisplacement(l(P)),u&&X.setRotation(u(P)),c&&X.setRotateWithView(c(P)),o&&X.setScale(o(P)),s&&X.setAnchor(s(P)),X}}function Hp(t,e){const n="shape-",i=n+"points",r=n+"radius",s=_o(t[i],i),o=_o(t[r],r),a=Xi(t,n,e),l=Ui(t,n,e),u=gs(t,n+"scale",e),c=Dr(t,n+"displacement",e),h=et(t,n+"rotation",e),f=Vi(t,n+"rotate-with-view",e),d=Fr(t,n+"radius2"),_=Fr(t,n+"angle"),p=_s(t,n+"declutter-mode"),v=new hs({points:s,radius:o,radius2:d,angle:_,declutterMode:p});return function(E){return a&&v.setFill(a(E)),l&&v.setStroke(l(E)),c&&v.setDisplacement(c(E)),h&&v.setRotation(h(E)),f&&v.setRotateWithView(f(E)),u&&v.setScale(u(E)),v}}function $p(t,e){const n="circle-",i=Xi(t,n,e),r=Ui(t,n,e),s=et(t,n+"radius",e),o=gs(t,n+"scale",e),a=Dr(t,n+"displacement",e),l=et(t,n+"rotation",e),u=Vi(t,n+"rotate-with-view",e),c=_s(t,n+"declutter-mode"),h=new fs({radius:5,declutterMode:c});return function(f){return s&&h.setRadius(s(f)),i&&h.setFill(i(f)),r&&h.setStroke(r(f)),a&&h.setDisplacement(a(f)),l&&h.setRotation(l(f)),u&&h.setRotateWithView(u(f)),o&&h.setScale(o(f)),h}}function et(t,e,n){if(!(e in t))return;const i=Wt(t[e],ie,n);return function(r){return _o(i(r),e)}}function Gt(t,e,n){if(!(e in t))return null;const i=Wt(t[e],Qe,n);return function(r){return gh(i(r),e)}}function qp(t,e,n){const i=Gt(t,e+"pattern-src",n),r=ic(t,e+"pattern-offset",n),s=ic(t,e+"pattern-size",n),o=_a(t,e+"color",n);return function(a){return{src:i(a),offset:r&&r(a),size:s&&s(a),color:o&&o(a)}}}function Vi(t,e,n){if(!(e in t))return null;const i=Wt(t[e],$e,n);return function(r){const s=i(r);if(typeof s!="boolean")throw new Error(`Expected a boolean for ${e}`);return s}}function _a(t,e,n){if(!(e in t))return null;const i=Wt(t[e],mt,n);return function(r){return _h(i(r),e)}}function dh(t,e,n){if(!(e in t))return null;const i=Wt(t[e],vn,n);return function(r){return Ji(i(r),e)}}function Dr(t,e,n){if(!(e in t))return null;const i=Wt(t[e],vn,n);return function(r){const s=Ji(i(r),e);if(s.length!==2)throw new Error(`Expected two numbers for ${e}`);return s}}function ic(t,e,n){if(!(e in t))return null;const i=Wt(t[e],vn,n);return function(r){return mh(i(r),e)}}function gs(t,e,n){if(!(e in t))return null;const i=Wt(t[e],vn|ie,n);return function(r){return n0(i(r),e)}}function Fr(t,e){const n=t[e];if(n!==void 0){if(typeof n!="number")throw new Error(`Expected a number for ${e}`);return n}}function Jp(t,e){const n=t[e];if(n!==void 0){if(typeof n=="number")return tt(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${e}`);if(n.length!==2||typeof n[0]!="number"||typeof n[1]!="number")throw new Error(`Expected a number or size array for ${e}`);return n}}function Qp(t,e){const n=t[e];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);return n}}function rc(t,e){const n=t[e];if(n!==void 0){if(n!=="bottom-left"&&n!=="bottom-right"&&n!=="top-left"&&n!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return n}}function sc(t,e){const n=t[e];if(n!==void 0){if(n!=="pixels"&&n!=="fraction")throw new Error(`Expected pixels or fraction for ${e}`);return n}}function e0(t,e){const n=t[e];if(n!==void 0)return Ji(n,e)}function _s(t,e){const n=t[e];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);if(n!=="declutter"&&n!=="obstacle"&&n!=="none")throw new Error(`Expected declutter, obstacle, or none for ${e}`);return n}}function t0(t,e){const n=t[e];if(n!==void 0)return _h(n,e)}function Ji(t,e){if(!Array.isArray(t))throw new Error(`Expected an array for ${e}`);const n=t.length;for(let i=0;i<n;++i)if(typeof t[i]!="number")throw new Error(`Expected an array of numbers for ${e}`);return t}function gh(t,e){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);return t}function _o(t,e){if(typeof t!="number")throw new Error(`Expected a number for ${e}`);return t}function _h(t,e){if(typeof t=="string")return t;const n=Ji(t,e),i=n.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return n}function mh(t,e){const n=Ji(t,e);if(n.length!==2)throw new Error(`Expected an array of two numbers for ${e}`);return n}function n0(t,e){return typeof t=="number"?t:mh(t,e)}const oc={RENDER_ORDER:"renderOrder"};class i0 extends ls{constructor(e){e=e||{};const n=Object.assign({},e);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(oc.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,n){const i=this.getDeclutter();i in e.declutter||(e.declutter[i]=new Xm(9)),this.getRenderer().renderDeclutter(e,n)}setRenderOrder(e){this.set(oc.RENDER_ORDER,e)}setStyle(e){this.style_=e===void 0?ch:e;const n=r0(e);this.styleFunction_=e===null?void 0:pp(n),this.changed()}}function r0(t){if(t===void 0)return ch;if(!t)return null;if(typeof t=="function"||t instanceof yn)return t;if(!Array.isArray(t))return nc([t]);if(t.length===0)return[];const e=t.length,n=t[0];if(n instanceof yn){const r=new Array(e);for(let s=0;s<e;++s){const o=t[s];if(!(o instanceof yn))throw new Error("Expected a list of style instances");r[s]=o}return r}if("style"in n){const r=new Array(e);for(let s=0;s<e;++s){const o=t[s];if(!("style"in o))throw new Error("Expected a list of rules with a style property");r[s]=o}return Vp(r)}return nc(t)}class s0 extends Yo{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,n){ae()}calculateMatrices2D(e){const n=e.viewState,i=e.coordinateToPixelTransform,r=e.pixelToCoordinateTransform;Ni(i,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),Wu(r,i)}forEachFeatureAtCoordinate(e,n,i,r,s,o,a,l){let u;const c=n.viewState;function h(R,I,X,P){return s.call(o,I,R?X:null,P)}const f=c.projection,d=q_(e.slice(),f),_=[[0,0]];if(f.canWrapX()&&r){const R=f.getExtent(),I=Ie(R);_.push([-I,0],[I,0])}const p=n.layerStatesArray,v=p.length,E=[],y=[];for(let R=0;R<_.length;R++)for(let I=v-1;I>=0;--I){const X=p[I],P=X.layer;if(P.hasRenderer()&&sa(X,c)&&a.call(l,P)){const D=P.getRenderer(),U=P.getSource();if(D&&U){const re=U.getWrapX()?d:e,le=h.bind(null,X.managed);y[0]=re[0]+_[R][0],y[1]=re[1]+_[R][1],u=D.forEachFeatureAtCoordinate(y,n,i,le,E)}if(u)return u}}if(E.length===0)return;const C=1/E.length;return E.forEach((R,I)=>R.distanceSq+=I*C),E.sort((R,I)=>R.distanceSq-I.distanceSq),E.some(R=>u=R.callback(R.feature,R.layer,R.geometry)),u}hasFeatureAtCoordinate(e,n,i,r,s,o){return this.forEachFeatureAtCoordinate(e,n,i,r,Ir,this,s,o)!==void 0}getMap(){return this.map_}renderFrame(e){ae()}scheduleExpireIconCache(e){Pt.canExpireCache()&&e.postRenderFunctions.push(o0)}}function o0(t,e){Pt.expire()}class ph extends cn{constructor(e,n,i,r){super(e),this.inversePixelTransform=n,this.frameState=i,this.context=r}}class a0 extends s0{constructor(e){super(e),this.fontChangeListenerKey_=ge(mp,Di.PROPERTYCHANGE,e.redrawText.bind(e)),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=us+" ol-layers";const i=e.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,n){const i=this.getMap();if(i.hasListener(e)){const r=new ph(e,void 0,n);i.dispatchEvent(r)}}disposeInternal(){Ae(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(Mt.PRECOMPOSE,e);const n=e.layerStatesArray.sort((a,l)=>a.zIndex-l.zIndex);n.some(a=>a.layer instanceof i0&&a.layer.getDeclutter())&&(e.declutter={});const r=e.viewState;this.children_.length=0;const s=[];let o=null;for(let a=0,l=n.length;a<l;++a){const u=n[a];e.layerIndex=a;const c=u.layer,h=c.getSourceState();if(!sa(u,r)||h!="ready"&&h!="undefined"){c.unrender();continue}const f=c.render(e,o);f&&(f!==o&&(this.children_.push(f),o=f),s.push(u))}this.declutter(e,s),op(this.element_,this.children_),this.dispatchRenderEvent(Mt.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,n){if(e.declutter){for(let i=n.length-1;i>=0;--i){const r=n[i],s=r.layer;s.getDeclutter()&&s.renderDeclutter(e,r)}n.forEach(i=>i.layer.renderDeferred(e))}}}class nn extends cn{constructor(e,n){super(e),this.layer=n}}const js={LAYERS:"layers"};class ei extends Nu{constructor(e){e=e||{};const n=Object.assign({},e);delete n.layers;let i=e.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(js.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new jt(i.slice(),{unique:!0}):ve(typeof i.getArray=="function","Expected `layers` to be an array or a `Collection`"):i=new jt(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Ae),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(ge(e,ht.ADD,this.handleLayersAdd_,this),ge(e,ht.REMOVE,this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(Ae);ts(this.listenerKeys_);const n=e.getArray();for(let i=0,r=n.length;i<r;i++){const s=n[i];this.registerLayerListeners_(s),this.dispatchEvent(new nn("addlayer",s))}this.changed()}registerLayerListeners_(e){const n=[ge(e,Di.PROPERTYCHANGE,this.handleLayerChange_,this),ge(e,J.CHANGE,this.handleLayerChange_,this)];e instanceof ei&&n.push(ge(e,"addlayer",this.handleLayerGroupAdd_,this),ge(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[He(e)]=n}handleLayerGroupAdd_(e){this.dispatchEvent(new nn("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new nn("removelayer",e.layer))}handleLayersAdd_(e){const n=e.element;this.registerLayerListeners_(n),this.dispatchEvent(new nn("addlayer",n)),this.changed()}handleLayersRemove_(e){const n=e.element,i=He(n);this.listenerKeys_[i].forEach(Ae),delete this.listenerKeys_[i],this.dispatchEvent(new nn("removelayer",n)),this.changed()}getLayers(){return this.get(js.LAYERS)}setLayers(e){const n=this.getLayers();if(n){const i=n.getArray();for(let r=0,s=i.length;r<s;++r)this.dispatchEvent(new nn("removelayer",i[r]))}this.set(js.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(n){n.getLayersArray(e)}),e}getLayerStatesArray(e){const n=e!==void 0?e:[],i=n.length;this.getLayers().forEach(function(o){o.getLayerStatesArray(n)});const r=this.getLayerState();let s=r.zIndex;!e&&r.zIndex===void 0&&(s=0);for(let o=i,a=n.length;o<a;o++){const l=n[o];l.opacity*=r.opacity,l.visible=l.visible&&r.visible,l.maxResolution=Math.min(l.maxResolution,r.maxResolution),l.minResolution=Math.max(l.minResolution,r.minResolution),l.minZoom=Math.max(l.minZoom,r.minZoom),l.maxZoom=Math.min(l.maxZoom,r.maxZoom),r.extent!==void 0&&(l.extent!==void 0?l.extent=yt(l.extent,r.extent):l.extent=r.extent),l.zIndex===void 0&&(l.zIndex=s)}return n}getSourceState(){return"ready"}}class kn extends cn{constructor(e,n,i){super(e),this.map=n,this.frameState=i!==void 0?i:null}}class qt extends kn{constructor(e,n,i,r,s,o){super(e,n,s),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=r!==void 0?r:!1,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const Se={SINGLECLICK:"singleclick",CLICK:J.CLICK,DBLCLICK:J.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},mo={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};class l0 extends ns{constructor(e,n){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=ge(i,mo.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=ge(i,mo.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(J.TOUCHMOVE,this.boundHandleTouchMove_,lh?{passive:!1}:!1)}emulateClick_(e){let n=new qt(Se.CLICK,this.map_,e);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new qt(Se.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const i=new qt(Se.SINGLECLICK,this.map_,e);this.dispatchEvent(i)},250)}updateActivePointers_(e){const n=e,i=n.pointerId;if(n.type==Se.POINTERUP||n.type==Se.POINTERCANCEL){delete this.trackedTouches_[i];for(const r in this.trackedTouches_)if(this.trackedTouches_[r].target!==n.target){delete this.trackedTouches_[r];break}}else(n.type==Se.POINTERDOWN||n.type==Se.POINTERMOVE)&&(this.trackedTouches_[i]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const n=new qt(Se.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Ae),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const n=new qt(Se.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(ge(i,Se.POINTERMOVE,this.handlePointerMove_,this),ge(i,Se.POINTERUP,this.handlePointerUp_,this),ge(this.element_,Se.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(ge(this.element_.getRootNode(),Se.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const n=new qt(Se.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const n=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new qt(Se.POINTERMOVE,this.map_,e,n))}handleTouchMove_(e){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Ae(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(J.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Ae(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Ae),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const Jt={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},je={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},Nr=1/0;class c0{constructor(e,n){this.priorityFunction_=e,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,ts(this.queuedElements_)}dequeue(){const e=this.elements_,n=this.priorities_,i=e[0];e.length==1?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),this.siftUp_(0));const r=this.keyFunction_(i);return delete this.queuedElements_[r],i}enqueue(e){ve(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const n=this.priorityFunction_(e);return n!=Nr?(this.elements_.push(e),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const n=this.elements_,i=this.priorities_,r=n.length,s=n[e],o=i[e],a=e;for(;e<r>>1;){const l=this.getLeftChildIndex_(e),u=this.getRightChildIndex_(e),c=u<r&&i[u]<i[l]?u:l;n[e]=n[c],i[e]=i[c],e=c}n[e]=s,i[e]=o,this.siftDown_(a,e)}siftDown_(e,n){const i=this.elements_,r=this.priorities_,s=i[n],o=r[n];for(;n>e;){const a=this.getParentIndex_(n);if(r[a]>o)i[n]=i[a],r[n]=r[a],n=a;else break}i[n]=s,r[n]=o}reprioritize(){const e=this.priorityFunction_,n=this.elements_,i=this.priorities_;let r=0;const s=n.length;let o,a,l;for(a=0;a<s;++a)o=n[a],l=e(o),l==Nr?delete this.queuedElements_[this.keyFunction_(o)]:(i[r]=l,n[r++]=o);n.length=r,i.length=r,this.heapify_()}}const j={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class u0 extends c0{constructor(e,n){super(function(i){return e.apply(null,i)},function(i){return i[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const n=super.enqueue(e);return n&&e[0].addEventListener(J.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const n=e.target,i=n.getState();if(i===j.LOADED||i===j.ERROR||i===j.EMPTY){i!==j.ERROR&&n.removeEventListener(J.CHANGE,this.boundHandleTileChange_);const r=n.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,n){let i=0;for(;this.tilesLoading_<e&&i<n&&this.getCount()>0;){const r=this.dequeue()[0],s=r.getKey();r.getState()===j.IDLE&&!(s in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++i,r.load())}}}function h0(t,e,n,i,r){if(!t||!(n in t.wantedTiles)||!t.wantedTiles[n][e.getKey()])return Nr;const s=t.viewState.center,o=i[0]-s[0],a=i[1]-s[1];return 65536*Math.log(r)+Math.sqrt(o*o+a*a)/r}class ma extends Yt{constructor(e){super();const n=e.element;n&&!e.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){var e;(e=this.element)==null||e.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){var n;this.map_&&((n=this.element)==null||n.remove());for(let i=0,r=this.listenerKeys.length;i<r;++i)Ae(this.listenerKeys[i]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_??e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Ar&&this.listenerKeys.push(ge(e,Jt.POSTRENDER,this.render,this)),e.render())}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}class f0 extends ma{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=e.attributions;const n=e.className!==void 0?e.className:"ol-attribution",i=e.tipLabel!==void 0?e.tipLabel:"Attributions",r=e.expandClassName!==void 0?e.expandClassName:n+"-expand",s=e.collapseLabel!==void 0?e.collapseLabel:"›",o=e.collapseClassName!==void 0?e.collapseClassName:n+"-collapse";typeof s=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s,this.collapseLabel_.className=o):this.collapseLabel_=s;const a=e.label!==void 0?e.label:"i";typeof a=="string"?(this.label_=document.createElement("span"),this.label_.textContent=a,this.label_.className=r):this.label_=a;const l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(J.CLICK,this.handleClick_.bind(this),!1);const u=n+" "+us+" "+ha+(this.collapsed_&&this.collapsible_?" "+Zl:"")+(this.collapsible_?"":" ol-uncollapsible"),c=this.element;c.className=u,c.appendChild(this.toggleButton_),c.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const n=this.getMap().getAllLayers(),i=new Set(n.flatMap(r=>r.getAttributions(e)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(r=>i.add(r)):i.add(this.attributions_)),!this.overrideCollapsible_){const r=!n.some(s=>{var o;return((o=s.getSource())==null?void 0:o.getAttributionsCollapsible())===!1});this.setCollapsible(r)}return Array.from(i)}async updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=await Promise.all(this.collectSourceAttributions_(e).map(r=>R_(()=>r))),i=n.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!Qr(n,this.renderedAttributions_)){sp(this.ulElement_);for(let r=0,s=n.length;r<s;++r){const o=document.createElement("li");o.innerHTML=n[r],this.ulElement_.appendChild(o)}this.renderedAttributions_=n}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(Zl),this.collapsed_?Yl(this.collapseLabel_,this.label_):Yl(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class d0 extends ma{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const n=e.className!==void 0?e.className:"ol-rotate",i=e.label!==void 0?e.label:"⇧",r=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=r,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(r));const s=e.tipLabel?e.tipLabel:"Reset rotation",o=document.createElement("button");o.className=n+"-reset",o.setAttribute("type","button"),o.title=s,o.appendChild(this.label_),o.addEventListener(J.CLICK,this.handleClick_.bind(this),!1);const a=n+" "+us+" "+ha,l=this.element;l.className=a,l.appendChild(o),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(gr)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const i=n.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:Qn}):n.setRotation(0))}render(e){const n=e.frameState;if(!n)return;const i=n.viewState.rotation;if(i!=this.rotation_){const r="rotate("+i+"rad)";if(this.autoHide_){const s=this.element.classList.contains(gr);!s&&i===0?this.element.classList.add(gr):s&&i!==0&&this.element.classList.remove(gr)}this.label_.style.transform=r}this.rotation_=i}}class g0 extends ma{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const n=e.className!==void 0?e.className:"ol-zoom",i=e.delta!==void 0?e.delta:1,r=e.zoomInClassName!==void 0?e.zoomInClassName:n+"-in",s=e.zoomOutClassName!==void 0?e.zoomOutClassName:n+"-out",o=e.zoomInLabel!==void 0?e.zoomInLabel:"+",a=e.zoomOutLabel!==void 0?e.zoomOutLabel:"–",l=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",u=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",c=document.createElement("button");c.className=r,c.setAttribute("type","button"),c.title=l,c.appendChild(typeof o=="string"?document.createTextNode(o):o),c.addEventListener(J.CLICK,this.handleClick_.bind(this,i),!1);const h=document.createElement("button");h.className=s,h.setAttribute("type","button"),h.title=u,h.appendChild(typeof a=="string"?document.createTextNode(a):a),h.addEventListener(J.CLICK,this.handleClick_.bind(this,-i),!1);const f=n+" "+us+" "+ha,d=this.element;d.className=f,d.appendChild(c),d.appendChild(h),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,n){n.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const i=this.getMap().getView();if(!i)return;const r=i.getZoom();if(r!==void 0){const s=i.getConstrainedZoom(r+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:s,duration:this.duration_,easing:Qn})):i.setZoom(s)}}}function _0(t){t=t||{};const e=new jt;return(t.zoom!==void 0?t.zoom:!0)&&e.push(new g0(t.zoomOptions)),(t.rotate!==void 0?t.rotate:!0)&&e.push(new d0(t.rotateOptions)),(t.attribution!==void 0?t.attribution:!0)&&e.push(new f0(t.attributionOptions)),e}const ac={ACTIVE:"active"};class Qi extends Yt{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(ac.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(ac.ACTIVE,e)}setMap(e){this.map_=e}}function m0(t,e,n){const i=t.getCenterInternal();if(i){const r=[i[0]+e[0],i[1]+e[1]];t.animateInternal({duration:n!==void 0?n:250,easing:dm,center:t.getConstrainedCenter(r)})}}function pa(t,e,n,i){const r=t.getZoom();if(r===void 0)return;const s=t.getConstrainedZoom(r+e),o=t.getResolutionForZoom(s);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:o,anchor:n,duration:i!==void 0?i:250,easing:Qn})}class p0 extends Qi{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let n=!1;if(e.type==Se.DBLCLICK){const i=e.originalEvent,r=e.map,s=e.coordinate,o=i.shiftKey?-this.delta_:this.delta_,a=r.getView();pa(a,o,s,this.duration_),i.preventDefault(),n=!0}return!n}}class er extends Qi{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==Se.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==Se.POINTERUP){const i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==Se.POINTERDOWN){const i=this.handleDownEvent(e);this.handlingDownUpSequence=i,n=this.stopDown(i)}else e.type==Se.POINTERMOVE&&this.handleMoveEvent(e);return!n}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function ya(t){const e=t.length;let n=0,i=0;for(let r=0;r<e;r++)n+=t[r].clientX,i+=t[r].clientY;return{clientX:n/e,clientY:i/e}}function po(t){const e=arguments;return function(n){let i=!0;for(let r=0,s=e.length;r<s&&(i=i&&e[r](n),!!i);++r);return i}}const y0=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},E0=function(t){const e=t.map.getTargetElement(),n=e.getRootNode(),i=t.map.getOwnerDocument().activeElement;return n instanceof ShadowRoot?n.host.contains(i):e.contains(i)},yh=function(t){const e=t.map.getTargetElement(),n=e.getRootNode();return(n instanceof ShadowRoot?n.host:e).hasAttribute("tabindex")?E0(t):!0},v0=Ir,Eh=function(t){const e=t.originalEvent;return e.button==0&&!(ip&&sh&&e.ctrlKey)},vh=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},w0=function(t){const e=t.originalEvent;return sh?e.metaKey:e.ctrlKey},R0=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},wh=function(t){const e=t.originalEvent,n=e.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!e.target.isContentEditable},Ks=function(t){const e=t.originalEvent;return ve(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.pointerType=="mouse"},C0=function(t){const e=t.originalEvent;return ve(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.isPrimary&&e.button===0};class x0 extends er{constructor(e){super({stopDown:es}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=e.condition?e.condition:po(vh,C0);this.condition_=e.onFocusOnly?po(yh,n):n,this.noKinetic_=!1}handleDragEvent(e){const n=e.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const i=this.targetPointers,r=n.getEventPixel(ya(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){const s=[this.lastCentroid[0]-r[0],r[1]-this.lastCentroid[1]],a=e.map.getView();$_(s,a.getResolution()),$o(s,a.getRotation()),a.adjustCenterInternal(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=i.length,e.originalEvent.preventDefault()}handleUpEvent(e){const n=e.map,i=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const r=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),o=i.getCenterInternal(),a=n.getPixelFromCoordinateInternal(o),l=n.getCoordinateFromPixelInternal([a[0]-r*Math.cos(s),a[1]-r*Math.sin(s)]);i.animateInternal({center:i.getConstrainedCenter(l),duration:500,easing:Qn})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class T0 extends er{constructor(e){e=e||{},super({stopDown:es}),this.condition_=e.condition?e.condition:y0,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!Ks(e))return;const n=e.map,i=n.getView();if(i.getConstraints().rotation===na)return;const r=n.getSize(),s=e.pixel,o=Math.atan2(r[1]/2-s[1],s[0]-r[0]/2);if(this.lastAngle_!==void 0){const a=o-this.lastAngle_;i.adjustRotationInternal(-a)}this.lastAngle_=o}handleUpEvent(e){return Ks(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return Ks(e)&&Eh(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class b0 extends Yo{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,n=this.endPixel_,i="px",r=this.element_.style;r.left=Math.min(e[0],n[0])+i,r.top=Math.min(e[1],n[1])+i,r.width=Math.abs(n[0]-e[0])+i,r.height=Math.abs(n[1]-e[1])+i}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,n){this.startPixel_=e,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const e=this.startPixel_,n=this.endPixel_,r=[e,[e[0],n[1]],n,[n[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new zi([r])}getGeometry(){return this.geometry_}}const Mn={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class li extends cn{constructor(e,n,i){super(e),this.coordinate=n,this.mapBrowserEvent=i}}class I0 extends er{constructor(e){super(),this.on,this.once,this.un,e=e??{},this.box_=new b0(e.className||"ol-dragbox"),this.minArea_=e.minArea??64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition??Eh,this.boxEndCondition_=e.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(e,n,i){const r=i[0]-n[0],s=i[1]-n[1];return r*r+s*s>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new li(Mn.BOXDRAG,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;const n=this.boxEndCondition_(e,this.startPixel_,e.pixel);return n&&this.onBoxEnd(e),this.dispatchEvent(new li(n?Mn.BOXEND:Mn.BOXCANCEL,e.coordinate,e)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new li(Mn.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new li(Mn.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}setMap(e){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new li(Mn.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(e)}}class A0 extends I0{constructor(e){e=e||{};const n=e.condition?e.condition:R0;super({condition:n,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const i=this.getMap().getView();let r=this.getGeometry();if(this.out_){const s=i.rotatedExtentForGeometry(r),o=i.getResolutionForExtentInternal(s),a=i.getResolution()/o;r=r.clone(),r.scale(a*a)}i.fitInternal(r,{duration:this.duration_,easing:Qn})}}const dn={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class S0 extends Qi{constructor(e){super(),e=e||{},this.defaultCondition_=function(n){return vh(n)&&wh(n)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let n=!1;if(e.type==J.KEYDOWN){const i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==dn.DOWN||r==dn.LEFT||r==dn.RIGHT||r==dn.UP)){const o=e.map.getView(),a=o.getResolution()*this.pixelDelta_;let l=0,u=0;r==dn.DOWN?u=-a:r==dn.LEFT?l=-a:r==dn.RIGHT?l=a:u=a;const c=[l,u];$o(c,o.getRotation()),m0(o,c,this.duration_),i.preventDefault(),n=!0}}return!n}}class M0 extends Qi{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(n){return!w0(n)&&wh(n)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let n=!1;if(e.type==J.KEYDOWN||e.type==J.KEYPRESS){const i=e.originalEvent,r=i.key;if(this.condition_(e)&&(r==="+"||r==="-")){const s=e.map,o=r==="+"?this.delta_:-this.delta_,a=s.getView();pa(a,o,void 0,this.duration_),i.preventDefault(),n=!0}}return!n}}class P0{constructor(e,n,i){this.decay_=e,this.minVelocity_=n,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,n){this.points_.push(e,n,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<e)return!1;let i=n-3;for(;i>0&&this.points_[i+2]>e;)i-=3;const r=this.points_[n+2]-this.points_[i+2];if(r<1e3/60)return!1;const s=this.points_[n]-this.points_[i],o=this.points_[n+1]-this.points_[i+1];return this.angle_=Math.atan2(o,s),this.initialVelocity_=Math.sqrt(s*s+o*o)/r,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}class L0 extends Qi{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const n=e.condition?e.condition:v0;this.condition_=e.onFocusOnly?po(yh,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)}handleEvent(e){if(!this.condition_(e)||e.type!==J.WHEEL)return!0;const i=e.map,r=e.originalEvent;r.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.coordinate);let s;if(e.type==J.WHEEL&&(s=r.deltaY,tp&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(s/=oh),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(s*=40)),s===0)return!1;this.lastDelta_=s;const o=Date.now();this.startTime_===void 0&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(s)<4?"trackpad":"wheel");const a=i.getView();if(this.mode_==="trackpad"&&!(a.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-s/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=o,!1;this.totalDelta_+=s;const l=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),l),!1}handleWheelZoom_(e){const n=e.getView();n.getAnimating()&&n.cancelAnimations();let i=-Le(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),pa(n,i,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class O0 extends er{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=es),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let n=0;const i=this.targetPointers[0],r=this.targetPointers[1],s=Math.atan2(r.clientY-i.clientY,r.clientX-i.clientX);if(this.lastAngle_!==void 0){const l=s-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=l}this.lastAngle_=s;const o=e.map,a=o.getView();a.getConstraints().rotation!==na&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(ya(this.targetPointers))),this.rotating_&&(o.render(),a.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}class D0 extends er{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=es),super(n),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let n=1;const i=this.targetPointers[0],r=this.targetPointers[1],s=i.clientX-r.clientX,o=i.clientY-r.clientY,a=Math.sqrt(s*s+o*o);this.lastDistance_!==void 0&&(n=this.lastDistance_/a),this.lastDistance_=a;const l=e.map,u=l.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(ya(this.targetPointers))),l.render(),u.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const i=e.map.getView(),r=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,r),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}function F0(t){t=t||{};const e=new jt,n=new P0(-.005,.05,100);return(t.altShiftDragRotate!==void 0?t.altShiftDragRotate:!0)&&e.push(new T0),(t.doubleClickZoom!==void 0?t.doubleClickZoom:!0)&&e.push(new p0({delta:t.zoomDelta,duration:t.zoomDuration})),(t.dragPan!==void 0?t.dragPan:!0)&&e.push(new x0({onFocusOnly:t.onFocusOnly,kinetic:n})),(t.pinchRotate!==void 0?t.pinchRotate:!0)&&e.push(new O0),(t.pinchZoom!==void 0?t.pinchZoom:!0)&&e.push(new D0({duration:t.zoomDuration})),(t.keyboard!==void 0?t.keyboard:!0)&&(e.push(new S0),e.push(new M0({delta:t.zoomDelta,duration:t.zoomDuration}))),(t.mouseWheelZoom!==void 0?t.mouseWheelZoom:!0)&&e.push(new L0({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(t.shiftDragZoom!==void 0?t.shiftDragZoom:!0)&&e.push(new A0({duration:t.zoomDuration})),e}function Rh(t){if(t instanceof ls){t.setMapInternal(null);return}t instanceof ei&&t.getLayers().forEach(Rh)}function Ch(t,e){if(t instanceof ls){t.setMapInternal(e);return}if(t instanceof ei){const n=t.getLayers().getArray();for(let i=0,r=n.length;i<r;++i)Ch(n[i],e)}}let N0=class extends Yt{constructor(e){super(),e=e||{},this.on,this.once,this.un;const n=k0(e);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:oh,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=Zn(),this.pixelToCoordinateTransform_=Zn(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||_0(),this.interactions=n.interactions||F0({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new u0(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(je.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(je.VIEW,this.handleViewChanged_),this.addChangeListener(je.SIZE,this.handleSizeChanged_),this.addChangeListener(je.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const i=this;e.view&&!(e.view instanceof St)&&e.view.then(function(r){i.setView(new St(r))}),this.controls.addEventListener(ht.ADD,r=>{r.element.setMap(this)}),this.controls.addEventListener(ht.REMOVE,r=>{r.element.setMap(null)}),this.interactions.addEventListener(ht.ADD,r=>{r.element.setMap(this)}),this.interactions.addEventListener(ht.REMOVE,r=>{r.element.setMap(null)}),this.overlays_.addEventListener(ht.ADD,r=>{this.addOverlayInternal_(r.element)}),this.overlays_.addEventListener(ht.REMOVE,r=>{const s=r.element.getId();s!==void 0&&delete this.overlayIdIndex_[s.toString()],r.element.setMap(null)}),this.controls.forEach(r=>{r.setMap(this)}),this.interactions.forEach(r=>{r.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){Ch(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const n=e.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,n,i){if(!this.frameState_||!this.renderer_)return;const r=this.getCoordinateFromPixelInternal(e);i=i!==void 0?i:{};const s=i.hitTolerance!==void 0?i.hitTolerance:0,o=i.layerFilter!==void 0?i.layerFilter:Ir,a=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,s,a,n,null,o,null)}getFeaturesAtPixel(e,n){const i=[];return this.forEachFeatureAtPixel(e,function(r){i.push(r)},n),i}getAllLayers(){const e=[];function n(i){i.forEach(function(r){r instanceof ei?n(r.getLayers()):e.push(r)})}return n(this.getLayers()),e}hasFeatureAtPixel(e,n){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(e);n=n!==void 0?n:{};const r=n.layerFilter!==void 0?n.layerFilter:Ir,s=n.hitTolerance!==void 0?n.hitTolerance:0,o=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,s,o,r,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const i=this.viewport_.getBoundingClientRect(),r=this.getSize(),s=i.width/r[0],o=i.height/r[1],a="changedTouches"in e?e.changedTouches[0]:e;return[(a.clientX-i.left)/s,(a.clientY-i.top)/o]}getTarget(){return this.get(je.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return fo(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const n=this.frameState_;return n?ut(n.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const n=this.overlayIdIndex_[e.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(je.LAYERGROUP)}setLayers(e){const n=this.getLayerGroup();if(e instanceof jt){n.setLayers(e);return}const i=n.getLayers();i.clear(),i.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,i=e.length;n<i;++n){const r=e[n];if(!r.visible)continue;const s=r.layer.getRenderer();if(s&&!s.ready)return!0;const o=r.layer.getSource();if(o&&o.loading)return!0}return!1}getPixelFromCoordinate(e){const n=Nt(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(e){const n=this.frameState_;return n?ut(n.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(je.SIZE)}getView(){return this.get(je.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,n,i,r){return h0(this.frameState_,e,n,i,r)}handleBrowserEvent(e,n){n=n||e.type;const i=new qt(n,this,e);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(e){if(!this.frameState_)return;const n=e.originalEvent,i=n.type;if(i===mo.POINTERDOWN||i===J.WHEEL||i===J.KEYDOWN){const r=this.getOwnerDocument(),s=this.viewport_.getRootNode?this.viewport_.getRootNode():r,o=n.target,a=s instanceof ShadowRoot?s.host===o?s.host.ownerDocument:s:s===r?r.documentElement:s;if(this.overlayContainerStopEvent_.contains(o)||!a.contains(o))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const r=this.getInteractions().getArray().slice();for(let s=r.length-1;s>=0;s--){const o=r[s];if(o.getMap()!==this||!o.getActive()||!this.getTargetElement())continue;if(!o.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let r=this.maxTilesLoading_,s=r;if(e){const o=e.viewHints;if(o[ct.ANIMATING]||o[ct.INTERACTING]){const a=Date.now()-e.time>8;r=a?0:8,s=a?0:2}}n.getTilesLoading()<r&&(n.reprioritize(),n.loadMoreTiles(r,s))}e&&this.renderer_&&!e.animate&&(this.renderComplete_?(this.hasListener(Mt.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(Mt.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new kn(Jt.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new kn(Jt.LOADSTART,this,e))));const i=this.postRenderFunctions_;for(let r=0,s=i.length;r<s;++r)i[r](this,e);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,r=this.targetChangeHandlerKeys_.length;i<r;++i)Ae(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(J.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(J.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host),this.setSize(void 0)}const e=this.getTarget(),n=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new a0(this)),this.mapBrowserEventHandler_=new l0(this,this.moveTolerance_);for(const s in Se)this.mapBrowserEventHandler_.addEventListener(Se[s],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(J.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(J.WHEEL,this.boundHandleBrowserEvent_,lh?{passive:!1}:!1);let i;if(this.keyboardEventTarget_)i=this.keyboardEventTarget_;else{const s=n.getRootNode();i=s instanceof ShadowRoot?s.host:n}this.targetChangeHandlerKeys_=[ge(i,J.KEYDOWN,this.handleBrowserEvent,this),ge(i,J.KEYPRESS,this.handleBrowserEvent,this)];const r=n.getRootNode();r instanceof ShadowRoot&&this.resizeObserver_.observe(r.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Ae(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Ae(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=ge(e,Di.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=ge(e,J.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Ae),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new nn("addlayer",e)),this.layerGroupPropertyListenerKeys_=[ge(e,Di.PROPERTYCHANGE,this.render,this),ge(e,J.CHANGE,this.render,this),ge(e,"addlayer",this.handleLayerAdd_,this),ge(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,i=e.length;n<i;++n){const r=e[n].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){Rh(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const n=this.getSize(),i=this.getView(),r=this.frameState_;let s=null;if(n!==void 0&&Kl(n)&&i&&i.isDef()){const o=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=i.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:uo(a.center,a.resolution,a.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:a,viewHints:o,wantedTiles:{},mapId:He(this),renderTargets:{}},a.nextCenter&&a.nextResolution){const l=isNaN(a.nextRotation)?a.rotation:a.nextRotation;s.nextExtent=uo(a.nextCenter,a.nextResolution,l,n)}}this.frameState_=s,this.renderer_.renderFrame(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),r&&(!this.previousExtent_||!as(this.previousExtent_)&&!co(s.extent,this.previousExtent_))&&(this.dispatchEvent(new kn(Jt.MOVESTART,this,r)),this.previousExtent_=is(this.previousExtent_)),this.previousExtent_&&!s.viewHints[ct.ANIMATING]&&!s.viewHints[ct.INTERACTING]&&!co(s.extent,this.previousExtent_)&&(this.dispatchEvent(new kn(Jt.MOVEEND,this,s)),z_(s.extent,this.previousExtent_))),this.dispatchEvent(new kn(Jt.POSTRENDER,this,s)),this.renderComplete_=(this.hasListener(Jt.LOADSTART)||this.hasListener(Jt.LOADEND)||this.hasListener(Mt.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new nn("removelayer",n)),this.set(je.LAYERGROUP,e)}setSize(e){this.set(je.SIZE,e)}setTarget(e){this.set(je.TARGET,e)}setView(e){if(!e||e instanceof St){this.set(je.VIEW,e);return}this.set(je.VIEW,new St);const n=this;e.then(function(i){n.setView(new St(i))})}updateSize(){const e=this.getTargetElement();let n;if(e){const r=getComputedStyle(e),s=e.offsetWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.paddingLeft)-parseFloat(r.paddingRight)-parseFloat(r.borderRightWidth),o=e.offsetHeight-parseFloat(r.borderTopWidth)-parseFloat(r.paddingTop)-parseFloat(r.paddingBottom)-parseFloat(r.borderBottomWidth);!isNaN(s)&&!isNaN(o)&&(n=[Math.max(0,s),Math.max(0,o)],!Kl(n)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&Uu("No map visible because the map container's width or height are 0."))}const i=this.getSize();n&&(!i||!Qr(n,i))&&(this.setSize(n),this.updateViewportSize_(n))}updateViewportSize_(e){const n=this.getView();n&&n.setViewportSize(e)}};function k0(t){let e=null;t.keyboardEventTarget!==void 0&&(e=typeof t.keyboardEventTarget=="string"?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},i=t.layers&&typeof t.layers.getLayers=="function"?t.layers:new ei({layers:t.layers});n[je.LAYERGROUP]=i,n[je.TARGET]=t.target,n[je.VIEW]=t.view instanceof St?t.view:new St;let r;t.controls!==void 0&&(Array.isArray(t.controls)?r=new jt(t.controls.slice()):(ve(typeof t.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),r=t.controls));let s;t.interactions!==void 0&&(Array.isArray(t.interactions)?s=new jt(t.interactions.slice()):(ve(typeof t.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),s=t.interactions));let o;return t.overlays!==void 0?Array.isArray(t.overlays)?o=new jt(t.overlays.slice()):(ve(typeof t.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),o=t.overlays):o=new jt,{controls:r,interactions:s,keyboardEventTarget:e,overlays:o,values:n}}const mr={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class z0 extends ls{constructor(e){e=e||{};const n=Object.assign({},e),i=e.cacheSize;delete e.cacheSize,delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.cacheSize_=i,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(mr.PRELOAD)}setPreload(e){this.set(mr.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(mr.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(mr.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}const G0=5;class j0 extends Zi{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=G0}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return ae()}getData(e){return null}prepareFrame(e){return ae()}renderFrame(e,n){return ae()}forEachFeatureAtCoordinate(e,n,i,r,s){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const n=e.target;(n.getState()===oe.LOADED||n.getState()===oe.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let n=e.getState();return n!=oe.LOADED&&n!=oe.ERROR&&e.addEventListener(J.CHANGE,this.boundHandleImageChange_),n==oe.IDLE&&(e.load(),n=e.getState()),n==oe.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}}class K0{constructor(){ba(this,"pushMethodArgs_",(...e)=>(this.instructions_[this.zIndex+this.offset_].push(e),this));this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(Or(),{get:(e,n)=>{if(typeof Or()[n]=="function")return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n),this.pushMethodArgs_},set:(e,n,i)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n,i),!0)})}pushFunction(e){this.instructions_[this.zIndex+this.offset_].push(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(n=>{for(let i=0,r=n.length;i<r;++i){const s=n[i];if(typeof s=="function"){s(e);continue}const o=n[++i];if(typeof e[s]=="function")e[s](...o);else{if(typeof o=="function"){e[s]=o(e);continue}e[s]=o}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}let zn=null;function X0(){zn=qe(1,1,void 0,{willReadFrequently:!0})}class U0 extends j0{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=Zn(),this.pixelTransform=Zn(),this.inversePixelTransform=Zn(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,n,i){zn||X0(),zn.clearRect(0,0,1,1);let r;try{zn.drawImage(e,n,i,1,1,0,0,1,1),r=zn.getImageData(0,0,1,1).data}catch{return zn=null,null}return r}getBackground(e){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(e.viewState.resolution)),i||void 0}useContainer(e,n,i){const r=this.getLayer().getClassName();let s,o;if(e&&e.className===r&&(!i||e&&e.style.backgroundColor&&Qr(ji(e.style.backgroundColor),ji(i)))){const a=e.firstElementChild;a instanceof HTMLCanvasElement&&(o=a.getContext("2d"))}if(o&&o.canvas.style.transform===n?(this.container=e,this.context=o,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){s=document.createElement("div"),s.className=r;let a=s.style;a.position="absolute",a.width="100%",a.height="100%",o=qe();const l=o.canvas;s.appendChild(l),a=l.style,a.position="absolute",a.left="0",a.transformOrigin="top left",this.container=s,this.context=o}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(e,n,i){const r=Cn(i),s=os(i),o=ss(i),a=rs(i);ut(n.coordinateToPixelTransform,r),ut(n.coordinateToPixelTransform,s),ut(n.coordinateToPixelTransform,o),ut(n.coordinateToPixelTransform,a);const l=this.inversePixelTransform;ut(l,r),ut(l,s),ut(l,o),ut(l,a),e.save(),e.beginPath(),e.moveTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.clip()}prepareContainer(e,n){const i=e.extent,r=e.viewState.resolution,s=e.viewState.rotation,o=e.pixelRatio,a=Math.round(Ie(i)/r*o),l=Math.round(at(i)/r*o);Ni(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/o,1/o,s,-a/2,-l/2),Wu(this.inversePixelTransform,this.pixelTransform);const u=_m(this.pixelTransform);if(this.useContainer(n,u,this.getBackground(e)),!this.containerReused){const c=this.context.canvas;c.width!=a||c.height!=l?(c.width=a,c.height=l):this.context.clearRect(0,0,a,l),u!==c.style.transform&&(c.style.transform=u)}}dispatchRenderEvent_(e,n,i){const r=this.getLayer();if(r.hasListener(e)){const s=new ph(e,this.inversePixelTransform,i,n);r.dispatchEvent(s)}}preRender(e,n){this.frameState=n,!n.declutter&&this.dispatchRenderEvent_(Mt.PRERENDER,e,n)}postRender(e,n){n.declutter||this.dispatchRenderEvent_(Mt.POSTRENDER,e,n)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new K0),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(Mt.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(Mt.POSTRENDER,this.context,e))}getRenderTransform(e,n,i,r,s,o,a){const l=s/2,u=o/2,c=r/n,h=-c,f=-e[0]+a,d=-e[1];return Ni(this.tempTransform,l,u,c,h,-i,f,d)}disposeInternal(){delete this.frameState,super.disposeInternal()}}class Ea extends ns{constructor(e,n,i){super(),i=i||{},this.tileCoord=e,this.state=n,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(J.CHANGE)}release(){this.state===j.ERROR&&this.setState(j.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==j.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){ae()}getAlpha(e,n){if(!this.transition_)return 1;let i=this.transitionStarts_[e];if(!i)i=n,this.transitionStarts_[e]=i;else if(i===-1)return 1;const r=n-i+1e3/60;return r>=this.transition_?1:Yu(r/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}}function kr(t){return t instanceof Image||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageBitmap?t:null}function V0(t){return t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Float32Array||t instanceof DataView?t:null}const Y0=new Error("disposed");let Pn=null;function W0(t){Pn||(Pn=qe(t.width,t.height,void 0,{willReadFrequently:!0}));const e=Pn.canvas,n=t.width;e.width!==n&&(e.width=n);const i=t.height;return e.height!==i&&(e.height=i),Pn.clearRect(0,0,n,i),Pn.drawImage(t,0,0),Pn.getImageData(0,0,n,i).data}const Z0=[256,256];class yo extends Ea{constructor(e){const n=j.IDLE;super(e.tileCoord,n,{transition:e.transition,interpolate:e.interpolate}),this.loader_=e.loader,this.data_=null,this.error_=null,this.size_=e.size||null,this.controller_=e.controller||null}getSize(){if(this.size_)return this.size_;const e=kr(this.data_);return e?[e.width,e.height]:Z0}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==j.IDLE&&this.state!==j.ERROR)return;this.state=j.LOADING,this.changed();const e=this;this.loader_().then(function(n){e.data_=n,e.state=j.LOADED,e.changed()}).catch(function(n){e.error_=n,e.state=j.ERROR,e.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(Y0),this.controller_=null),super.disposeInternal()}}class xh extends Ea{constructor(e,n,i,r,s,o){super(e,n,o),this.crossOrigin_=r,this.src_=i,this.key=i,this.image_=new Image,r!==null&&(this.image_.crossOrigin=r),this.unlisten_=null,this.tileLoadFunction_=s}getImage(){return this.image_}setImage(e){this.image_=e,this.state=j.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=j.ERROR,this.unlistenImage_(),this.image_=B0(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=j.LOADED:this.state=j.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==j.ERROR&&(this.state=j.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==j.IDLE&&(this.state=j.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=ap(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}}function B0(){const t=qe(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}class Th{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();)this.pop()}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let n=this.oldest_;for(;n;)e(n.value_,n.key_,this),n=n.newer}get(e,n){const i=this.entries_[e];return ve(i!==void 0,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(e){const n=this.entries_[e];return ve(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[e],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let n=0,i;for(i=this.newest_;i;i=i.older)e[n++]=i.key_;return e}getValues(){const e=new Array(this.count_);let n=0,i;for(i=this.newest_;i;i=i.older)e[n++]=i.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){var n;return(n=this.entries_[e])==null?void 0:n.value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,n){this.get(e),this.entries_[e].value_=n}set(e,n){ve(!(e in this.entries_),"Tried to set a value for a key that is used already");const i={key_:e,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_}setSize(e){this.highWaterMark=e}}const bh=.5,H0=10,lc=.25;class Ih{constructor(e,n,i,r,s,o){this.sourceProj_=e,this.targetProj_=n;let a={};const l=Lr(this.targetProj_,this.sourceProj_);this.transformInv_=function(y){const C=y[0]+"/"+y[1];return a[C]||(a[C]=l(y)),a[C]},this.maxSourceExtent_=r,this.errorThresholdSquared_=s*s,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Ie(r)>=Ie(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Ie(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Ie(this.targetProj_.getExtent()):null;const u=Cn(i),c=os(i),h=ss(i),f=rs(i),d=this.transformInv_(u),_=this.transformInv_(c),p=this.transformInv_(h),v=this.transformInv_(f),E=H0+(o?Math.max(0,Math.ceil(Math.log2(Fi(i)/(o*o*256*256)))):0);if(this.addQuad_(u,c,h,f,d,_,p,v,E),this.wrapsXInSource_){let y=1/0;this.triangles_.forEach(function(C,R,I){y=Math.min(y,C.source[0][0],C.source[1][0],C.source[2][0])}),this.triangles_.forEach(C=>{if(Math.max(C.source[0][0],C.source[1][0],C.source[2][0])-y>this.sourceWorldWidth_/2){const R=[[C.source[0][0],C.source[0][1]],[C.source[1][0],C.source[1][1]],[C.source[2][0],C.source[2][1]]];R[0][0]-y>this.sourceWorldWidth_/2&&(R[0][0]-=this.sourceWorldWidth_),R[1][0]-y>this.sourceWorldWidth_/2&&(R[1][0]-=this.sourceWorldWidth_),R[2][0]-y>this.sourceWorldWidth_/2&&(R[2][0]-=this.sourceWorldWidth_);const I=Math.min(R[0][0],R[1][0],R[2][0]);Math.max(R[0][0],R[1][0],R[2][0])-I<this.sourceWorldWidth_/2&&(C.source=R)}})}a={}}addTriangle_(e,n,i,r,s,o){this.triangles_.push({source:[r,s,o],target:[e,n,i]})}addQuad_(e,n,i,r,s,o,a,l,u){const c=bl([s,o,a,l]),h=this.sourceWorldWidth_?Ie(c)/this.sourceWorldWidth_:null,f=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&h>.5&&h<1;let _=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const v=bl([e,n,i,r]);_=Ie(v)/this.targetWorldWidth_>lc||_}!d&&this.sourceProj_.isGlobal()&&h&&(_=h>lc||_)}if(!_&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3])&&!$i(c,this.maxSourceExtent_))return;let p=0;if(!_&&(!isFinite(s[0])||!isFinite(s[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(l[0])||!isFinite(l[1]))){if(u>0)_=!0;else if(p=(!isFinite(s[0])||!isFinite(s[1])?8:0)+(!isFinite(o[0])||!isFinite(o[1])?4:0)+(!isFinite(a[0])||!isFinite(a[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),p!=1&&p!=2&&p!=4&&p!=8)return}if(u>0){if(!_){const v=[(e[0]+i[0])/2,(e[1]+i[1])/2],E=this.transformInv_(v);let y;d?y=(Yn(s[0],f)+Yn(a[0],f))/2-Yn(E[0],f):y=(s[0]+a[0])/2-E[0];const C=(s[1]+a[1])/2-E[1];_=y*y+C*C>this.errorThresholdSquared_}if(_){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){const v=[(n[0]+i[0])/2,(n[1]+i[1])/2],E=this.transformInv_(v),y=[(r[0]+e[0])/2,(r[1]+e[1])/2],C=this.transformInv_(y);this.addQuad_(e,n,v,y,s,o,E,C,u-1),this.addQuad_(y,v,i,r,C,E,a,l,u-1)}else{const v=[(e[0]+n[0])/2,(e[1]+n[1])/2],E=this.transformInv_(v),y=[(i[0]+r[0])/2,(i[1]+r[1])/2],C=this.transformInv_(y);this.addQuad_(e,v,y,r,s,E,C,l,u-1),this.addQuad_(v,n,i,y,E,o,a,C,u-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}p&11||this.addTriangle_(e,i,r,s,a,l),p&14||this.addTriangle_(e,i,n,s,a,o),p&&(p&13||this.addTriangle_(n,r,e,o,l,s),p&7||this.addTriangle_(n,r,i,o,l,a))}calculateSourceExtent(){const e=Rn();return this.triangles_.forEach(function(n,i,r){const s=n.source;Rr(e,s[0]),Rr(e,s[1]),Rr(e,s[2])}),e}getTriangles(){return this.triangles_}}let Xs;const Ut=[];function cc(t,e,n,i,r){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(i,r),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,i)+1,Math.max(n,r)),t.restore()}function Us(t,e){return Math.abs(t[e*4]-210)>2||Math.abs(t[e*4+3]-.75*255)>2}function $0(){if(Xs===void 0){const t=qe(6,6,Ut);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",cc(t,4,5,4,0),cc(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;Xs=Us(e,0)||Us(e,4)||Us(e,8),Ki(t),Ut.push(t.canvas)}return Xs}function uc(t,e,n,i){const r=rm(n,e,t);let s=Sl(e,i,n);const o=e.getMetersPerUnit();o!==void 0&&(s*=o);const a=t.getMetersPerUnit();a!==void 0&&(s/=a);const l=t.getExtent();if(!l||Ho(l,r)){const u=Sl(t,s,r)/s;isFinite(u)&&u>0&&(s/=u)}return s}function Ah(t,e,n,i){const r=qn(n);let s=uc(t,e,r,i);return(!isFinite(s)||s<=0)&&Ku(n,function(o){return s=uc(t,e,o,i),isFinite(s)&&s>0}),s}function Sh(t,e,n,i,r,s,o,a,l,u,c,h,f,d){const _=qe(Math.round(n*t),Math.round(n*e),Ut);if(h||(_.imageSmoothingEnabled=!1),l.length===0)return _.canvas;_.scale(n,n);function p(I){return Math.round(I*n)/n}_.globalCompositeOperation="lighter";const v=Rn();l.forEach(function(I,X,P){X_(v,I.extent)});let E;const y=n/i,C=(h?1:1+Math.pow(2,-24))/y;if(!f||l.length!==1||u!==0){if(E=qe(Math.round(Ie(v)*y),Math.round(at(v)*y),Ut),h||(E.imageSmoothingEnabled=!1),r&&d){const I=(r[0]-v[0])*y,X=-(r[3]-v[3])*y,P=Ie(r)*y,D=at(r)*y;E.rect(I,X,P,D),E.clip()}l.forEach(function(I,X,P){if(I.image.width>0&&I.image.height>0){if(I.clipExtent){E.save();const ce=(I.clipExtent[0]-v[0])*y,te=-(I.clipExtent[3]-v[3])*y,B=Ie(I.clipExtent)*y,we=at(I.clipExtent)*y;E.rect(h?ce:Math.round(ce),h?te:Math.round(te),h?B:Math.round(ce+B)-Math.round(ce),h?we:Math.round(te+we)-Math.round(te)),E.clip()}const D=(I.extent[0]-v[0])*y,U=-(I.extent[3]-v[3])*y,re=Ie(I.extent)*y,le=at(I.extent)*y;E.drawImage(I.image,u,u,I.image.width-2*u,I.image.height-2*u,h?D:Math.round(D),h?U:Math.round(U),h?re:Math.round(D+re)-Math.round(D),h?le:Math.round(U+le)-Math.round(U)),I.clipExtent&&E.restore()}})}const R=Cn(o);return a.getTriangles().forEach(function(I,X,P){const D=I.source,U=I.target;let re=D[0][0],le=D[0][1],ce=D[1][0],te=D[1][1],B=D[2][0],we=D[2][1];const Y=p((U[0][0]-R[0])/s),H=p(-(U[0][1]-R[1])/s),$=p((U[1][0]-R[0])/s),Me=p(-(U[1][1]-R[1])/s),me=p((U[2][0]-R[0])/s),ue=p(-(U[2][1]-R[1])/s),he=re,Ve=le;re=0,le=0,ce-=he,te-=Ve,B-=he,we-=Ve;const Je=[[ce,te,0,0,$-Y],[B,we,0,0,me-Y],[0,0,ce,te,Me-H],[0,0,B,we,ue-H]],Ye=b_(Je);if(!Ye)return;if(_.save(),_.beginPath(),$0()||!h){_.moveTo($,Me);const x=4,k=Y-$,F=H-Me;for(let K=0;K<x;K++)_.lineTo($+p((K+1)*k/x),Me+p(K*F/(x-1))),K!=x-1&&_.lineTo($+p((K+1)*k/x),Me+p((K+1)*F/(x-1)));_.lineTo(me,ue)}else _.moveTo($,Me),_.lineTo(Y,H),_.lineTo(me,ue);_.clip(),_.transform(Ye[0],Ye[2],Ye[1],Ye[3],Y,H),_.translate(v[0]-he,v[3]-Ve);let Ce;if(E)Ce=E.canvas,_.scale(C,-C);else{const x=l[0],k=x.extent;Ce=x.image,_.scale(Ie(k)/Ce.width,-at(k)/Ce.height)}_.drawImage(Ce,0,0),_.restore()}),E&&(Ki(E),Ut.push(E.canvas)),c&&(_.save(),_.globalCompositeOperation="source-over",_.strokeStyle="black",_.lineWidth=1,a.getTriangles().forEach(function(I,X,P){const D=I.target,U=(D[0][0]-R[0])/s,re=-(D[0][1]-R[1])/s,le=(D[1][0]-R[0])/s,ce=-(D[1][1]-R[1])/s,te=(D[2][0]-R[0])/s,B=-(D[2][1]-R[1])/s;_.beginPath(),_.moveTo(le,ce),_.lineTo(U,re),_.lineTo(te,B),_.closePath(),_.stroke()}),_.restore()),_.canvas}class q0 extends yo{constructor(e){super({tileCoord:e.tileCoord,loader:()=>Promise.resolve(new Uint8ClampedArray(4)),interpolate:e.interpolate,transition:e.transition}),this.pixelRatio_=e.pixelRatio,this.gutter_=e.gutter,this.reprojData_=null,this.reprojError_=null,this.reprojSize_=void 0,this.sourceTileGrid_=e.sourceTileGrid,this.targetTileGrid_=e.targetTileGrid,this.wrappedTileCoord_=e.wrappedTileCoord||e.tileCoord,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const n=e.sourceProj,i=n.getExtent(),r=e.sourceTileGrid.getExtent();this.clipExtent_=n.canWrapX()?r?yt(i,r):i:r;const s=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_),o=this.targetTileGrid_.getExtent();let a=this.sourceTileGrid_.getExtent();const l=o?yt(s,o):s;if(Fi(l)===0){this.state=j.EMPTY;return}i&&(a?a=yt(a,i):a=i);const u=this.targetTileGrid_.getResolution(this.wrappedTileCoord_[0]),c=e.targetProj,h=Ah(n,c,l,u);if(!isFinite(h)||h<=0){this.state=j.EMPTY;return}const f=e.errorThreshold!==void 0?e.errorThreshold:bh;if(this.triangulation_=new Ih(n,c,l,a,h*f,u),this.triangulation_.getTriangles().length===0){this.state=j.EMPTY;return}this.sourceZ_=this.sourceTileGrid_.getZForResolution(h);let d=this.triangulation_.calculateSourceExtent();if(a&&(n.canWrapX()?(d[1]=Le(d[1],a[1],a[3]),d[3]=Le(d[3],a[1],a[3])):d=yt(d,a)),!Fi(d))this.state=j.EMPTY;else{let _=0,p=0;n.canWrapX()&&(_=Ie(i),p=Math.floor((d[0]-i[0])/_)),Xu(d.slice(),n,!0).forEach(E=>{const y=this.sourceTileGrid_.getTileRangeForExtentAndZ(E,this.sourceZ_),C=e.getTileFunction;for(let R=y.minX;R<=y.maxX;R++)for(let I=y.minY;I<=y.maxY;I++){const X=C(this.sourceZ_,R,I,this.pixelRatio_);if(X){const P=p*_;this.sourceTiles_.push({tile:X,offset:P})}}++p}),this.sourceTiles_.length===0&&(this.state=j.EMPTY)}}getSize(){return this.reprojSize_}getData(){return this.reprojData_}getError(){return this.reprojError_}reproject_(){const e=[];let n=!1;if(this.sourceTiles_.forEach(_=>{var H;const p=_.tile;if(!p||p.getState()!==j.LOADED)return;const v=p.getSize(),E=this.gutter_;let y;const C=V0(p.getData());C?y=C:(n=!0,y=W0(kr(p.getData())));const R=[v[0]+2*E,v[1]+2*E],I=y instanceof Float32Array,X=R[0]*R[1],P=I?Float32Array:Uint8ClampedArray,D=new P(y.buffer),U=P.BYTES_PER_ELEMENT,re=U*D.length/X,le=D.byteLength/R[1],ce=Math.floor(le/U/R[0]),te=X*ce;let B=D;if(D.length!==te){B=new P(te);let $=0,Me=0;const me=R[0]*ce;for(let ue=0;ue<R[1];++ue){for(let he=0;he<me;++he)B[$++]=D[Me+he];Me+=le/U}}const we=this.sourceTileGrid_.getTileCoordExtent(p.tileCoord);we[0]+=_.offset,we[2]+=_.offset;const Y=(H=this.clipExtent_)==null?void 0:H.slice();Y&&(Y[0]+=_.offset,Y[2]+=_.offset),e.push({extent:we,clipExtent:Y,data:new Uint8ClampedArray(B.buffer),dataType:P,bytesPerPixel:re,pixelSize:R})}),this.sourceTiles_.length=0,e.length===0){this.state=j.ERROR,this.changed();return}const i=this.wrappedTileCoord_[0],r=this.targetTileGrid_.getTileSize(i),s=typeof r=="number"?r:r[0],o=typeof r=="number"?r:r[1],a=this.targetTileGrid_.getResolution(i),l=this.sourceTileGrid_.getResolution(this.sourceZ_),u=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);let c,h;const f=e[0].bytesPerPixel,d=Math.ceil(f/3);for(let _=d-1;_>=0;--_){const p=[];for(let I=0,X=e.length;I<X;++I){const P=e[I],D=P.data,U=P.pixelSize,re=U[0],le=U[1],ce=qe(re,le,Ut),te=ce.createImageData(re,le),B=te.data;let we=_*3;for(let Y=0,H=B.length;Y<H;Y+=4)B[Y]=D[we],B[Y+1]=D[we+1],B[Y+2]=D[we+2],B[Y+3]=255,we+=f;ce.putImageData(te,0,0),p.push({extent:P.extent,clipExtent:P.clipExtent,image:ce.canvas})}const v=Sh(s,o,this.pixelRatio_,l,this.sourceTileGrid_.getExtent(),a,u,this.triangulation_,p,this.gutter_,!1,!1,!1);for(let I=0,X=p.length;I<X;++I){const D=p[I].image.getContext("2d");Ki(D),Ut.push(D.canvas)}const E=v.getContext("2d"),y=E.getImageData(0,0,v.width,v.height);Ki(E),Ut.push(v),c||(h=new Uint8ClampedArray(f*y.width*y.height),c=new e[0].dataType(h.buffer));const C=y.data;let R=_*3;for(let I=0,X=C.length;I<X;I+=4)C[I+3]===255?(h[R]=C[I],h[R+1]=C[I+1],h[R+2]=C[I+2]):(h[R]=0,h[R+1]=0,h[R+2]=0),R+=f}if(n){const _=qe(s,o),p=new ImageData(c,s);_.putImageData(p,0,0),this.reprojData_=_.canvas}else this.reprojData_=c;this.reprojSize_=[Math.round(s*this.pixelRatio_),Math.round(o*this.pixelRatio_)],this.state=j.LOADED,this.changed()}load(){if(this.state!==j.IDLE&&this.state!==j.ERROR)return;this.state=j.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{const i=n.getState();if(i!==j.IDLE&&i!==j.LOADING)return;e++;const r=ge(n,J.CHANGE,()=>{const s=n.getState();(s==j.LOADED||s==j.ERROR||s==j.EMPTY)&&(Ae(r),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n}){n.getState()==j.IDLE&&n.load()})}unlistenSources_(){this.sourcesListenerKeys_.forEach(Ae),this.sourcesListenerKeys_=null}}class Mh extends Ea{constructor(e,n,i,r,s,o,a,l,u,c,h,f){super(s,j.IDLE,f),this.renderEdges_=h!==void 0?h:!1,this.pixelRatio_=a,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=r,this.wrappedTileCoord_=o||s,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0;const d=r.getTileCoordExtent(this.wrappedTileCoord_),_=this.targetTileGrid_.getExtent();let p=this.sourceTileGrid_.getExtent();const v=_?yt(d,_):d;if(Fi(v)===0){this.state=j.EMPTY;return}const E=e.getExtent();E&&(p?p=yt(p,E):p=E);const y=r.getResolution(this.wrappedTileCoord_[0]),C=Ah(e,i,v,y);if(!isFinite(C)||C<=0){this.state=j.EMPTY;return}const R=c!==void 0?c:bh;if(this.triangulation_=new Ih(e,i,v,p,C*R,y),this.triangulation_.getTriangles().length===0){this.state=j.EMPTY;return}this.sourceZ_=n.getZForResolution(C);let I=this.triangulation_.calculateSourceExtent();if(p&&(e.canWrapX()?(I[1]=Le(I[1],p[1],p[3]),I[3]=Le(I[3],p[1],p[3])):I=yt(I,p)),!Fi(I))this.state=j.EMPTY;else{let X=0,P=0;e.canWrapX()&&(X=Ie(E),P=Math.floor((I[0]-E[0])/X)),Xu(I.slice(),e,!0).forEach(U=>{const re=n.getTileRangeForExtentAndZ(U,this.sourceZ_);for(let le=re.minX;le<=re.maxX;le++)for(let ce=re.minY;ce<=re.maxY;ce++){const te=u(this.sourceZ_,le,ce,a);if(te){const B=P*X;this.sourceTiles_.push({tile:te,offset:B})}}++P}),this.sourceTiles_.length===0&&(this.state=j.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(n=>{var r;const i=n.tile;if(i&&i.getState()==j.LOADED){const s=this.sourceTileGrid_.getTileCoordExtent(i.tileCoord);s[0]+=n.offset,s[2]+=n.offset;const o=(r=this.clipExtent_)==null?void 0:r.slice();o&&(o[0]+=n.offset,o[2]+=n.offset),e.push({extent:s,clipExtent:o,image:i.getImage()})}}),this.sourceTiles_.length=0,e.length===0)this.state=j.ERROR;else{const n=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(n),r=typeof i=="number"?i:i[0],s=typeof i=="number"?i:i[1],o=this.targetTileGrid_.getResolution(n),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Sh(r,s,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),o,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=j.LOADED}this.changed()}load(){if(this.state==j.IDLE){this.state=j.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{const i=n.getState();if(i==j.IDLE||i==j.LOADING){e++;const r=ge(n,J.CHANGE,s=>{const o=n.getState();(o==j.LOADED||o==j.ERROR||o==j.EMPTY)&&(Ae(r),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(r)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n},i,r){n.getState()==j.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Ae),this.sourcesListenerKeys_=null}release(){this.canvas_&&(Ki(this.canvas_.getContext("2d")),Ut.push(this.canvas_),this.canvas_=null),super.release()}}class va{constructor(e,n,i,r){this.minX=e,this.maxX=n,this.minY=i,this.maxY=r}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,n){return this.minX<=e&&e<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function Ln(t,e,n,i,r){return r!==void 0?(r.minX=t,r.maxX=e,r.minY=n,r.maxY=i,r):new va(t,e,n,i)}function zr(t,e,n,i){return i!==void 0?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function ms(t,e,n){return t+"/"+e+"/"+n}function Ph(t){return ms(t[0],t[1],t[2])}function J0(t){return t.split("/").map(Number)}function Q0(t){return ey(t[0],t[1],t[2])}function ey(t,e,n){return(e<<t)+n}function ty(t,e){const n=t[0],i=t[1],r=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const s=e.getFullTileRange(n);return s?s.containsXY(i,r):!0}function Vs(t,e,n,i){return`${t},${ms(e,n,i)}`}function Ys(t,e,n){if(!(n in t))return t[n]=new Set([e]),!0;const i=t[n],r=i.has(e);return r||i.add(e),!r}function ny(t,e,n){const i=t[n];return i?i.delete(e):!1}function hc(t,e){const n=t.layerStatesArray[t.layerIndex];n.extent&&(e=yt(e,_n(n.extent,t.viewState.projection)));const i=n.layer.getRenderSource();if(!i.getWrapX()){const r=i.getTileGridForProjection(t.viewState.projection).getExtent();r&&(e=yt(e,r))}return e}class iy extends U0{constructor(e,n){super(e),n=n||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=Rn(),this.tempTileRange_=new va(0,0,0,0),this.tempTileCoord_=zr(0,0,0);const i=n.cacheSize!==void 0?n.cacheSize:512;this.tileCache_=new Th(i),this.maxStaleKeys=i*.5}getTileCache(){return this.tileCache_}getOrCreateTile(e,n,i,r){const s=this.tileCache_,a=this.getLayer().getSource(),l=Vs(a.getKey(),e,n,i);let u;if(s.containsKey(l))u=s.get(l);else{if(u=a.getTile(e,n,i,r.pixelRatio,r.viewState.projection),!u)return null;s.set(l,u)}return u}getTile(e,n,i,r){const s=this.getOrCreateTile(e,n,i,r);return s||null}getData(e){const n=this.frameState;if(!n)return null;const i=this.getLayer(),r=ut(n.pixelToCoordinateTransform,e.slice()),s=i.getExtent();if(s&&!Ho(s,r))return null;const o=n.viewState,a=i.getRenderSource(),l=a.getTileGridForProjection(o.projection),u=a.getTilePixelRatio(n.pixelRatio);for(let c=l.getZForResolution(o.resolution);c>=l.getMinZoom();--c){const h=l.getTileCoordForCoordAndZ(r,c),f=this.getTile(c,h[1],h[2],n);if(!f||f.getState()!==j.LOADED)continue;const d=l.getOrigin(c),_=tt(l.getTileSize(c)),p=l.getResolution(c);let v;if(f instanceof xh)v=f.getImage();else if(f instanceof yo){if(v=kr(f.getData()),!v)continue}else continue;const E=Math.floor(u*((r[0]-d[0])/p-h[1]*_[0])),y=Math.floor(u*((d[1]-r[1])/p-h[2]*_[1])),C=Math.round(u*a.getGutterForProjection(o.projection));return this.getImageData(v,E+C,y+C)}return null}prepareFrame(e){const n=this.getLayer().getSource();if(!n)return!1;const i=n.getRevision();return this.renderedRevision_?this.renderedRevision_!==i&&(this.renderedRevision_=i,this.renderedSourceKey_===n.getKey()&&this.tileCache_.clear()):this.renderedRevision_=i,!0}enqueueTiles(e,n,i,r,s){const o=e.viewState,a=this.getLayer(),l=a.getRenderSource(),u=l.getTileGridForProjection(o.projection),c=He(l);c in e.wantedTiles||(e.wantedTiles[c]={});const h=e.wantedTiles[c],f=a.getMapInternal(),d=Math.max(i-s,u.getMinZoom(),u.getZForResolution(Math.min(a.getMaxResolution(),f?f.getView().getResolutionForZoom(Math.max(a.getMinZoom(),0)):u.getResolution(0)),l.zDirection));for(let _=i;_>=d;--_){const p=u.getTileRangeForExtentAndZ(n,_,this.tempTileRange_),v=u.getResolution(_);for(let E=p.minX;E<=p.maxX;++E)for(let y=p.minY;y<=p.maxY;++y){const C=this.getTile(_,E,y,e);if(!C||!Ys(r,C,_))continue;const I=C.getKey();if(h[I]=!0,C.getState()===j.IDLE&&!e.tileQueue.isKeyQueued(I)){const X=zr(_,E,y,this.tempTileCoord_);e.tileQueue.enqueue([C,c,u.getTileCoordCenter(X),v])}}}}findStaleTile_(e,n){const i=this.tileCache_,r=e[0],s=e[1],o=e[2],a=this.getStaleKeys();for(let l=0;l<a.length;++l){const u=Vs(a[l],r,s,o);if(i.containsKey(u)){const c=i.get(u);if(c.getState()===j.LOADED)return c.endTransition(He(this)),Ys(n,c,r),!0}}return!1}findAltTiles_(e,n,i,r){const s=e.getTileRangeForTileCoordAndZ(n,i,this.tempTileRange_);if(!s)return!1;let o=!0;const a=this.tileCache_,u=this.getLayer().getRenderSource().getKey();for(let c=s.minX;c<=s.maxX;++c)for(let h=s.minY;h<=s.maxY;++h){const f=Vs(u,i,c,h);let d=!1;if(a.containsKey(f)){const _=a.get(f);_.getState()===j.LOADED&&(Ys(r,_,i),d=!0)}d||(o=!1)}return o}renderFrame(e,n){this.renderComplete=!0;const i=e.layerStatesArray[e.layerIndex],r=e.viewState,s=r.projection,o=r.resolution,a=r.center,l=e.pixelRatio,u=this.getLayer(),c=u.getSource(),h=c.getRevision(),f=c.getTileGridForProjection(s),d=f.getZForResolution(o,c.zDirection),_=f.getResolution(d),p=c.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==p&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=p):this.renderedSourceKey_=p;let v=e.extent;const E=c.getTilePixelRatio(l);this.prepareContainer(e,n);const y=this.context.canvas.width,C=this.context.canvas.height,R=i.extent&&_n(i.extent);R&&(v=yt(v,_n(i.extent)));const I=_*y/2/E,X=_*C/2/E,P=[a[0]-I,a[1]-X,a[0]+I,a[1]+X],D={};this.renderedTiles.length=0;const U=u.getPreload();if(e.nextExtent){const me=f.getZForResolution(r.nextResolution,c.zDirection),ue=hc(e,e.nextExtent);this.enqueueTiles(e,ue,me,D,U)}const re=hc(e,v);if(this.enqueueTiles(e,re,d,D,0),U>0&&setTimeout(()=>{this.enqueueTiles(e,re,d-1,D,U-1)},0),!(d in D))return this.container;const le=He(this),ce=e.time;for(const me of D[d]){const ue=me.getState();if((me instanceof Mh||me instanceof q0)&&ue===j.EMPTY)continue;const he=me.tileCoord;if(ue===j.LOADED&&me.getAlpha(le,ce)===1){me.endTransition(le);continue}if(this.renderComplete=!1,this.findStaleTile_(he,D)){ny(D,me,d),e.animate=!0;continue}if(this.findAltTiles_(f,he,d+1,D))continue;const Ye=f.getMinZoom();for(let Ce=d-1;Ce>=Ye&&!this.findAltTiles_(f,he,Ce,D);--Ce);}const te=_/o*l/E,B=this.getRenderContext(e);Ni(this.tempTransform,y/2,C/2,te,te,0,-y/2,-C/2),i.extent&&this.clipUnrotated(B,e,R),c.getInterpolate()||(B.imageSmoothingEnabled=!1),this.preRender(B,e);const we=Object.keys(D).map(Number);we.sort(Jr);let Y;const H=[],$=[];for(let me=we.length-1;me>=0;--me){const ue=we[me],he=c.getTilePixelSize(ue,l,s),Je=f.getResolution(ue)/_,Ye=he[0]*Je*te,Ce=he[1]*Je*te,x=f.getTileCoordForCoordAndZ(Cn(P),ue),k=f.getTileCoordExtent(x),F=ut(this.tempTransform,[E*(k[0]-P[0])/_,E*(P[3]-k[3])/_]),K=E*c.getGutterForProjection(s);for(const ne of D[ue]){if(ne.getState()!==j.LOADED)continue;const xe=ne.tileCoord,g=x[1]-xe[1],m=Math.round(F[0]-(g-1)*Ye),w=x[2]-xe[2],S=Math.round(F[1]-(w-1)*Ce),T=Math.round(F[0]-g*Ye),A=Math.round(F[1]-w*Ce),N=m-T,L=S-A,O=we.length===1;let M=!1;Y=[T,A,T+N,A,T+N,A+L,T,A+L];for(let V=0,z=H.length;V<z;++V)if(!O&&ue<$[V]){const G=H[V];$i([T,A,T+N,A+L],[G[0],G[3],G[4],G[7]])&&(M||(B.save(),M=!0),B.beginPath(),B.moveTo(Y[0],Y[1]),B.lineTo(Y[2],Y[3]),B.lineTo(Y[4],Y[5]),B.lineTo(Y[6],Y[7]),B.moveTo(G[6],G[7]),B.lineTo(G[4],G[5]),B.lineTo(G[2],G[3]),B.lineTo(G[0],G[1]),B.clip())}H.push(Y),$.push(ue),this.drawTile(ne,e,T,A,N,L,K,O),M&&B.restore(),this.renderedTiles.unshift(ne),this.updateUsedTiles(e.usedTiles,c,ne)}}this.renderedRevision=h,this.renderedResolution=_,this.extentChanged=!this.renderedExtent_||!co(this.renderedExtent_,P),this.renderedExtent_=P,this.renderedPixelRatio=l,this.renderedProjection=s,this.postRender(this.context,e),i.extent&&B.restore(),B.imageSmoothingEnabled=!0;const Me=(me,ue)=>{const he=He(c),Ve=ue.wantedTiles[he],Je=Ve?Object.keys(Ve).length:0;this.updateCacheSize(Je),this.tileCache_.expireCache()};return e.postRenderFunctions.push(Me),this.container}updateCacheSize(e){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,e*2)}drawTile(e,n,i,r,s,o,a,l){let u;if(e instanceof yo){if(u=kr(e.getData()),!u)throw new Error("Rendering array data is not yet supported")}else u=this.getTileImage(e);if(!u)return;const c=this.getRenderContext(n),h=He(this),f=n.layerStatesArray[n.layerIndex],d=f.opacity*(l?e.getAlpha(h,n.time):1),_=d!==c.globalAlpha;_&&(c.save(),c.globalAlpha=d),c.drawImage(u,a,a,u.width-2*a,u.height-2*a,i,r,s,o),_&&c.restore(),d!==f.opacity?n.animate=!0:l&&e.endTransition(h)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}updateUsedTiles(e,n,i){const r=He(n);r in e||(e[r]={}),e[r][i.getKey()]=!0}}class ry extends z0{constructor(e){super(e)}createRenderer(){return new iy(this,{cacheSize:this.getCacheSize()})}}class Lh extends Th{clear(){for(;this.getCount()>0;)this.pop().release();super.clear()}expireCache(e){for(;this.canExpireCache()&&!(this.peekLast().getKey()in e);)this.pop().release()}pruneExceptNewestZ(){if(this.getCount()===0)return;const e=this.peekFirstKey(),i=J0(e)[0];this.forEach(r=>{r.tileCoord[0]!==i&&(this.remove(Ph(r.tileCoord)),r.release())})}}const Ws={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class sy extends Yt{constructor(e){super(),this.projection=Ct(e.projection),this.attributions_=fc(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(i,r){n.viewResolver=i,n.viewRejector=r})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=fc(e),this.changed()}setState(e){this.state_=e,this.changed()}}function fc(t){return t?typeof t=="function"?t:(Array.isArray(t)||(t=[t]),e=>t):null}const On=[0,0,0],$t=5;class Oh{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,ve(v_(this.resolutions_,(r,s)=>s-r),"`resolutions` must be sorted in descending order");let n;if(!e.origins){for(let r=0,s=this.resolutions_.length-1;r<s;++r)if(!n)n=this.resolutions_[r]/this.resolutions_[r+1];else if(this.resolutions_[r]/this.resolutions_[r+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,ve(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Cn(i)),ve(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,ve(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:Zo,ve(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((r,s)=>{const o=new va(Math.min(0,r[0]),Math.max(r[0]-1,-1),Math.min(0,r[1]),Math.max(r[1]-1,-1));if(i){const a=this.getTileRangeForExtentAndZ(i,s);o.minX=Math.max(a.minX,o.minX),o.maxX=Math.min(a.maxX,o.maxX),o.minY=Math.max(a.minY,o.minY),o.maxY=Math.min(a.maxY,o.maxY)}return o}):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,n,i){const r=this.getTileRangeForExtentAndZ(e,n);for(let s=r.minX,o=r.maxX;s<=o;++s)for(let a=r.minY,l=r.maxY;a<=l;++a)i([n,s,a])}forEachTileCoordParentTileRange(e,n,i,r){let s,o,a,l=null,u=e[0]-1;for(this.zoomFactor_===2?(o=e[1],a=e[2]):l=this.getTileCoordExtent(e,r);u>=this.minZoom;){if(o!==void 0&&a!==void 0?(o=Math.floor(o/2),a=Math.floor(a/2),s=Ln(o,o,a,a,i)):s=this.getTileRangeForExtentAndZ(l,u,i),n(u,s))return!0;--u}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,n,i){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const s=e[1]*2,o=e[2]*2;return Ln(s,s+1,o,o+1,n)}const r=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(r,e[0]+1,n)}return null}getTileRangeForTileCoordAndZ(e,n,i){if(n>this.maxZoom||n<this.minZoom)return null;const r=e[0],s=e[1],o=e[2];if(n===r)return Ln(s,o,s,o,i);if(this.zoomFactor_){const l=Math.pow(this.zoomFactor_,n-r),u=Math.floor(s*l),c=Math.floor(o*l);if(n<r)return Ln(u,u,c,c,i);const h=Math.floor(l*(s+1))-1,f=Math.floor(l*(o+1))-1;return Ln(u,h,c,f,i)}const a=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,n,i)}getTileRangeForExtentAndZ(e,n,i){this.getTileCoordForXYAndZ_(e[0],e[3],n,!1,On);const r=On[1],s=On[2];this.getTileCoordForXYAndZ_(e[2],e[1],n,!0,On);const o=On[1],a=On[2];return Ln(r,o,s,a,i)}getTileCoordCenter(e){const n=this.getOrigin(e[0]),i=this.getResolution(e[0]),r=tt(this.getTileSize(e[0]),this.tmpSize_);return[n[0]+(e[1]+.5)*r[0]*i,n[1]-(e[2]+.5)*r[1]*i]}getTileCoordExtent(e,n){const i=this.getOrigin(e[0]),r=this.getResolution(e[0]),s=tt(this.getTileSize(e[0]),this.tmpSize_),o=i[0]+e[1]*s[0]*r,a=i[1]-(e[2]+1)*s[1]*r,l=o+s[0]*r,u=a+s[1]*r;return Hi(o,a,l,u,n)}getTileCoordForCoordAndResolution(e,n,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],n,!1,i)}getTileCoordForXYAndResolution_(e,n,i,r,s){const o=this.getZForResolution(i),a=i/this.getResolution(o),l=this.getOrigin(o),u=tt(this.getTileSize(o),this.tmpSize_);let c=a*(e-l[0])/i/u[0],h=a*(l[1]-n)/i/u[1];return r?(c=cr(c,$t)-1,h=cr(h,$t)-1):(c=lr(c,$t),h=lr(h,$t)),zr(o,c,h,s)}getTileCoordForXYAndZ_(e,n,i,r,s){const o=this.getOrigin(i),a=this.getResolution(i),l=tt(this.getTileSize(i),this.tmpSize_);let u=(e-o[0])/a/l[0],c=(o[1]-n)/a/l[1];return r?(u=cr(u,$t)-1,c=cr(c,$t)-1):(u=lr(u,$t),c=lr(c,$t)),zr(i,u,c,s)}getTileCoordForCoordAndZ(e,n,i){return this.getTileCoordForXYAndZ_(e[0],e[1],n,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,n){const i=Wo(this.resolutions_,e,n||0);return Le(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,n){return eh(n,0,n.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const n=this.resolutions_.length,i=new Array(n);for(let r=this.minZoom;r<n;++r)i[r]=this.getTileRangeForExtentAndZ(e,r);this.fullTileRanges_=i}}function Dh(t){let e=t.getDefaultTileGrid();return e||(e=cy(t),t.setDefaultTileGrid(e)),e}function oy(t,e,n){const i=e[0],r=t.getTileCoordCenter(e),s=wa(n);if(!Ho(s,r)){const o=Ie(s),a=Math.ceil((s[0]-r[0])/o);return r[0]+=o*a,t.getTileCoordForCoordAndZ(r,i)}return e}function ay(t,e,n,i){i=i!==void 0?i:"top-left";const r=Fh(t,e,n);return new Oh({extent:t,origin:V_(t,i),resolutions:r,tileSize:n})}function ly(t){const e=t||{},n=e.extent||Ct("EPSG:3857").getExtent(),i={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:Fh(n,e.maxZoom,e.tileSize,e.maxResolution)};return new Oh(i)}function Fh(t,e,n,i){e=e!==void 0?e:A_,n=tt(n!==void 0?n:Zo);const r=at(t),s=Ie(t);i=i>0?i:Math.max(s/n[0],r/n[1]);const o=e+1,a=new Array(o);for(let l=0;l<o;++l)a[l]=i/Math.pow(2,l);return a}function cy(t,e,n,i){const r=wa(t);return ay(r,e,n,i)}function wa(t){t=Ct(t);let e=t.getExtent();if(!e){const n=180*Bo.degrees/t.getMetersPerUnit();e=Hi(-n,-n,n,n)}return e}class uy extends sy{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const n=[256,256];this.tileGrid&&tt(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tileCache=new Lh(e.cacheSize||0),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}canExpireCache(){return this.tileCache.canExpireCache()}expireCache(e,n){const i=this.getTileCacheForProjection(e);i&&i.expireCache(n)}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getResolutions(e){const n=e?this.getTileGridForProjection(e):this.tileGrid;return n?n.getResolutions():null}getTile(e,n,i,r,s){return ae()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:Dh(e)}getTileCacheForProjection(e){const n=this.getProjection();return ve(n===null||ui(n,e),"A VectorTile source can only be rendered if it has a projection compatible with the view projection."),this.tileCache}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,n,i){const r=this.getTileGridForProjection(i),s=this.getTilePixelRatio(n),o=tt(r.getTileSize(e),this.tmpSize);return s==1?o:Bm(o,s,this.tmpSize)}getTileCoordForTileUrlFunction(e,n){n=n!==void 0?n:this.getProjection();const i=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(e=oy(i,e,n)),ty(e,i)?e:null}clear(){this.tileCache.clear()}refresh(){this.clear(),super.refresh()}useTile(e,n,i,r){}}class hy extends cn{constructor(e,n){super(e),this.tile=n}}const fy=/\{z\}/g,dy=/\{x\}/g,gy=/\{y\}/g,_y=/\{-y\}/g;function my(t,e,n,i,r){return t.replace(fy,e.toString()).replace(dy,n.toString()).replace(gy,i.toString()).replace(_y,function(){if(r===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(r-i).toString()})}function py(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const i=n[1].charCodeAt(0),r=n[2].charCodeAt(0);let s;for(s=i;s<=r;++s)e.push(t.replace(n[0],String.fromCharCode(s)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const i=parseInt(n[2],10);for(let r=parseInt(n[1],10);r<=i;r++)e.push(t.replace(n[0],r.toString()));return e}return e.push(t),e}function yy(t,e){return function(n,i,r){if(!n)return;let s;const o=n[0];if(e){const a=e.getFullTileRange(o);a&&(s=a.getHeight()-1)}return my(t,o,n[1],n[2],s)}}function Ey(t,e){const n=t.length,i=new Array(n);for(let r=0;r<n;++r)i[r]=yy(t[r],e);return vy(i)}function vy(t){return t.length===1?t[0]:function(e,n,i){if(!e)return;const r=Q0(e),s=Yn(r,t.length);return t[s](e,n,i)}}class Ra extends uy{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===Ra.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const n=e.target,i=He(n),r=n.getState();let s;r==j.LOADING?(this.tileLoadingKeys_[i]=!0,s=Ws.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],s=r==j.ERROR?Ws.TILELOADERROR:r==j.LOADED?Ws.TILELOADEND:void 0),s!=null&&this.dispatchEvent(new hy(s,n))}setTileLoadFunction(e){this.tileCache.clear(),this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,n){this.tileUrlFunction=e,this.tileCache.pruneExceptNewestZ(),typeof n<"u"?this.setKey(n):this.changed()}setUrl(e){const n=py(e);this.urls=n,this.setUrls(n)}setUrls(e){this.urls=e;const n=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(Ey(e,this.tileGrid),n):this.setKey(n)}tileUrlFunction(e,n,i){}useTile(e,n,i){const r=ms(e,n,i);this.tileCache.containsKey(r)&&this.tileCache.get(r)}}class wy extends Ra{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Ry,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:xh,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}canExpireCache(){if(this.tileCache.canExpireCache())return!0;for(const e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1}expireCache(e,n){const i=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==i?n:{});for(const r in this.tileCacheForProjection){const s=this.tileCacheForProjection[r];s.expireCache(s==i?n:{})}}getGutterForProjection(e){return this.getProjection()&&e&&!ui(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getTileGridForProjection(e){const n=this.getProjection();if(this.tileGrid&&(!n||ui(n,e)))return this.tileGrid;const i=He(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=Dh(e)),this.tileGridForProjection[i]}getTileCacheForProjection(e){const n=this.getProjection();if(!n||ui(n,e))return this.tileCache;const i=He(e);return i in this.tileCacheForProjection||(this.tileCacheForProjection[i]=new Lh(this.tileCache.highWaterMark)),this.tileCacheForProjection[i]}createTile_(e,n,i,r,s,o){const a=[e,n,i],l=this.getTileCoordForTileUrlFunction(a,s),u=l?this.tileUrlFunction(l,r,s):void 0,c=new this.tileClass(a,u!==void 0?j.IDLE:j.EMPTY,u!==void 0?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return c.key=o,c.addEventListener(J.CHANGE,this.handleTileChange.bind(this)),c}getTile(e,n,i,r,s){const o=this.getProjection();if(!o||!s||ui(o,s))return this.getTileInternal(e,n,i,r,o||s);const a=this.getTileCacheForProjection(s),l=[e,n,i];let u;const c=Ph(l);a.containsKey(c)&&(u=a.get(c));const h=this.getKey();if(u&&u.key==h)return u;const f=this.getTileGridForProjection(o),d=this.getTileGridForProjection(s),_=this.getTileCoordForTileUrlFunction(l,s),p=new Mh(o,f,s,d,l,_,this.getTilePixelRatio(r),this.getGutter(),(v,E,y,C)=>this.getTileInternal(v,E,y,C,o),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return p.key=h,u?a.replace(c,p):a.set(c,p),p}getTileInternal(e,n,i,r,s){const o=ms(e,n,i),a=this.getKey();if(!this.tileCache.containsKey(o)){const u=this.createTile_(e,n,i,r,s,a);return this.tileCache.set(o,u),u}let l=this.tileCache.get(o);return l.key!=a&&(l=this.createTile_(e,n,i,r,s,a),this.tileCache.replace(o,l)),l}setRenderReprojectionEdges(e){if(this.renderReprojectionEdges_!=e){this.renderReprojectionEdges_=e;for(const n in this.tileCacheForProjection)this.tileCacheForProjection[n].clear();this.changed()}}setTileGridForProjection(e,n){const i=Ct(e);if(i){const r=He(i);r in this.tileGridForProjection||(this.tileGridForProjection[r]=n)}}clear(){super.clear();for(const e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear()}}function Ry(t,e){t.getImage().src=e}class Cy extends wy{constructor(e){e=e||{};const n=e.projection!==void 0?e.projection:"EPSG:3857",i=e.tileGrid!==void 0?e.tileGrid:ly({extent:wa(n),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:n,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}}const xy='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class Ty extends Cy{constructor(e){e=e||{};let n;e.attributions!==void 0?n=e.attributions:n=[xy];const i=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",r=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:n,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:i,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:r,wrapX:e.wrapX,zDirection:e.zDirection})}}const by={id:"map",class:"map-container"},Iy=Wr({__name:"MapView",setup(t){return Bc(()=>{new N0({target:"map",layers:[new ry({source:new Ty})],view:new St({center:[0,0],zoom:2})})}),(e,n)=>(jo(),bd("div",by))}}),Ay=Wr({__name:"Home",setup(t){return(e,n)=>(jo(),gu(Iy))}}),Sy=[{path:"/",name:"Home",component:Ay}],My=p_({history:Zg("/GIS_Cesium_OpenLayers/"),routes:Sy});var Py=!1;/*!
 * pinia v2.2.2
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */const Ly=Symbol();var dc;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(dc||(dc={}));function Oy(){const t=Qh(!0),e=t.run(()=>Nc({}));let n=[],i=[];const r=Fc({install(s){r._a=s,s.provide(Ly,r),s.config.globalProperties.$pinia=r,i.forEach(o=>n.push(o)),i=[]},use(s){return!this._a&&!Py?i.push(s):n.push(s),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return r}const Ca=ug(mg),Dy=Oy();Ca.use(My);Ca.use(Dy);Ca.mount("#app");
