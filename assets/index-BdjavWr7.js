var Fh=Object.defineProperty;var Nh=(t,e,n)=>e in t?Fh(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Sa=(t,e,n)=>Nh(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();/**
* @vue/shared v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Ro(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const be={},jn=[],Lt=()=>{},kh=()=>!1,js=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Co=t=>t.startsWith("onUpdate:"),ze=Object.assign,xo=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},zh=Object.prototype.hasOwnProperty,de=(t,e)=>zh.call(t,e),ee=Array.isArray,pi=t=>Ks(t)==="[object Map]",Gh=t=>Ks(t)==="[object Set]",Q=t=>typeof t=="function",De=t=>typeof t=="string",Qn=t=>typeof t=="symbol",Pe=t=>t!==null&&typeof t=="object",yc=t=>(Pe(t)||Q(t))&&Q(t.then)&&Q(t.catch),Xh=Object.prototype.toString,Ks=t=>Xh.call(t),jh=t=>Ks(t).slice(8,-1),Kh=t=>Ks(t)==="[object Object]",To=t=>De(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,yi=Ro(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Us=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Uh=/-(\w)/g,dt=Us(t=>t.replace(Uh,(e,n)=>n?n.toUpperCase():"")),Vh=/\B([A-Z])/g,wn=Us(t=>t.replace(Vh,"-$1").toLowerCase()),Vs=Us(t=>t.charAt(0).toUpperCase()+t.slice(1)),yr=Us(t=>t?`on${Vs(t)}`:""),rn=(t,e)=>!Object.is(t,e),Er=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Ec=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},Yh=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Ma;const vc=()=>Ma||(Ma=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function bo(t){if(ee(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=De(i)?Hh(i):bo(i);if(s)for(const r in s)e[r]=s[r]}return e}else if(De(t)||Pe(t))return t}const Wh=/;(?![^(]*\))/g,Zh=/:([^]+)/,Bh=/\/\*[^]*?\*\//g;function Hh(t){const e={};return t.replace(Bh,"").split(Wh).forEach(n=>{if(n){const i=n.split(Zh);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Io(t){let e="";if(De(t))e=t;else if(ee(t))for(let n=0;n<t.length;n++){const i=Io(t[n]);i&&(e+=i+" ")}else if(Pe(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const $h="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",qh=Ro($h);function wc(t){return!!t||t===""}/**
* @vue/reactivity v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ot;class Rc{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ot,!e&&ot&&(this.index=(ot.scopes||(ot.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=ot;try{return ot=this,e()}finally{ot=n}}}on(){ot=this}off(){ot=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function Jh(t){return new Rc(t)}function Qh(){return ot}let Te;const vr=new WeakSet;class Cc{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ot&&ot.active&&ot.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,vr.has(this)&&(vr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Tc(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Pa(this),bc(this);const e=Te,n=vt;Te=this,vt=!0;try{return this.fn()}finally{Ic(this),Te=e,vt=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Mo(e);this.deps=this.depsTail=void 0,Pa(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?vr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Hr(this)&&this.run()}get dirty(){return Hr(this)}}let xc=0,Gn;function Tc(t){t.flags|=8,t.next=Gn,Gn=t}function Ao(){xc++}function So(){if(--xc>0)return;let t;for(;Gn;){let e=Gn,n;for(;e;)e.flags&1||(e.flags&=-9),e=e.next;for(e=Gn,Gn=void 0;e;){if(n=e.next,e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=n}}if(t)throw t}function bc(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Ic(t){let e,n=t.depsTail,i=n;for(;i;){const s=i.prevDep;i.version===-1?(i===n&&(n=s),Mo(i),ef(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=s}t.deps=e,t.depsTail=n}function Hr(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Ac(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Ac(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ti))return;t.globalVersion=Ti;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Hr(t)){t.flags&=-3;return}const n=Te,i=vt;Te=t,vt=!0;try{bc(t);const s=t.fn(t._value);(e.version===0||rn(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{Te=n,vt=i,Ic(t),t.flags&=-3}}function Mo(t,e=!1){const{dep:n,prevSub:i,nextSub:s}=t;if(i&&(i.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=i,t.nextSub=void 0),n.subs===t&&(n.subs=i),!n.subs&&n.computed){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)Mo(r,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function ef(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let vt=!0;const Sc=[];function an(){Sc.push(vt),vt=!1}function ln(){const t=Sc.pop();vt=t===void 0?!0:t}function Pa(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Te;Te=void 0;try{e()}finally{Te=n}}}let Ti=0;class tf{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Po{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.target=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Te||!vt||Te===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Te)n=this.activeLink=new tf(Te,this),Te.deps?(n.prevDep=Te.depsTail,Te.depsTail.nextDep=n,Te.depsTail=n):Te.deps=Te.depsTail=n,Mc(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=Te.depsTail,n.nextDep=void 0,Te.depsTail.nextDep=n,Te.depsTail=n,Te.deps===n&&(Te.deps=i)}return n}trigger(e){this.version++,Ti++,this.notify(e)}notify(e){Ao();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{So()}}}function Mc(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)Mc(i)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const $r=new WeakMap,pn=Symbol(""),qr=Symbol(""),bi=Symbol("");function Ve(t,e,n){if(vt&&Te){let i=$r.get(t);i||$r.set(t,i=new Map);let s=i.get(n);s||(i.set(n,s=new Po),s.target=t,s.map=i,s.key=n),s.track()}}function jt(t,e,n,i,s,r){const o=$r.get(t);if(!o){Ti++;return}const a=l=>{l&&l.trigger()};if(Ao(),e==="clear")o.forEach(a);else{const l=ee(t),u=l&&To(n);if(l&&n==="length"){const c=Number(i);o.forEach((h,f)=>{(f==="length"||f===bi||!Qn(f)&&f>=c)&&a(h)})}else switch(n!==void 0&&a(o.get(n)),u&&a(o.get(bi)),e){case"add":l?u&&a(o.get("length")):(a(o.get(pn)),pi(t)&&a(o.get(qr)));break;case"delete":l||(a(o.get(pn)),pi(t)&&a(o.get(qr)));break;case"set":pi(t)&&a(o.get(pn));break}}So()}function Tn(t){const e=_e(t);return e===t?e:(Ve(e,"iterate",bi),wt(t)?e:e.map(Be))}function Lo(t){return Ve(t=_e(t),"iterate",bi),t}const nf={__proto__:null,[Symbol.iterator](){return wr(this,Symbol.iterator,Be)},concat(...t){return Tn(this).concat(...t.map(e=>ee(e)?Tn(e):e))},entries(){return wr(this,"entries",t=>(t[1]=Be(t[1]),t))},every(t,e){return Dt(this,"every",t,e,void 0,arguments)},filter(t,e){return Dt(this,"filter",t,e,n=>n.map(Be),arguments)},find(t,e){return Dt(this,"find",t,e,Be,arguments)},findIndex(t,e){return Dt(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Dt(this,"findLast",t,e,Be,arguments)},findLastIndex(t,e){return Dt(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Dt(this,"forEach",t,e,void 0,arguments)},includes(...t){return Rr(this,"includes",t)},indexOf(...t){return Rr(this,"indexOf",t)},join(t){return Tn(this).join(t)},lastIndexOf(...t){return Rr(this,"lastIndexOf",t)},map(t,e){return Dt(this,"map",t,e,void 0,arguments)},pop(){return ii(this,"pop")},push(...t){return ii(this,"push",t)},reduce(t,...e){return La(this,"reduce",t,e)},reduceRight(t,...e){return La(this,"reduceRight",t,e)},shift(){return ii(this,"shift")},some(t,e){return Dt(this,"some",t,e,void 0,arguments)},splice(...t){return ii(this,"splice",t)},toReversed(){return Tn(this).toReversed()},toSorted(t){return Tn(this).toSorted(t)},toSpliced(...t){return Tn(this).toSpliced(...t)},unshift(...t){return ii(this,"unshift",t)},values(){return wr(this,"values",Be)}};function wr(t,e,n){const i=Lo(t),s=i[e]();return i!==t&&!wt(t)&&(s._next=s.next,s.next=()=>{const r=s._next();return r.value&&(r.value=n(r.value)),r}),s}const sf=Array.prototype;function Dt(t,e,n,i,s,r){const o=Lo(t),a=o!==t&&!wt(t),l=o[e];if(l!==sf[e]){const h=l.apply(t,r);return a?Be(h):h}let u=n;o!==t&&(a?u=function(h,f){return n.call(this,Be(h),f,t)}:n.length>2&&(u=function(h,f){return n.call(this,h,f,t)}));const c=l.call(o,u,i);return a&&s?s(c):c}function La(t,e,n,i){const s=Lo(t);let r=n;return s!==t&&(wt(t)?n.length>3&&(r=function(o,a,l){return n.call(this,o,a,l,t)}):r=function(o,a,l){return n.call(this,o,Be(a),l,t)}),s[e](r,...i)}function Rr(t,e,n){const i=_e(t);Ve(i,"iterate",bi);const s=i[e](...n);return(s===-1||s===!1)&&No(n[0])?(n[0]=_e(n[0]),i[e](...n)):s}function ii(t,e,n=[]){an(),Ao();const i=_e(t)[e].apply(t,n);return So(),ln(),i}const rf=Ro("__proto__,__v_isRef,__isVue"),Pc=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Qn));function of(t){Qn(t)||(t=String(t));const e=_e(this);return Ve(e,"has",t),e.hasOwnProperty(t)}class Lc{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){const s=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return r;if(n==="__v_raw")return i===(s?r?Ef:Nc:r?Fc:Dc).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=ee(e);if(!s){let l;if(o&&(l=nf[n]))return l;if(n==="hasOwnProperty")return of}const a=Reflect.get(e,n,Ke(e)?e:i);return(Qn(n)?Pc.has(n):rf(n))||(s||Ve(e,"get",n),r)?a:Ke(a)?o&&To(n)?a:a.value:Pe(a)?s?zc(a):Ws(a):a}}class Oc extends Lc{constructor(e=!1){super(!1,e)}set(e,n,i,s){let r=e[n];if(!this._isShallow){const l=En(r);if(!wt(i)&&!En(i)&&(r=_e(r),i=_e(i)),!ee(e)&&Ke(r)&&!Ke(i))return l?!1:(r.value=i,!0)}const o=ee(e)&&To(n)?Number(n)<e.length:de(e,n),a=Reflect.set(e,n,i,Ke(e)?e:s);return e===_e(s)&&(o?rn(i,r)&&jt(e,"set",n,i):jt(e,"add",n,i)),a}deleteProperty(e,n){const i=de(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&i&&jt(e,"delete",n,void 0),s}has(e,n){const i=Reflect.has(e,n);return(!Qn(n)||!Pc.has(n))&&Ve(e,"has",n),i}ownKeys(e){return Ve(e,"iterate",ee(e)?"length":pn),Reflect.ownKeys(e)}}class af extends Lc{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const lf=new Oc,cf=new af,uf=new Oc(!0);const Oo=t=>t,Ys=t=>Reflect.getPrototypeOf(t);function ns(t,e,n=!1,i=!1){t=t.__v_raw;const s=_e(t),r=_e(e);n||(rn(e,r)&&Ve(s,"get",e),Ve(s,"get",r));const{has:o}=Ys(s),a=i?Oo:n?ko:Be;if(o.call(s,e))return a(t.get(e));if(o.call(s,r))return a(t.get(r));t!==s&&t.get(e)}function is(t,e=!1){const n=this.__v_raw,i=_e(n),s=_e(t);return e||(rn(t,s)&&Ve(i,"has",t),Ve(i,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function ss(t,e=!1){return t=t.__v_raw,!e&&Ve(_e(t),"iterate",pn),Reflect.get(t,"size",t)}function Oa(t,e=!1){!e&&!wt(t)&&!En(t)&&(t=_e(t));const n=_e(this);return Ys(n).has.call(n,t)||(n.add(t),jt(n,"add",t,t)),this}function Da(t,e,n=!1){!n&&!wt(e)&&!En(e)&&(e=_e(e));const i=_e(this),{has:s,get:r}=Ys(i);let o=s.call(i,t);o||(t=_e(t),o=s.call(i,t));const a=r.call(i,t);return i.set(t,e),o?rn(e,a)&&jt(i,"set",t,e):jt(i,"add",t,e),this}function Fa(t){const e=_e(this),{has:n,get:i}=Ys(e);let s=n.call(e,t);s||(t=_e(t),s=n.call(e,t)),i&&i.call(e,t);const r=e.delete(t);return s&&jt(e,"delete",t,void 0),r}function Na(){const t=_e(this),e=t.size!==0,n=t.clear();return e&&jt(t,"clear",void 0,void 0),n}function rs(t,e){return function(i,s){const r=this,o=r.__v_raw,a=_e(o),l=e?Oo:t?ko:Be;return!t&&Ve(a,"iterate",pn),o.forEach((u,c)=>i.call(s,l(u),l(c),r))}}function os(t,e,n){return function(...i){const s=this.__v_raw,r=_e(s),o=pi(r),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,u=s[t](...i),c=n?Oo:e?ko:Be;return!e&&Ve(r,"iterate",l?qr:pn),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:a?[c(h[0]),c(h[1])]:c(h),done:f}},[Symbol.iterator](){return this}}}}function Zt(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function hf(){const t={get(r){return ns(this,r)},get size(){return ss(this)},has:is,add:Oa,set:Da,delete:Fa,clear:Na,forEach:rs(!1,!1)},e={get(r){return ns(this,r,!1,!0)},get size(){return ss(this)},has:is,add(r){return Oa.call(this,r,!0)},set(r,o){return Da.call(this,r,o,!0)},delete:Fa,clear:Na,forEach:rs(!1,!0)},n={get(r){return ns(this,r,!0)},get size(){return ss(this,!0)},has(r){return is.call(this,r,!0)},add:Zt("add"),set:Zt("set"),delete:Zt("delete"),clear:Zt("clear"),forEach:rs(!0,!1)},i={get(r){return ns(this,r,!0,!0)},get size(){return ss(this,!0)},has(r){return is.call(this,r,!0)},add:Zt("add"),set:Zt("set"),delete:Zt("delete"),clear:Zt("clear"),forEach:rs(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=os(r,!1,!1),n[r]=os(r,!0,!1),e[r]=os(r,!1,!0),i[r]=os(r,!0,!0)}),[t,n,e,i]}const[ff,df,gf,_f]=hf();function Do(t,e){const n=e?t?_f:gf:t?df:ff;return(i,s,r)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(de(n,s)&&s in i?n:i,s,r)}const mf={get:Do(!1,!1)},pf={get:Do(!1,!0)},yf={get:Do(!0,!1)};const Dc=new WeakMap,Fc=new WeakMap,Nc=new WeakMap,Ef=new WeakMap;function vf(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function wf(t){return t.__v_skip||!Object.isExtensible(t)?0:vf(jh(t))}function Ws(t){return En(t)?t:Fo(t,!1,lf,mf,Dc)}function kc(t){return Fo(t,!1,uf,pf,Fc)}function zc(t){return Fo(t,!0,cf,yf,Nc)}function Fo(t,e,n,i,s){if(!Pe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=s.get(t);if(r)return r;const o=wf(t);if(o===0)return t;const a=new Proxy(t,o===2?i:n);return s.set(t,a),a}function Ei(t){return En(t)?Ei(t.__v_raw):!!(t&&t.__v_isReactive)}function En(t){return!!(t&&t.__v_isReadonly)}function wt(t){return!!(t&&t.__v_isShallow)}function No(t){return t?!!t.__v_raw:!1}function _e(t){const e=t&&t.__v_raw;return e?_e(e):t}function Gc(t){return!de(t,"__v_skip")&&Object.isExtensible(t)&&Ec(t,"__v_skip",!0),t}const Be=t=>Pe(t)?Ws(t):t,ko=t=>Pe(t)?zc(t):t;function Ke(t){return t?t.__v_isRef===!0:!1}function zo(t){return Xc(t,!1)}function Rf(t){return Xc(t,!0)}function Xc(t,e){return Ke(t)?t:new Cf(t,e)}class Cf{constructor(e,n){this.dep=new Po,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:_e(e),this._value=n?e:Be(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,i=this.__v_isShallow||wt(e)||En(e);e=i?e:_e(e),rn(e,n)&&(this._rawValue=e,this._value=i?e:Be(e),this.dep.trigger())}}function Kn(t){return Ke(t)?t.value:t}const xf={get:(t,e,n)=>e==="__v_raw"?t:Kn(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return Ke(s)&&!Ke(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function jc(t){return Ei(t)?t:new Proxy(t,xf)}class Tf{constructor(e,n,i){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Po(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ti-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&Te!==this)return Tc(this),!0}get value(){const e=this.dep.track();return Ac(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function bf(t,e,n=!1){let i,s;return Q(t)?i=t:(i=t.get,s=t.set),new Tf(i,s,n)}const as={},xs=new WeakMap;let gn;function If(t,e=!1,n=gn){if(n){let i=xs.get(n);i||xs.set(n,i=[]),i.push(t)}}function Af(t,e,n=be){const{immediate:i,deep:s,once:r,scheduler:o,augmentJob:a,call:l}=n,u=R=>s?R:wt(R)||s===!1||s===0?sn(R,1):sn(R);let c,h,f,d,_=!1,p=!1;if(Ke(t)?(h=()=>t.value,_=wt(t)):Ei(t)?(h=()=>u(t),_=!0):ee(t)?(p=!0,_=t.some(R=>Ei(R)||wt(R)),h=()=>t.map(R=>{if(Ke(R))return R.value;if(Ei(R))return u(R);if(Q(R))return l?l(R,2):R()})):Q(t)?e?h=l?()=>l(t,2):t:h=()=>{if(f){an();try{f()}finally{ln()}}const R=gn;gn=c;try{return l?l(t,3,[d]):t(d)}finally{gn=R}}:h=Lt,e&&s){const R=h,I=s===!0?1/0:s;h=()=>sn(R(),I)}const E=Qh(),v=()=>{c.stop(),E&&xo(E.effects,c)};if(r&&e){const R=e;e=(...I)=>{R(...I),v()}}let y=p?new Array(t.length).fill(as):as;const x=R=>{if(!(!(c.flags&1)||!c.dirty&&!R))if(e){const I=c.run();if(s||_||(p?I.some((K,P)=>rn(K,y[P])):rn(I,y))){f&&f();const K=gn;gn=c;try{const P=[I,y===as?void 0:p&&y[0]===as?[]:y,d];l?l(e,3,P):e(...P),y=I}finally{gn=K}}}else c.run()};return a&&a(x),c=new Cc(h),c.scheduler=o?()=>o(x,!1):x,d=R=>If(R,!1,c),f=c.onStop=()=>{const R=xs.get(c);if(R){if(l)l(R,4);else for(const I of R)I();xs.delete(c)}},e?i?x(!0):y=c.run():o?o(x.bind(null,!0),!0):c.run(),v.pause=c.pause.bind(c),v.resume=c.resume.bind(c),v.stop=v,v}function sn(t,e=1/0,n){if(e<=0||!Pe(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Ke(t))sn(t.value,e,n);else if(ee(t))for(let i=0;i<t.length;i++)sn(t[i],e,n);else if(Gh(t)||pi(t))t.forEach(i=>{sn(i,e,n)});else if(Kh(t)){for(const i in t)sn(t[i],e,n);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&sn(t[i],e,n)}return t}/**
* @vue/runtime-core v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Yi(t,e,n,i){try{return i?t(...i):t()}catch(s){Zs(s,e,n)}}function Ot(t,e,n,i){if(Q(t)){const s=Yi(t,e,n,i);return s&&yc(s)&&s.catch(r=>{Zs(r,e,n)}),s}if(ee(t)){const s=[];for(let r=0;r<t.length;r++)s.push(Ot(t[r],e,n,i));return s}}function Zs(t,e,n,i=!0){const s=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||be;if(e){let a=e.parent;const l=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,l,u)===!1)return}a=a.parent}if(r){an(),Yi(r,null,10,[t,l,u]),ln();return}}Sf(t,n,s,i,o)}function Sf(t,e,n,i=!0,s=!1){if(s)throw t;console.error(t)}let Ii=!1,Jr=!1;const He=[];let It=0;const Un=[];let Qt=null,Dn=0;const Kc=Promise.resolve();let Go=null;function Uc(t){const e=Go||Kc;return t?e.then(this?t.bind(this):t):e}function Mf(t){let e=Ii?It+1:0,n=He.length;for(;e<n;){const i=e+n>>>1,s=He[i],r=Ai(s);r<t||r===t&&s.flags&2?e=i+1:n=i}return e}function Xo(t){if(!(t.flags&1)){const e=Ai(t),n=He[He.length-1];!n||!(t.flags&2)&&e>=Ai(n)?He.push(t):He.splice(Mf(e),0,t),t.flags|=1,Vc()}}function Vc(){!Ii&&!Jr&&(Jr=!0,Go=Kc.then(Wc))}function Pf(t){ee(t)?Un.push(...t):Qt&&t.id===-1?Qt.splice(Dn+1,0,t):t.flags&1||(Un.push(t),t.flags|=1),Vc()}function ka(t,e,n=Ii?It+1:0){for(;n<He.length;n++){const i=He[n];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;He.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Yc(t){if(Un.length){const e=[...new Set(Un)].sort((n,i)=>Ai(n)-Ai(i));if(Un.length=0,Qt){Qt.push(...e);return}for(Qt=e,Dn=0;Dn<Qt.length;Dn++){const n=Qt[Dn];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Qt=null,Dn=0}}const Ai=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Wc(t){Jr=!1,Ii=!0;try{for(It=0;It<He.length;It++){const e=He[It];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Yi(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;It<He.length;It++){const e=He[It];e&&(e.flags&=-2)}It=0,He.length=0,Yc(),Ii=!1,Go=null,(He.length||Un.length)&&Wc()}}let yt=null,Zc=null;function Ts(t){const e=yt;return yt=t,Zc=t&&t.type.__scopeId||null,e}function Lf(t,e=yt,n){if(!e||t._n)return t;const i=(...s)=>{i._d&&Wa(-1);const r=Ts(e);let o;try{o=t(...s)}finally{Ts(r),i._d&&Wa(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function un(t,e,n,i){const s=t.dirs,r=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];r&&(a.oldValue=r[o].value);let l=a.dir[i];l&&(an(),Ot(l,n,8,[t.el,a,t,e]),ln())}}const Of=Symbol("_vte"),Df=t=>t.__isTeleport;function jo(t,e){t.shapeFlag&6&&t.component?(t.transition=e,jo(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Wi(t,e){return Q(t)?ze({name:t.name},e,{setup:t}):t}function Bc(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Qr(t,e,n,i,s=!1){if(ee(t)){t.forEach((_,p)=>Qr(_,e&&(ee(e)?e[p]:e),n,i,s));return}if(vi(i)&&!s)return;const r=i.shapeFlag&4?Wo(i.component):i.el,o=s?null:r,{i:a,r:l}=t,u=e&&e.r,c=a.refs===be?a.refs={}:a.refs,h=a.setupState,f=_e(h),d=h===be?()=>!1:_=>de(f,_);if(u!=null&&u!==l&&(De(u)?(c[u]=null,d(u)&&(h[u]=null)):Ke(u)&&(u.value=null)),Q(l))Yi(l,a,12,[o,c]);else{const _=De(l),p=Ke(l);if(_||p){const E=()=>{if(t.f){const v=_?d(l)?h[l]:c[l]:l.value;s?ee(v)&&xo(v,r):ee(v)?v.includes(r)||v.push(r):_?(c[l]=[r],d(l)&&(h[l]=c[l])):(l.value=[r],t.k&&(c[t.k]=l.value))}else _?(c[l]=o,d(l)&&(h[l]=o)):p&&(l.value=o,t.k&&(c[t.k]=o))};o?(E.id=-1,rt(E,n)):E()}}}const vi=t=>!!t.type.__asyncLoader,Hc=t=>t.type.__isKeepAlive;function Ff(t,e){$c(t,"a",e)}function Nf(t,e){$c(t,"da",e)}function $c(t,e,n=je){const i=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Bs(e,i,n),n){let s=n.parent;for(;s&&s.parent;)Hc(s.parent.vnode)&&kf(i,e,n,s),s=s.parent}}function kf(t,e,n,i){const s=Bs(e,t,i,!0);qc(()=>{xo(i[e],s)},n)}function Bs(t,e,n=je,i=!1){if(n){const s=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{an();const a=Zi(n),l=Ot(e,n,t,o);return a(),ln(),l});return i?s.unshift(r):s.push(r),r}}const Vt=t=>(e,n=je)=>{(!qs||t==="sp")&&Bs(t,(...i)=>e(...i),n)},zf=Vt("bm"),Ko=Vt("m"),Gf=Vt("bu"),Xf=Vt("u"),jf=Vt("bum"),qc=Vt("um"),Kf=Vt("sp"),Uf=Vt("rtg"),Vf=Vt("rtc");function Yf(t,e=je){Bs("ec",t,e)}const Wf="components";function Zf(t,e){return Hf(Wf,t,!0,e)||t}const Bf=Symbol.for("v-ndc");function Hf(t,e,n=!0,i=!1){const s=yt||je;if(s){const r=s.type;{const a=Nd(r,!1);if(a&&(a===e||a===dt(e)||a===Vs(dt(e))))return r}const o=za(s[t]||r[t],e)||za(s.appContext[t],e);return!o&&i?r:o}}function za(t,e){return t&&(t[e]||t[dt(e)]||t[Vs(dt(e))])}const eo=t=>t?Eu(t)?Wo(t):eo(t.parent):null,wi=ze(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>eo(t.parent),$root:t=>eo(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Uo(t),$forceUpdate:t=>t.f||(t.f=()=>{Xo(t.update)}),$nextTick:t=>t.n||(t.n=Uc.bind(t.proxy)),$watch:t=>md.bind(t)}),Cr=(t,e)=>t!==be&&!t.__isScriptSetup&&de(t,e),$f={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:s,props:r,accessCache:o,type:a,appContext:l}=t;let u;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 1:return i[e];case 2:return s[e];case 4:return n[e];case 3:return r[e]}else{if(Cr(i,e))return o[e]=1,i[e];if(s!==be&&de(s,e))return o[e]=2,s[e];if((u=t.propsOptions[0])&&de(u,e))return o[e]=3,r[e];if(n!==be&&de(n,e))return o[e]=4,n[e];to&&(o[e]=0)}}const c=wi[e];let h,f;if(c)return e==="$attrs"&&Ve(t.attrs,"get",""),c(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==be&&de(n,e))return o[e]=4,n[e];if(f=l.config.globalProperties,de(f,e))return f[e]},set({_:t},e,n){const{data:i,setupState:s,ctx:r}=t;return Cr(s,e)?(s[e]=n,!0):i!==be&&de(i,e)?(i[e]=n,!0):de(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:r}},o){let a;return!!n[o]||t!==be&&de(t,o)||Cr(e,o)||(a=r[0])&&de(a,o)||de(i,o)||de(wi,o)||de(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:de(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Ga(t){return ee(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let to=!0;function qf(t){const e=Uo(t),n=t.proxy,i=t.ctx;to=!1,e.beforeCreate&&Xa(e.beforeCreate,t,"bc");const{data:s,computed:r,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:f,beforeUpdate:d,updated:_,activated:p,deactivated:E,beforeDestroy:v,beforeUnmount:y,destroyed:x,unmounted:R,render:I,renderTracked:K,renderTriggered:P,errorCaptured:D,serverPrefetch:U,expose:se,inheritAttrs:le,components:ce,directives:te,filters:B}=e;if(u&&Jf(u,i,null),o)for(const H in o){const $=o[H];Q($)&&(i[H]=$.bind(n))}if(s){const H=s.call(n,n);Pe(H)&&(t.data=Ws(H))}if(to=!0,r)for(const H in r){const $=r[H],Me=Q($)?$.bind(n,n):Q($.get)?$.get.bind(n,n):Lt,me=!Q($)&&Q($.set)?$.set.bind(n):Lt,ue=mt({get:Me,set:me});Object.defineProperty(i,H,{enumerable:!0,configurable:!0,get:()=>ue.value,set:he=>ue.value=he})}if(a)for(const H in a)Jc(a[H],i,n,H);if(l){const H=Q(l)?l.call(n):l;Reflect.ownKeys(H).forEach($=>{ys($,H[$])})}c&&Xa(c,t,"c");function Y(H,$){ee($)?$.forEach(Me=>H(Me.bind(n))):$&&H($.bind(n))}if(Y(zf,h),Y(Ko,f),Y(Gf,d),Y(Xf,_),Y(Ff,p),Y(Nf,E),Y(Yf,D),Y(Vf,K),Y(Uf,P),Y(jf,y),Y(qc,R),Y(Kf,U),ee(se))if(se.length){const H=t.exposed||(t.exposed={});se.forEach($=>{Object.defineProperty(H,$,{get:()=>n[$],set:Me=>n[$]=Me})})}else t.exposed||(t.exposed={});I&&t.render===Lt&&(t.render=I),le!=null&&(t.inheritAttrs=le),ce&&(t.components=ce),te&&(t.directives=te),U&&Bc(t)}function Jf(t,e,n=Lt){ee(t)&&(t=no(t));for(const i in t){const s=t[i];let r;Pe(s)?"default"in s?r=Kt(s.from||i,s.default,!0):r=Kt(s.from||i):r=Kt(s),Ke(r)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[i]=r}}function Xa(t,e,n){Ot(ee(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function Jc(t,e,n,i){let s=i.includes(".")?fu(n,i):()=>n[i];if(De(t)){const r=e[t];Q(r)&&Es(s,r)}else if(Q(t))Es(s,t.bind(n));else if(Pe(t))if(ee(t))t.forEach(r=>Jc(r,e,n,i));else{const r=Q(t.handler)?t.handler.bind(n):e[t.handler];Q(r)&&Es(s,r,t)}}function Uo(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,a=r.get(e);let l;return a?l=a:!s.length&&!n&&!i?l=e:(l={},s.length&&s.forEach(u=>bs(l,u,o,!0)),bs(l,e,o)),Pe(e)&&r.set(e,l),l}function bs(t,e,n,i=!1){const{mixins:s,extends:r}=e;r&&bs(t,r,n,!0),s&&s.forEach(o=>bs(t,o,n,!0));for(const o in e)if(!(i&&o==="expose")){const a=Qf[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Qf={data:ja,props:Ka,emits:Ka,methods:ui,computed:ui,beforeCreate:Ze,created:Ze,beforeMount:Ze,mounted:Ze,beforeUpdate:Ze,updated:Ze,beforeDestroy:Ze,beforeUnmount:Ze,destroyed:Ze,unmounted:Ze,activated:Ze,deactivated:Ze,errorCaptured:Ze,serverPrefetch:Ze,components:ui,directives:ui,watch:td,provide:ja,inject:ed};function ja(t,e){return e?t?function(){return ze(Q(t)?t.call(this,this):t,Q(e)?e.call(this,this):e)}:e:t}function ed(t,e){return ui(no(t),no(e))}function no(t){if(ee(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Ze(t,e){return t?[...new Set([].concat(t,e))]:e}function ui(t,e){return t?ze(Object.create(null),t,e):e}function Ka(t,e){return t?ee(t)&&ee(e)?[...new Set([...t,...e])]:ze(Object.create(null),Ga(t),Ga(e??{})):e}function td(t,e){if(!t)return e;if(!e)return t;const n=ze(Object.create(null),t);for(const i in e)n[i]=Ze(t[i],e[i]);return n}function Qc(){return{app:null,config:{isNativeTag:kh,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let nd=0;function id(t,e){return function(i,s=null){Q(i)||(i=ze({},i)),s!=null&&!Pe(s)&&(s=null);const r=Qc(),o=new WeakSet,a=[];let l=!1;const u=r.app={_uid:nd++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:zd,get config(){return r.config},set config(c){},use(c,...h){return o.has(c)||(c&&Q(c.install)?(o.add(c),c.install(u,...h)):Q(c)&&(o.add(c),c(u,...h))),u},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),u},component(c,h){return h?(r.components[c]=h,u):r.components[c]},directive(c,h){return h?(r.directives[c]=h,u):r.directives[c]},mount(c,h,f){if(!l){const d=u._ceVNode||ft(i,s);return d.appContext=r,f===!0?f="svg":f===!1&&(f=void 0),h&&e?e(d,c):t(d,c,f),l=!0,u._container=c,c.__vue_app__=u,Wo(d.component)}},onUnmount(c){a.push(c)},unmount(){l&&(Ot(a,u._instance,16),t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return r.provides[c]=h,u},runWithContext(c){const h=Vn;Vn=u;try{return c()}finally{Vn=h}}};return u}}let Vn=null;function ys(t,e){if(je){let n=je.provides;const i=je.parent&&je.parent.provides;i===n&&(n=je.provides=Object.create(i)),n[t]=e}}function Kt(t,e,n=!1){const i=je||yt;if(i||Vn){const s=Vn?Vn._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&Q(e)?e.call(i&&i.proxy):e}}const eu={},tu=()=>Object.create(eu),nu=t=>Object.getPrototypeOf(t)===eu;function sd(t,e,n,i=!1){const s={},r=tu();t.propsDefaults=Object.create(null),iu(t,e,s,r);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=i?s:kc(s):t.type.props?t.props=s:t.props=r,t.attrs=r}function rd(t,e,n,i){const{props:s,attrs:r,vnode:{patchFlag:o}}=t,a=_e(s),[l]=t.propsOptions;let u=!1;if((i||o>0)&&!(o&16)){if(o&8){const c=t.vnode.dynamicProps;for(let h=0;h<c.length;h++){let f=c[h];if(Hs(t.emitsOptions,f))continue;const d=e[f];if(l)if(de(r,f))d!==r[f]&&(r[f]=d,u=!0);else{const _=dt(f);s[_]=io(l,a,_,d,t,!1)}else d!==r[f]&&(r[f]=d,u=!0)}}}else{iu(t,e,s,r)&&(u=!0);let c;for(const h in a)(!e||!de(e,h)&&((c=wn(h))===h||!de(e,c)))&&(l?n&&(n[h]!==void 0||n[c]!==void 0)&&(s[h]=io(l,a,h,void 0,t,!0)):delete s[h]);if(r!==a)for(const h in r)(!e||!de(e,h))&&(delete r[h],u=!0)}u&&jt(t.attrs,"set","")}function iu(t,e,n,i){const[s,r]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(yi(l))continue;const u=e[l];let c;s&&de(s,c=dt(l))?!r||!r.includes(c)?n[c]=u:(a||(a={}))[c]=u:Hs(t.emitsOptions,l)||(!(l in i)||u!==i[l])&&(i[l]=u,o=!0)}if(r){const l=_e(n),u=a||be;for(let c=0;c<r.length;c++){const h=r[c];n[h]=io(s,l,h,u[h],t,!de(u,h))}}return o}function io(t,e,n,i,s,r){const o=t[n];if(o!=null){const a=de(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&Q(l)){const{propsDefaults:u}=s;if(n in u)i=u[n];else{const c=Zi(s);i=u[n]=l.call(null,e),c()}}else i=l;s.ce&&s.ce._setProp(n,i)}o[0]&&(r&&!a?i=!1:o[1]&&(i===""||i===wn(n))&&(i=!0))}return i}const od=new WeakMap;function su(t,e,n=!1){const i=n?od:e.propsCache,s=i.get(t);if(s)return s;const r=t.props,o={},a=[];let l=!1;if(!Q(t)){const c=h=>{l=!0;const[f,d]=su(h,e,!0);ze(o,f),d&&a.push(...d)};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}if(!r&&!l)return Pe(t)&&i.set(t,jn),jn;if(ee(r))for(let c=0;c<r.length;c++){const h=dt(r[c]);Ua(h)&&(o[h]=be)}else if(r)for(const c in r){const h=dt(c);if(Ua(h)){const f=r[c],d=o[h]=ee(f)||Q(f)?{type:f}:ze({},f),_=d.type;let p=!1,E=!0;if(ee(_))for(let v=0;v<_.length;++v){const y=_[v],x=Q(y)&&y.name;if(x==="Boolean"){p=!0;break}else x==="String"&&(E=!1)}else p=Q(_)&&_.name==="Boolean";d[0]=p,d[1]=E,(p||de(d,"default"))&&a.push(h)}}const u=[o,a];return Pe(t)&&i.set(t,u),u}function Ua(t){return t[0]!=="$"&&!yi(t)}const ru=t=>t[0]==="_"||t==="$stable",Vo=t=>ee(t)?t.map(At):[At(t)],ad=(t,e,n)=>{if(e._n)return e;const i=Lf((...s)=>Vo(e(...s)),n);return i._c=!1,i},ou=(t,e,n)=>{const i=t._ctx;for(const s in t){if(ru(s))continue;const r=t[s];if(Q(r))e[s]=ad(s,r,i);else if(r!=null){const o=Vo(r);e[s]=()=>o}}},au=(t,e)=>{const n=Vo(e);t.slots.default=()=>n},lu=(t,e,n)=>{for(const i in e)(n||i!=="_")&&(t[i]=e[i])},ld=(t,e,n)=>{const i=t.slots=tu();if(t.vnode.shapeFlag&32){const s=e._;s?(lu(i,e,n),n&&Ec(i,"_",s,!0)):ou(e,i)}else e&&au(t,e)},cd=(t,e,n)=>{const{vnode:i,slots:s}=t;let r=!0,o=be;if(i.shapeFlag&32){const a=e._;a?n&&a===1?r=!1:lu(s,e,n):(r=!e.$stable,ou(e,s)),o=e}else e&&(au(t,e),o={default:1});if(r)for(const a in s)!ru(a)&&o[a]==null&&delete s[a]},rt=Cd;function ud(t){return hd(t)}function hd(t,e){const n=vc();n.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:f,setScopeId:d=Lt,insertStaticContent:_}=t,p=(g,m,w,S=null,T=null,A=null,N=void 0,L=null,O=!!m.dynamicChildren)=>{if(g===m)return;g&&!si(g,m)&&(S=C(g),he(g,T,A,!0),g=null),m.patchFlag===-2&&(O=!1,m.dynamicChildren=null);const{type:M,ref:V,shapeFlag:z}=m;switch(M){case $s:E(g,m,w,S);break;case Si:v(g,m,w,S);break;case br:g==null&&y(m,w,S,N);break;case zt:ce(g,m,w,S,T,A,N,L,O);break;default:z&1?I(g,m,w,S,T,A,N,L,O):z&6?te(g,m,w,S,T,A,N,L,O):(z&64||z&128)&&M.process(g,m,w,S,T,A,N,L,O,j)}V!=null&&T&&Qr(V,g&&g.ref,A,m||g,!m)},E=(g,m,w,S)=>{if(g==null)i(m.el=a(m.children),w,S);else{const T=m.el=g.el;m.children!==g.children&&u(T,m.children)}},v=(g,m,w,S)=>{g==null?i(m.el=l(m.children||""),w,S):m.el=g.el},y=(g,m,w,S)=>{[g.el,g.anchor]=_(g.children,m,w,S,g.el,g.anchor)},x=({el:g,anchor:m},w,S)=>{let T;for(;g&&g!==m;)T=f(g),i(g,w,S),g=T;i(m,w,S)},R=({el:g,anchor:m})=>{let w;for(;g&&g!==m;)w=f(g),s(g),g=w;s(m)},I=(g,m,w,S,T,A,N,L,O)=>{m.type==="svg"?N="svg":m.type==="math"&&(N="mathml"),g==null?K(m,w,S,T,A,N,L,O):U(g,m,T,A,N,L,O)},K=(g,m,w,S,T,A,N,L)=>{let O,M;const{props:V,shapeFlag:z,transition:G,dirs:Z}=g;if(O=g.el=o(g.type,A,V&&V.is,V),z&8?c(O,g.children):z&16&&D(g.children,O,null,S,T,xr(g,A),N,L),Z&&un(g,null,S,"created"),P(O,g,g.scopeId,N,S),V){for(const xe in V)xe!=="value"&&!yi(xe)&&r(O,xe,null,V[xe],A,S);"value"in V&&r(O,"value",null,V.value,A),(M=V.onVnodeBeforeMount)&&bt(M,S,g)}Z&&un(g,null,S,"beforeMount");const re=fd(T,G);re&&G.beforeEnter(O),i(O,m,w),((M=V&&V.onVnodeMounted)||re||Z)&&rt(()=>{M&&bt(M,S,g),re&&G.enter(O),Z&&un(g,null,S,"mounted")},T)},P=(g,m,w,S,T)=>{if(w&&d(g,w),S)for(let A=0;A<S.length;A++)d(g,S[A]);if(T){let A=T.subTree;if(m===A||gu(A.type)&&(A.ssContent===m||A.ssFallback===m)){const N=T.vnode;P(g,N,N.scopeId,N.slotScopeIds,T.parent)}}},D=(g,m,w,S,T,A,N,L,O=0)=>{for(let M=O;M<g.length;M++){const V=g[M]=L?en(g[M]):At(g[M]);p(null,V,m,w,S,T,A,N,L)}},U=(g,m,w,S,T,A,N)=>{const L=m.el=g.el;let{patchFlag:O,dynamicChildren:M,dirs:V}=m;O|=g.patchFlag&16;const z=g.props||be,G=m.props||be;let Z;if(w&&hn(w,!1),(Z=G.onVnodeBeforeUpdate)&&bt(Z,w,m,g),V&&un(m,g,w,"beforeUpdate"),w&&hn(w,!0),(z.innerHTML&&G.innerHTML==null||z.textContent&&G.textContent==null)&&c(L,""),M?se(g.dynamicChildren,M,L,w,S,xr(m,T),A):N||$(g,m,L,null,w,S,xr(m,T),A,!1),O>0){if(O&16)le(L,z,G,w,T);else if(O&2&&z.class!==G.class&&r(L,"class",null,G.class,T),O&4&&r(L,"style",z.style,G.style,T),O&8){const re=m.dynamicProps;for(let xe=0;xe<re.length;xe++){const pe=re[xe],nt=z[pe],Ge=G[pe];(Ge!==nt||pe==="value")&&r(L,pe,nt,Ge,T,w)}}O&1&&g.children!==m.children&&c(L,m.children)}else!N&&M==null&&le(L,z,G,w,T);((Z=G.onVnodeUpdated)||V)&&rt(()=>{Z&&bt(Z,w,m,g),V&&un(m,g,w,"updated")},S)},se=(g,m,w,S,T,A,N)=>{for(let L=0;L<m.length;L++){const O=g[L],M=m[L],V=O.el&&(O.type===zt||!si(O,M)||O.shapeFlag&70)?h(O.el):w;p(O,M,V,null,S,T,A,N,!0)}},le=(g,m,w,S,T)=>{if(m!==w){if(m!==be)for(const A in m)!yi(A)&&!(A in w)&&r(g,A,m[A],null,T,S);for(const A in w){if(yi(A))continue;const N=w[A],L=m[A];N!==L&&A!=="value"&&r(g,A,L,N,T,S)}"value"in w&&r(g,"value",m.value,w.value,T)}},ce=(g,m,w,S,T,A,N,L,O)=>{const M=m.el=g?g.el:a(""),V=m.anchor=g?g.anchor:a("");let{patchFlag:z,dynamicChildren:G,slotScopeIds:Z}=m;Z&&(L=L?L.concat(Z):Z),g==null?(i(M,w,S),i(V,w,S),D(m.children||[],w,V,T,A,N,L,O)):z>0&&z&64&&G&&g.dynamicChildren?(se(g.dynamicChildren,G,w,T,A,N,L),(m.key!=null||T&&m===T.subTree)&&cu(g,m,!0)):$(g,m,w,V,T,A,N,L,O)},te=(g,m,w,S,T,A,N,L,O)=>{m.slotScopeIds=L,g==null?m.shapeFlag&512?T.ctx.activate(m,w,S,N,O):B(m,w,S,T,A,N,O):we(g,m,O)},B=(g,m,w,S,T,A,N)=>{const L=g.component=Pd(g,S,T);if(Hc(g)&&(L.ctx.renderer=j),Ld(L,!1,N),L.asyncDep){if(T&&T.registerDep(L,Y,N),!g.el){const O=L.subTree=ft(Si);v(null,O,m,w)}}else Y(L,g,m,w,T,A,N)},we=(g,m,w)=>{const S=m.component=g.component;if(wd(g,m,w))if(S.asyncDep&&!S.asyncResolved){H(S,m,w);return}else S.next=m,S.update();else m.el=g.el,S.vnode=m},Y=(g,m,w,S,T,A,N)=>{const L=()=>{if(g.isMounted){let{next:z,bu:G,u:Z,parent:re,vnode:xe}=g;{const it=uu(g);if(it){z&&(z.el=xe.el,H(g,z,N)),it.asyncDep.then(()=>{g.isUnmounted||L()});return}}let pe=z,nt;hn(g,!1),z?(z.el=xe.el,H(g,z,N)):z=xe,G&&Er(G),(nt=z.props&&z.props.onVnodeBeforeUpdate)&&bt(nt,re,z,xe),hn(g,!0);const Ge=Tr(g),gt=g.subTree;g.subTree=Ge,p(gt,Ge,h(gt.el),C(gt),g,T,A),z.el=Ge.el,pe===null&&Rd(g,Ge.el),Z&&rt(Z,T),(nt=z.props&&z.props.onVnodeUpdated)&&rt(()=>bt(nt,re,z,xe),T)}else{let z;const{el:G,props:Z}=m,{bm:re,m:xe,parent:pe,root:nt,type:Ge}=g,gt=vi(m);if(hn(g,!1),re&&Er(re),!gt&&(z=Z&&Z.onVnodeBeforeMount)&&bt(z,pe,m),hn(g,!0),G&&Ce){const it=()=>{g.subTree=Tr(g),Ce(G,g.subTree,g,T,null)};gt&&Ge.__asyncHydrate?Ge.__asyncHydrate(G,g,it):it()}else{nt.ce&&nt.ce._injectChildStyle(Ge);const it=g.subTree=Tr(g);p(null,it,w,S,g,T,A),m.el=it.el}if(xe&&rt(xe,T),!gt&&(z=Z&&Z.onVnodeMounted)){const it=m;rt(()=>bt(z,pe,it),T)}(m.shapeFlag&256||pe&&vi(pe.vnode)&&pe.vnode.shapeFlag&256)&&g.a&&rt(g.a,T),g.isMounted=!0,m=w=S=null}};g.scope.on();const O=g.effect=new Cc(L);g.scope.off();const M=g.update=O.run.bind(O),V=g.job=O.runIfDirty.bind(O);V.i=g,V.id=g.uid,O.scheduler=()=>Xo(V),hn(g,!0),M()},H=(g,m,w)=>{m.component=g;const S=g.vnode.props;g.vnode=m,g.next=null,rd(g,m.props,S,w),cd(g,m.children,w),an(),ka(g),ln()},$=(g,m,w,S,T,A,N,L,O=!1)=>{const M=g&&g.children,V=g?g.shapeFlag:0,z=m.children,{patchFlag:G,shapeFlag:Z}=m;if(G>0){if(G&128){me(M,z,w,S,T,A,N,L,O);return}else if(G&256){Me(M,z,w,S,T,A,N,L,O);return}}Z&8?(V&16&&Re(M,T,A),z!==M&&c(w,z)):V&16?Z&16?me(M,z,w,S,T,A,N,L,O):Re(M,T,A,!0):(V&8&&c(w,""),Z&16&&D(z,w,S,T,A,N,L,O))},Me=(g,m,w,S,T,A,N,L,O)=>{g=g||jn,m=m||jn;const M=g.length,V=m.length,z=Math.min(M,V);let G;for(G=0;G<z;G++){const Z=m[G]=O?en(m[G]):At(m[G]);p(g[G],Z,w,null,T,A,N,L,O)}M>V?Re(g,T,A,!0,!1,z):D(m,w,S,T,A,N,L,O,z)},me=(g,m,w,S,T,A,N,L,O)=>{let M=0;const V=m.length;let z=g.length-1,G=V-1;for(;M<=z&&M<=G;){const Z=g[M],re=m[M]=O?en(m[M]):At(m[M]);if(si(Z,re))p(Z,re,w,null,T,A,N,L,O);else break;M++}for(;M<=z&&M<=G;){const Z=g[z],re=m[G]=O?en(m[G]):At(m[G]);if(si(Z,re))p(Z,re,w,null,T,A,N,L,O);else break;z--,G--}if(M>z){if(M<=G){const Z=G+1,re=Z<V?m[Z].el:S;for(;M<=G;)p(null,m[M]=O?en(m[M]):At(m[M]),w,re,T,A,N,L,O),M++}}else if(M>G)for(;M<=z;)he(g[M],T,A,!0),M++;else{const Z=M,re=M,xe=new Map;for(M=re;M<=G;M++){const st=m[M]=O?en(m[M]):At(m[M]);st.key!=null&&xe.set(st.key,M)}let pe,nt=0;const Ge=G-re+1;let gt=!1,it=0;const ni=new Array(Ge);for(M=0;M<Ge;M++)ni[M]=0;for(M=Z;M<=z;M++){const st=g[M];if(nt>=Ge){he(st,T,A,!0);continue}let Tt;if(st.key!=null)Tt=xe.get(st.key);else for(pe=re;pe<=G;pe++)if(ni[pe-re]===0&&si(st,m[pe])){Tt=pe;break}Tt===void 0?he(st,T,A,!0):(ni[Tt-re]=M+1,Tt>=it?it=Tt:gt=!0,p(st,m[Tt],w,null,T,A,N,L,O),nt++)}const Ia=gt?dd(ni):jn;for(pe=Ia.length-1,M=Ge-1;M>=0;M--){const st=re+M,Tt=m[st],Aa=st+1<V?m[st+1].el:S;ni[M]===0?p(null,Tt,w,Aa,T,A,N,L,O):gt&&(pe<0||M!==Ia[pe]?ue(Tt,w,Aa,2):pe--)}}},ue=(g,m,w,S,T=null)=>{const{el:A,type:N,transition:L,children:O,shapeFlag:M}=g;if(M&6){ue(g.component.subTree,m,w,S);return}if(M&128){g.suspense.move(m,w,S);return}if(M&64){N.move(g,m,w,j);return}if(N===zt){i(A,m,w);for(let z=0;z<O.length;z++)ue(O[z],m,w,S);i(g.anchor,m,w);return}if(N===br){x(g,m,w);return}if(S!==2&&M&1&&L)if(S===0)L.beforeEnter(A),i(A,m,w),rt(()=>L.enter(A),T);else{const{leave:z,delayLeave:G,afterLeave:Z}=L,re=()=>i(A,m,w),xe=()=>{z(A,()=>{re(),Z&&Z()})};G?G(A,re,xe):xe()}else i(A,m,w)},he=(g,m,w,S=!1,T=!1)=>{const{type:A,props:N,ref:L,children:O,dynamicChildren:M,shapeFlag:V,patchFlag:z,dirs:G,cacheIndex:Z}=g;if(z===-2&&(T=!1),L!=null&&Qr(L,null,w,g,!0),Z!=null&&(m.renderCache[Z]=void 0),V&256){m.ctx.deactivate(g);return}const re=V&1&&G,xe=!vi(g);let pe;if(xe&&(pe=N&&N.onVnodeBeforeUnmount)&&bt(pe,m,g),V&6)We(g.component,w,S);else{if(V&128){g.suspense.unmount(w,S);return}re&&un(g,null,m,"beforeUnmount"),V&64?g.type.remove(g,m,w,j,S):M&&!M.hasOnce&&(A!==zt||z>0&&z&64)?Re(M,m,w,!1,!0):(A===zt&&z&384||!T&&V&16)&&Re(O,m,w),S&&Ye(g)}(xe&&(pe=N&&N.onVnodeUnmounted)||re)&&rt(()=>{pe&&bt(pe,m,g),re&&un(g,null,m,"unmounted")},w)},Ye=g=>{const{type:m,el:w,anchor:S,transition:T}=g;if(m===zt){Je(w,S);return}if(m===br){R(g);return}const A=()=>{s(w),T&&!T.persisted&&T.afterLeave&&T.afterLeave()};if(g.shapeFlag&1&&T&&!T.persisted){const{leave:N,delayLeave:L}=T,O=()=>N(w,A);L?L(g.el,A,O):O()}else A()},Je=(g,m)=>{let w;for(;g!==m;)w=f(g),s(g),g=w;s(m)},We=(g,m,w)=>{const{bum:S,scope:T,job:A,subTree:N,um:L,m:O,a:M}=g;Va(O),Va(M),S&&Er(S),T.stop(),A&&(A.flags|=8,he(N,g,m,w)),L&&rt(L,m),rt(()=>{g.isUnmounted=!0},m),m&&m.pendingBranch&&!m.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===m.pendingId&&(m.deps--,m.deps===0&&m.resolve())},Re=(g,m,w,S=!1,T=!1,A=0)=>{for(let N=A;N<g.length;N++)he(g[N],m,w,S,T)},C=g=>{if(g.shapeFlag&6)return C(g.component.subTree);if(g.shapeFlag&128)return g.suspense.next();const m=f(g.anchor||g.el),w=m&&m[Of];return w?f(w):m};let k=!1;const F=(g,m,w)=>{g==null?m._vnode&&he(m._vnode,null,null,!0):p(m._vnode||null,g,m,null,null,null,w),m._vnode=g,k||(k=!0,ka(),Yc(),k=!1)},j={p,um:he,m:ue,r:Ye,mt:B,mc:D,pc:$,pbc:se,n:C,o:t};let ne,Ce;return{render:F,hydrate:ne,createApp:id(F,ne)}}function xr({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function hn({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function fd(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function cu(t,e,n=!1){const i=t.children,s=e.children;if(ee(i)&&ee(s))for(let r=0;r<i.length;r++){const o=i[r];let a=s[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[r]=en(s[r]),a.el=o.el),!n&&a.patchFlag!==-2&&cu(o,a)),a.type===$s&&(a.el=o.el)}}function dd(t){const e=t.slice(),n=[0];let i,s,r,o,a;const l=t.length;for(i=0;i<l;i++){const u=t[i];if(u!==0){if(s=n[n.length-1],t[s]<u){e[i]=s,n.push(i);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,t[n[a]]<u?r=a+1:o=a;u<t[n[r]]&&(r>0&&(e[i]=n[r-1]),n[r]=i)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}function uu(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:uu(e)}function Va(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const gd=Symbol.for("v-scx"),_d=()=>Kt(gd);function Es(t,e,n){return hu(t,e,n)}function hu(t,e,n=be){const{immediate:i,deep:s,flush:r,once:o}=n,a=ze({},n);let l;if(qs)if(r==="sync"){const f=_d();l=f.__watcherHandles||(f.__watcherHandles=[])}else if(!e||i)a.once=!0;else{const f=()=>{};return f.stop=Lt,f.resume=Lt,f.pause=Lt,f}const u=je;a.call=(f,d,_)=>Ot(f,u,d,_);let c=!1;r==="post"?a.scheduler=f=>{rt(f,u&&u.suspense)}:r!=="sync"&&(c=!0,a.scheduler=(f,d)=>{d?f():Xo(f)}),a.augmentJob=f=>{e&&(f.flags|=4),c&&(f.flags|=2,u&&(f.id=u.uid,f.i=u))};const h=Af(t,e,a);return l&&l.push(h),h}function md(t,e,n){const i=this.proxy,s=De(t)?t.includes(".")?fu(i,t):()=>i[t]:t.bind(i,i);let r;Q(e)?r=e:(r=e.handler,n=e);const o=Zi(this),a=hu(s,r.bind(i),n);return o(),a}function fu(t,e){const n=e.split(".");return()=>{let i=t;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}const pd=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${dt(e)}Modifiers`]||t[`${wn(e)}Modifiers`];function yd(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||be;let s=n;const r=e.startsWith("update:"),o=r&&pd(i,e.slice(7));o&&(o.trim&&(s=n.map(c=>De(c)?c.trim():c)),o.number&&(s=n.map(Yh)));let a,l=i[a=yr(e)]||i[a=yr(dt(e))];!l&&r&&(l=i[a=yr(wn(e))]),l&&Ot(l,t,6,s);const u=i[a+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ot(u,t,6,s)}}function du(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const r=t.emits;let o={},a=!1;if(!Q(t)){const l=u=>{const c=du(u,e,!0);c&&(a=!0,ze(o,c))};!n&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!r&&!a?(Pe(t)&&i.set(t,null),null):(ee(r)?r.forEach(l=>o[l]=null):ze(o,r),Pe(t)&&i.set(t,o),o)}function Hs(t,e){return!t||!js(e)?!1:(e=e.slice(2).replace(/Once$/,""),de(t,e[0].toLowerCase()+e.slice(1))||de(t,wn(e))||de(t,e))}function Tr(t){const{type:e,vnode:n,proxy:i,withProxy:s,propsOptions:[r],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:f,setupState:d,ctx:_,inheritAttrs:p}=t,E=Ts(t);let v,y;try{if(n.shapeFlag&4){const R=s||i,I=R;v=At(u.call(I,R,c,h,d,f,_)),y=a}else{const R=e;v=At(R.length>1?R(h,{attrs:a,slots:o,emit:l}):R(h,null)),y=e.props?a:Ed(a)}}catch(R){Ri.length=0,Zs(R,t,1),v=ft(Si)}let x=v;if(y&&p!==!1){const R=Object.keys(y),{shapeFlag:I}=x;R.length&&I&7&&(r&&R.some(Co)&&(y=vd(y,r)),x=Hn(x,y,!1,!0))}return n.dirs&&(x=Hn(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&jo(x,n.transition),v=x,Ts(E),v}const Ed=t=>{let e;for(const n in t)(n==="class"||n==="style"||js(n))&&((e||(e={}))[n]=t[n]);return e},vd=(t,e)=>{const n={};for(const i in t)(!Co(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function wd(t,e,n){const{props:i,children:s,component:r}=t,{props:o,children:a,patchFlag:l}=e,u=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?Ya(i,o,u):!!o;if(l&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const f=c[h];if(o[f]!==i[f]&&!Hs(u,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?Ya(i,o,u):!0:!!o;return!1}function Ya(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(e[r]!==t[r]&&!Hs(n,r))return!0}return!1}function Rd({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const gu=t=>t.__isSuspense;function Cd(t,e){e&&e.pendingBranch?ee(t)?e.effects.push(...t):e.effects.push(t):Pf(t)}const zt=Symbol.for("v-fgt"),$s=Symbol.for("v-txt"),Si=Symbol.for("v-cmt"),br=Symbol.for("v-stc"),Ri=[];let lt=null;function Mi(t=!1){Ri.push(lt=t?null:[])}function xd(){Ri.pop(),lt=Ri[Ri.length-1]||null}let Pi=1;function Wa(t){Pi+=t,t<0&&lt&&(lt.hasOnce=!0)}function _u(t){return t.dynamicChildren=Pi>0?lt||jn:null,xd(),Pi>0&&lt&&lt.push(t),t}function mu(t,e,n,i,s,r){return _u(yu(t,e,n,i,s,r,!0))}function so(t,e,n,i,s){return _u(ft(t,e,n,i,s,!0))}function Is(t){return t?t.__v_isVNode===!0:!1}function si(t,e){return t.type===e.type&&t.key===e.key}const pu=({key:t})=>t??null,vs=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?De(t)||Ke(t)||Q(t)?{i:yt,r:t,k:e,f:!!n}:t:null);function yu(t,e=null,n=null,i=0,s=null,r=t===zt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&pu(e),ref:e&&vs(e),scopeId:Zc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:yt};return a?(Yo(l,n),r&128&&t.normalize(l)):n&&(l.shapeFlag|=De(n)?8:16),Pi>0&&!o&&lt&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&lt.push(l),l}const ft=Td;function Td(t,e=null,n=null,i=0,s=null,r=!1){if((!t||t===Bf)&&(t=Si),Is(t)){const a=Hn(t,e,!0);return n&&Yo(a,n),Pi>0&&!r&&lt&&(a.shapeFlag&6?lt[lt.indexOf(t)]=a:lt.push(a)),a.patchFlag=-2,a}if(kd(t)&&(t=t.__vccOpts),e){e=bd(e);let{class:a,style:l}=e;a&&!De(a)&&(e.class=Io(a)),Pe(l)&&(No(l)&&!ee(l)&&(l=ze({},l)),e.style=bo(l))}const o=De(t)?1:gu(t)?128:Df(t)?64:Pe(t)?4:Q(t)?2:0;return yu(t,e,n,i,s,o,r,!0)}function bd(t){return t?No(t)||nu(t)?ze({},t):t:null}function Hn(t,e,n=!1,i=!1){const{props:s,ref:r,patchFlag:o,children:a,transition:l}=t,u=e?Ad(s||{},e):s,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&pu(u),ref:e&&e.ref?n&&r?ee(r)?r.concat(vs(e)):[r,vs(e)]:vs(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==zt?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Hn(t.ssContent),ssFallback:t.ssFallback&&Hn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&i&&jo(c,l.clone(c)),c}function Id(t=" ",e=0){return ft($s,null,t,e)}function At(t){return t==null||typeof t=="boolean"?ft(Si):ee(t)?ft(zt,null,t.slice()):Is(t)?en(t):ft($s,null,String(t))}function en(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Hn(t)}function Yo(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(ee(e))n=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),Yo(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!nu(e)?e._ctx=yt:s===3&&yt&&(yt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Q(e)?(e={default:e,_ctx:yt},n=32):(e=String(e),i&64?(n=16,e=[Id(e)]):n=8);t.children=e,t.shapeFlag|=n}function Ad(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=Io([e.class,i.class]));else if(s==="style")e.style=bo([e.style,i.style]);else if(js(s)){const r=e[s],o=i[s];o&&r!==o&&!(ee(r)&&r.includes(o))&&(e[s]=r?[].concat(r,o):o)}else s!==""&&(e[s]=i[s])}return e}function bt(t,e,n,i=null){Ot(t,e,7,[n,i])}const Sd=Qc();let Md=0;function Pd(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||Sd,r={uid:Md++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Rc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:su(i,s),emitsOptions:du(i,s),emit:null,emitted:null,propsDefaults:be,inheritAttrs:i.inheritAttrs,ctx:be,data:be,props:be,attrs:be,slots:be,refs:be,setupState:be,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=yd.bind(null,r),t.ce&&t.ce(r),r}let je=null,As,ro;{const t=vc(),e=(n,i)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(i),r=>{s.length>1?s.forEach(o=>o(r)):s[0](r)}};As=e("__VUE_INSTANCE_SETTERS__",n=>je=n),ro=e("__VUE_SSR_SETTERS__",n=>qs=n)}const Zi=t=>{const e=je;return As(t),t.scope.on(),()=>{t.scope.off(),As(e)}},Za=()=>{je&&je.scope.off(),As(null)};function Eu(t){return t.vnode.shapeFlag&4}let qs=!1;function Ld(t,e=!1,n=!1){e&&ro(e);const{props:i,children:s}=t.vnode,r=Eu(t);sd(t,i,r,e),ld(t,s,n);const o=r?Od(t,e):void 0;return e&&ro(!1),o}function Od(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,$f);const{setup:i}=n;if(i){const s=t.setupContext=i.length>1?Fd(t):null,r=Zi(t);an();const o=Yi(i,t,0,[t.props,s]);if(ln(),r(),yc(o)){if(vi(t)||Bc(t),o.then(Za,Za),e)return o.then(a=>{Ba(t,a,e)}).catch(a=>{Zs(a,t,0)});t.asyncDep=o}else Ba(t,o,e)}else vu(t,e)}function Ba(t,e,n){Q(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Pe(e)&&(t.setupState=jc(e)),vu(t,n)}let Ha;function vu(t,e,n){const i=t.type;if(!t.render){if(!e&&Ha&&!i.render){const s=i.template||Uo(t).template;if(s){const{isCustomElement:r,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=i,u=ze(ze({isCustomElement:r,delimiters:a},o),l);i.render=Ha(s,u)}}t.render=i.render||Lt}{const s=Zi(t);an();try{qf(t)}finally{ln(),s()}}}const Dd={get(t,e){return Ve(t,"get",""),t[e]}};function Fd(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,Dd),slots:t.slots,emit:t.emit,expose:e}}function Wo(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(jc(Gc(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in wi)return wi[n](t)},has(e,n){return n in e||n in wi}})):t.proxy}function Nd(t,e=!0){return Q(t)?t.displayName||t.name:t.name||e&&t.__name}function kd(t){return Q(t)&&"__vccOpts"in t}const mt=(t,e)=>bf(t,e,qs);function wu(t,e,n){const i=arguments.length;return i===2?Pe(e)&&!ee(e)?Is(e)?ft(t,null,[e]):ft(t,e):ft(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Is(n)&&(n=[n]),ft(t,e,n))}const zd="3.5.10";/**
* @vue/runtime-dom v3.5.10
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let oo;const $a=typeof window<"u"&&window.trustedTypes;if($a)try{oo=$a.createPolicy("vue",{createHTML:t=>t})}catch{}const Ru=oo?t=>oo.createHTML(t):t=>t,Gd="http://www.w3.org/2000/svg",Xd="http://www.w3.org/1998/Math/MathML",kt=typeof document<"u"?document:null,qa=kt&&kt.createElement("template"),jd={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e==="svg"?kt.createElementNS(Gd,t):e==="mathml"?kt.createElementNS(Xd,t):n?kt.createElement(t,{is:n}):kt.createElement(t);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>kt.createTextNode(t),createComment:t=>kt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>kt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,s,r){const o=n?n.previousSibling:e.lastChild;if(s&&(s===r||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{qa.innerHTML=Ru(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const a=qa.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Kd=Symbol("_vtc");function Ud(t,e,n){const i=t[Kd];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Ja=Symbol("_vod"),Vd=Symbol("_vsh"),Yd=Symbol(""),Wd=/(^|;)\s*display\s*:/;function Zd(t,e,n){const i=t.style,s=De(n);let r=!1;if(n&&!s){if(e)if(De(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&ws(i,a,"")}else for(const o in e)n[o]==null&&ws(i,o,"");for(const o in n)o==="display"&&(r=!0),ws(i,o,n[o])}else if(s){if(e!==n){const o=i[Yd];o&&(n+=";"+o),i.cssText=n,r=Wd.test(n)}}else e&&t.removeAttribute("style");Ja in t&&(t[Ja]=r?i.display:"",t[Vd]&&(i.display="none"))}const Qa=/\s*!important$/;function ws(t,e,n){if(ee(n))n.forEach(i=>ws(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=Bd(t,e);Qa.test(n)?t.setProperty(wn(i),n.replace(Qa,""),"important"):t[i]=n}}const el=["Webkit","Moz","ms"],Ir={};function Bd(t,e){const n=Ir[e];if(n)return n;let i=dt(e);if(i!=="filter"&&i in t)return Ir[e]=i;i=Vs(i);for(let s=0;s<el.length;s++){const r=el[s]+i;if(r in t)return Ir[e]=r}return e}const tl="http://www.w3.org/1999/xlink";function nl(t,e,n,i,s,r=qh(e)){i&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(tl,e.slice(6,e.length)):t.setAttributeNS(tl,e,n):n==null||r&&!wc(n)?t.removeAttribute(e):t.setAttribute(e,r?"":Qn(n)?String(n):n)}function il(t,e,n,i){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?Ru(n):n);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const o=s==="OPTION"?t.getAttribute("value")||"":t.value,a=n==null?t.type==="checkbox"?"on":"":String(n);(o!==a||!("_value"in t))&&(t.value=a),n==null&&t.removeAttribute(e),t._value=n;return}let r=!1;if(n===""||n==null){const o=typeof t[e];o==="boolean"?n=wc(n):n==null&&o==="string"?(n="",r=!0):o==="number"&&(n=0,r=!0)}try{t[e]=n}catch{}r&&t.removeAttribute(e)}function Hd(t,e,n,i){t.addEventListener(e,n,i)}function $d(t,e,n,i){t.removeEventListener(e,n,i)}const sl=Symbol("_vei");function qd(t,e,n,i,s=null){const r=t[sl]||(t[sl]={}),o=r[e];if(i&&o)o.value=i;else{const[a,l]=Jd(e);if(i){const u=r[e]=tg(i,s);Hd(t,a,u,l)}else o&&($d(t,a,o,l),r[e]=void 0)}}const rl=/(?:Once|Passive|Capture)$/;function Jd(t){let e;if(rl.test(t)){e={};let i;for(;i=t.match(rl);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):wn(t.slice(2)),e]}let Ar=0;const Qd=Promise.resolve(),eg=()=>Ar||(Qd.then(()=>Ar=0),Ar=Date.now());function tg(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Ot(ng(i,n.value),e,5,[i])};return n.value=t,n.attached=eg(),n}function ng(t,e){if(ee(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const ol=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,ig=(t,e,n,i,s,r)=>{const o=s==="svg";e==="class"?Ud(t,i,o):e==="style"?Zd(t,n,i):js(e)?Co(e)||qd(t,e,n,i,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):sg(t,e,i,o))?(il(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&nl(t,e,i,o,r,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!De(i))?il(t,dt(e),i):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),nl(t,e,i,o))};function sg(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&ol(e)&&Q(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return ol(e)&&De(n)?!1:e in t}const rg=ze({patchProp:ig},jd);let al;function og(){return al||(al=ud(rg))}const ag=(...t)=>{const e=og().createApp(...t),{mount:n}=e;return e.mount=i=>{const s=cg(i);if(!s)return;const r=e._component;!Q(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,lg(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function lg(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function cg(t){return De(t)?document.querySelector(t):t}const Cu=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n},ug={};function hg(t,e){const n=Zf("router-view");return Mi(),so(n)}const fg=Cu(ug,[["render",hg]]);/*!
  * vue-router v4.4.5
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Fn=typeof document<"u";function xu(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function dg(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&xu(t.default)}const Ee=Object.assign;function Sr(t,e){const n={};for(const i in e){const s=e[i];n[i]=Rt(s)?s.map(t):t(s)}return n}const Ci=()=>{},Rt=Array.isArray,Tu=/#/g,gg=/&/g,_g=/\//g,mg=/=/g,pg=/\?/g,bu=/\+/g,yg=/%5B/g,Eg=/%5D/g,Iu=/%5E/g,vg=/%60/g,Au=/%7B/g,wg=/%7C/g,Su=/%7D/g,Rg=/%20/g;function Zo(t){return encodeURI(""+t).replace(wg,"|").replace(yg,"[").replace(Eg,"]")}function Cg(t){return Zo(t).replace(Au,"{").replace(Su,"}").replace(Iu,"^")}function ao(t){return Zo(t).replace(bu,"%2B").replace(Rg,"+").replace(Tu,"%23").replace(gg,"%26").replace(vg,"`").replace(Au,"{").replace(Su,"}").replace(Iu,"^")}function xg(t){return ao(t).replace(mg,"%3D")}function Tg(t){return Zo(t).replace(Tu,"%23").replace(pg,"%3F")}function bg(t){return t==null?"":Tg(t).replace(_g,"%2F")}function Li(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Ig=/\/$/,Ag=t=>t.replace(Ig,"");function Mr(t,e,n="/"){let i,s={},r="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=e.slice(0,l),r=e.slice(l+1,a>-1?a:e.length),s=t(r)),a>-1&&(i=i||e.slice(0,a),o=e.slice(a,e.length)),i=Lg(i??e,n),{fullPath:i+(r&&"?")+r+o,path:i,query:s,hash:Li(o)}}function Sg(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function ll(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Mg(t,e,n){const i=e.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&$n(e.matched[i],n.matched[s])&&Mu(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function $n(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Mu(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!Pg(t[n],e[n]))return!1;return!0}function Pg(t,e){return Rt(t)?cl(t,e):Rt(e)?cl(e,t):t===e}function cl(t,e){return Rt(e)?t.length===e.length&&t.every((n,i)=>n===e[i]):t.length===1&&t[0]===e}function Lg(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),i=t.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let r=n.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+i.slice(o).join("/")}const Bt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Oi;(function(t){t.pop="pop",t.push="push"})(Oi||(Oi={}));var xi;(function(t){t.back="back",t.forward="forward",t.unknown=""})(xi||(xi={}));function Og(t){if(!t)if(Fn){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Ag(t)}const Dg=/^[^#]+#/;function Fg(t,e){return t.replace(Dg,"#")+e}function Ng(t,e){const n=document.documentElement.getBoundingClientRect(),i=t.getBoundingClientRect();return{behavior:e.behavior,left:i.left-n.left-(e.left||0),top:i.top-n.top-(e.top||0)}}const Js=()=>({left:window.scrollX,top:window.scrollY});function kg(t){let e;if("el"in t){const n=t.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=Ng(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function ul(t,e){return(history.state?history.state.position-e:-1)+t}const lo=new Map;function zg(t,e){lo.set(t,e)}function Gg(t){const e=lo.get(t);return lo.delete(t),e}let Xg=()=>location.protocol+"//"+location.host;function Pu(t,e){const{pathname:n,search:i,hash:s}=e,r=t.indexOf("#");if(r>-1){let a=s.includes(t.slice(r))?t.slice(r).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),ll(l,"")}return ll(n,t)+i+s}function jg(t,e,n,i){let s=[],r=[],o=null;const a=({state:f})=>{const d=Pu(t,location),_=n.value,p=e.value;let E=0;if(f){if(n.value=d,e.value=f,o&&o===_){o=null;return}E=p?f.position-p.position:0}else i(d);s.forEach(v=>{v(n.value,_,{delta:E,type:Oi.pop,direction:E?E>0?xi.forward:xi.back:xi.unknown})})};function l(){o=n.value}function u(f){s.push(f);const d=()=>{const _=s.indexOf(f);_>-1&&s.splice(_,1)};return r.push(d),d}function c(){const{history:f}=window;f.state&&f.replaceState(Ee({},f.state,{scroll:Js()}),"")}function h(){for(const f of r)f();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function hl(t,e,n,i=!1,s=!1){return{back:t,current:e,forward:n,replaced:i,position:window.history.length,scroll:s?Js():null}}function Kg(t){const{history:e,location:n}=window,i={value:Pu(t,n)},s={value:e.state};s.value||r(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(l,u,c){const h=t.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+l:Xg()+t+l;try{e[c?"replaceState":"pushState"](u,"",f),s.value=u}catch(d){console.error(d),n[c?"replace":"assign"](f)}}function o(l,u){const c=Ee({},e.state,hl(s.value.back,l,s.value.forward,!0),u,{position:s.value.position});r(l,c,!0),i.value=l}function a(l,u){const c=Ee({},s.value,e.state,{forward:l,scroll:Js()});r(c.current,c,!0);const h=Ee({},hl(i.value,l,null),{position:c.position+1},u);r(l,h,!1),i.value=l}return{location:i,state:s,push:a,replace:o}}function Ug(t){t=Og(t);const e=Kg(t),n=jg(t,e.state,e.location,e.replace);function i(r,o=!0){o||n.pauseListeners(),history.go(r)}const s=Ee({location:"",base:t,go:i,createHref:Fg.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function Vg(t){return typeof t=="string"||t&&typeof t=="object"}function Lu(t){return typeof t=="string"||typeof t=="symbol"}const Ou=Symbol("");var fl;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(fl||(fl={}));function qn(t,e){return Ee(new Error,{type:t,[Ou]:!0},e)}function Ft(t,e){return t instanceof Error&&Ou in t&&(e==null||!!(t.type&e))}const dl="[^/]+?",Yg={sensitive:!1,strict:!1,start:!0,end:!0},Wg=/[.+*?^${}()[\]/\\]/g;function Zg(t,e){const n=Ee({},Yg,e),i=[];let s=n.start?"^":"";const r=[];for(const u of t){const c=u.length?[]:[90];n.strict&&!u.length&&(s+="/");for(let h=0;h<u.length;h++){const f=u[h];let d=40+(n.sensitive?.25:0);if(f.type===0)h||(s+="/"),s+=f.value.replace(Wg,"\\$&"),d+=40;else if(f.type===1){const{value:_,repeatable:p,optional:E,regexp:v}=f;r.push({name:_,repeatable:p,optional:E});const y=v||dl;if(y!==dl){d+=10;try{new RegExp(`(${y})`)}catch(R){throw new Error(`Invalid custom RegExp for param "${_}" (${y}): `+R.message)}}let x=p?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;h||(x=E&&u.length<2?`(?:/${x})`:"/"+x),E&&(x+="?"),s+=x,d+=20,E&&(d+=-8),p&&(d+=-20),y===".*"&&(d+=-50)}c.push(d)}i.push(c)}if(n.strict&&n.end){const u=i.length-1;i[u][i[u].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let f=1;f<c.length;f++){const d=c[f]||"",_=r[f-1];h[_.name]=d&&_.repeatable?d.split("/"):d}return h}function l(u){let c="",h=!1;for(const f of t){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const d of f)if(d.type===0)c+=d.value;else if(d.type===1){const{value:_,repeatable:p,optional:E}=d,v=_ in u?u[_]:"";if(Rt(v)&&!p)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const y=Rt(v)?v.join("/"):v;if(!y)if(E)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${_}"`);c+=y}}return c||"/"}return{re:o,score:i,keys:r,parse:a,stringify:l}}function Bg(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=e[n]-t[n];if(i)return i;n++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function Du(t,e){let n=0;const i=t.score,s=e.score;for(;n<i.length&&n<s.length;){const r=Bg(i[n],s[n]);if(r)return r;n++}if(Math.abs(s.length-i.length)===1){if(gl(i))return 1;if(gl(s))return-1}return s.length-i.length}function gl(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Hg={type:0,value:""},$g=/[a-zA-Z0-9_]/;function qg(t){if(!t)return[[]];if(t==="/")return[[Hg]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${n})/"${u}": ${d}`)}let n=0,i=n;const s=[];let r;function o(){r&&s.push(r),r=[]}let a=0,l,u="",c="";function h(){u&&(n===0?r.push({type:0,value:u}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=i;break;case 1:l==="("?n=2:$g.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${u}"`),h(),o(),s}function Jg(t,e,n){const i=Zg(qg(t.path),n),s=Ee(i,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function Qg(t,e){const n=[],i=new Map;e=yl({strict:!1,end:!0,sensitive:!1},e);function s(h){return i.get(h)}function r(h,f,d){const _=!d,p=ml(h);p.aliasOf=d&&d.record;const E=yl(e,h),v=[p];if("alias"in h){const R=typeof h.alias=="string"?[h.alias]:h.alias;for(const I of R)v.push(ml(Ee({},p,{components:d?d.record.components:p.components,path:I,aliasOf:d?d.record:p})))}let y,x;for(const R of v){const{path:I}=R;if(f&&I[0]!=="/"){const K=f.record.path,P=K[K.length-1]==="/"?"":"/";R.path=f.record.path+(I&&P+I)}if(y=Jg(R,f,E),d?d.alias.push(y):(x=x||y,x!==y&&x.alias.push(y),_&&h.name&&!pl(y)&&o(h.name)),Fu(y)&&l(y),p.children){const K=p.children;for(let P=0;P<K.length;P++)r(K[P],y,d&&d.children[P])}d=d||y}return x?()=>{o(x)}:Ci}function o(h){if(Lu(h)){const f=i.get(h);f&&(i.delete(h),n.splice(n.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=n.indexOf(h);f>-1&&(n.splice(f,1),h.record.name&&i.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return n}function l(h){const f=n_(h,n);n.splice(f,0,h),h.record.name&&!pl(h)&&i.set(h.record.name,h)}function u(h,f){let d,_={},p,E;if("name"in h&&h.name){if(d=i.get(h.name),!d)throw qn(1,{location:h});E=d.record.name,_=Ee(_l(f.params,d.keys.filter(x=>!x.optional).concat(d.parent?d.parent.keys.filter(x=>x.optional):[]).map(x=>x.name)),h.params&&_l(h.params,d.keys.map(x=>x.name))),p=d.stringify(_)}else if(h.path!=null)p=h.path,d=n.find(x=>x.re.test(p)),d&&(_=d.parse(p),E=d.record.name);else{if(d=f.name?i.get(f.name):n.find(x=>x.re.test(f.path)),!d)throw qn(1,{location:h,currentLocation:f});E=d.record.name,_=Ee({},f.params,h.params),p=d.stringify(_)}const v=[];let y=d;for(;y;)v.unshift(y.record),y=y.parent;return{name:E,path:p,params:_,matched:v,meta:t_(v)}}t.forEach(h=>r(h));function c(){n.length=0,i.clear()}return{addRoute:r,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:s}}function _l(t,e){const n={};for(const i of e)i in t&&(n[i]=t[i]);return n}function ml(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:e_(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function e_(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const i in t.components)e[i]=typeof n=="object"?n[i]:n;return e}function pl(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function t_(t){return t.reduce((e,n)=>Ee(e,n.meta),{})}function yl(t,e){const n={};for(const i in t)n[i]=i in e?e[i]:t[i];return n}function n_(t,e){let n=0,i=e.length;for(;n!==i;){const r=n+i>>1;Du(t,e[r])<0?i=r:n=r+1}const s=i_(t);return s&&(i=e.lastIndexOf(s,i-1)),i}function i_(t){let e=t;for(;e=e.parent;)if(Fu(e)&&Du(t,e)===0)return e}function Fu({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function s_(t){const e={};if(t===""||t==="?")return e;const i=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<i.length;++s){const r=i[s].replace(bu," "),o=r.indexOf("="),a=Li(o<0?r:r.slice(0,o)),l=o<0?null:Li(r.slice(o+1));if(a in e){let u=e[a];Rt(u)||(u=e[a]=[u]),u.push(l)}else e[a]=l}return e}function El(t){let e="";for(let n in t){const i=t[n];if(n=xg(n),i==null){i!==void 0&&(e+=(e.length?"&":"")+n);continue}(Rt(i)?i.map(r=>r&&ao(r)):[i&&ao(i)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function r_(t){const e={};for(const n in t){const i=t[n];i!==void 0&&(e[n]=Rt(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return e}const o_=Symbol(""),vl=Symbol(""),Bo=Symbol(""),Nu=Symbol(""),co=Symbol("");function ri(){let t=[];function e(i){return t.push(i),()=>{const s=t.indexOf(i);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function tn(t,e,n,i,s,r=o=>o()){const o=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(qn(4,{from:n,to:e})):f instanceof Error?l(f):Vg(f)?l(qn(2,{from:e,to:f})):(o&&i.enterCallbacks[s]===o&&typeof f=="function"&&o.push(f),a())},c=r(()=>t.call(i&&i.instances[s],e,n,u));let h=Promise.resolve(c);t.length<3&&(h=h.then(u)),h.catch(f=>l(f))})}function Pr(t,e,n,i,s=r=>r()){const r=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(xu(l)){const c=(l.__vccOpts||l)[e];c&&r.push(tn(c,n,i,o,a,s))}else{let u=l();r.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=dg(c)?c.default:c;o.mods[a]=c,o.components[a]=h;const d=(h.__vccOpts||h)[e];return d&&tn(d,n,i,o,a,s)()}))}}return r}function wl(t){const e=Kt(Bo),n=Kt(Nu),i=mt(()=>{const l=Kn(t.to);return e.resolve(l)}),s=mt(()=>{const{matched:l}=i.value,{length:u}=l,c=l[u-1],h=n.matched;if(!c||!h.length)return-1;const f=h.findIndex($n.bind(null,c));if(f>-1)return f;const d=Rl(l[u-2]);return u>1&&Rl(c)===d&&h[h.length-1].path!==d?h.findIndex($n.bind(null,l[u-2])):f}),r=mt(()=>s.value>-1&&u_(n.params,i.value.params)),o=mt(()=>s.value>-1&&s.value===n.matched.length-1&&Mu(n.params,i.value.params));function a(l={}){return c_(l)?e[Kn(t.replace)?"replace":"push"](Kn(t.to)).catch(Ci):Promise.resolve()}return{route:i,href:mt(()=>i.value.href),isActive:r,isExactActive:o,navigate:a}}const a_=Wi({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:wl,setup(t,{slots:e}){const n=Ws(wl(t)),{options:i}=Kt(Bo),s=mt(()=>({[Cl(t.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Cl(t.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&e.default(n);return t.custom?r:wu("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},r)}}}),l_=a_;function c_(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function u_(t,e){for(const n in e){const i=e[n],s=t[n];if(typeof i=="string"){if(i!==s)return!1}else if(!Rt(s)||s.length!==i.length||i.some((r,o)=>r!==s[o]))return!1}return!0}function Rl(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Cl=(t,e,n)=>t??e??n,h_=Wi({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const i=Kt(co),s=mt(()=>t.route||i.value),r=Kt(vl,0),o=mt(()=>{let u=Kn(r);const{matched:c}=s.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),a=mt(()=>s.value.matched[o.value]);ys(vl,mt(()=>o.value+1)),ys(o_,a),ys(co,s);const l=zo();return Es(()=>[l.value,a.value,t.name],([u,c,h],[f,d,_])=>{c&&(c.instances[h]=u,d&&d!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=d.leaveGuards),c.updateGuards.size||(c.updateGuards=d.updateGuards))),u&&c&&(!d||!$n(c,d)||!f)&&(c.enterCallbacks[h]||[]).forEach(p=>p(u))},{flush:"post"}),()=>{const u=s.value,c=t.name,h=a.value,f=h&&h.components[c];if(!f)return xl(n.default,{Component:f,route:u});const d=h.props[c],_=d?d===!0?u.params:typeof d=="function"?d(u):d:null,E=wu(f,Ee({},_,e,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return xl(n.default,{Component:E,route:u})||E}}});function xl(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const f_=h_;function d_(t){const e=Qg(t.routes,t),n=t.parseQuery||s_,i=t.stringifyQuery||El,s=t.history,r=ri(),o=ri(),a=ri(),l=Rf(Bt);let u=Bt;Fn&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=Sr.bind(null,C=>""+C),h=Sr.bind(null,bg),f=Sr.bind(null,Li);function d(C,k){let F,j;return Lu(C)?(F=e.getRecordMatcher(C),j=k):j=C,e.addRoute(j,F)}function _(C){const k=e.getRecordMatcher(C);k&&e.removeRoute(k)}function p(){return e.getRoutes().map(C=>C.record)}function E(C){return!!e.getRecordMatcher(C)}function v(C,k){if(k=Ee({},k||l.value),typeof C=="string"){const m=Mr(n,C,k.path),w=e.resolve({path:m.path},k),S=s.createHref(m.fullPath);return Ee(m,w,{params:f(w.params),hash:Li(m.hash),redirectedFrom:void 0,href:S})}let F;if(C.path!=null)F=Ee({},C,{path:Mr(n,C.path,k.path).path});else{const m=Ee({},C.params);for(const w in m)m[w]==null&&delete m[w];F=Ee({},C,{params:h(m)}),k.params=h(k.params)}const j=e.resolve(F,k),ne=C.hash||"";j.params=c(f(j.params));const Ce=Sg(i,Ee({},C,{hash:Cg(ne),path:j.path})),g=s.createHref(Ce);return Ee({fullPath:Ce,hash:ne,query:i===El?r_(C.query):C.query||{}},j,{redirectedFrom:void 0,href:g})}function y(C){return typeof C=="string"?Mr(n,C,l.value.path):Ee({},C)}function x(C,k){if(u!==C)return qn(8,{from:k,to:C})}function R(C){return P(C)}function I(C){return R(Ee(y(C),{replace:!0}))}function K(C){const k=C.matched[C.matched.length-1];if(k&&k.redirect){const{redirect:F}=k;let j=typeof F=="function"?F(C):F;return typeof j=="string"&&(j=j.includes("?")||j.includes("#")?j=y(j):{path:j},j.params={}),Ee({query:C.query,hash:C.hash,params:j.path!=null?{}:C.params},j)}}function P(C,k){const F=u=v(C),j=l.value,ne=C.state,Ce=C.force,g=C.replace===!0,m=K(F);if(m)return P(Ee(y(m),{state:typeof m=="object"?Ee({},ne,m.state):ne,force:Ce,replace:g}),k||F);const w=F;w.redirectedFrom=k;let S;return!Ce&&Mg(i,j,F)&&(S=qn(16,{to:w,from:j}),ue(j,j,!0,!1)),(S?Promise.resolve(S):se(w,j)).catch(T=>Ft(T)?Ft(T,2)?T:me(T):$(T,w,j)).then(T=>{if(T){if(Ft(T,2))return P(Ee({replace:g},y(T.to),{state:typeof T.to=="object"?Ee({},ne,T.to.state):ne,force:Ce}),k||w)}else T=ce(w,j,!0,g,ne);return le(w,j,T),T})}function D(C,k){const F=x(C,k);return F?Promise.reject(F):Promise.resolve()}function U(C){const k=Je.values().next().value;return k&&typeof k.runWithContext=="function"?k.runWithContext(C):C()}function se(C,k){let F;const[j,ne,Ce]=g_(C,k);F=Pr(j.reverse(),"beforeRouteLeave",C,k);for(const m of j)m.leaveGuards.forEach(w=>{F.push(tn(w,C,k))});const g=D.bind(null,C,k);return F.push(g),Re(F).then(()=>{F=[];for(const m of r.list())F.push(tn(m,C,k));return F.push(g),Re(F)}).then(()=>{F=Pr(ne,"beforeRouteUpdate",C,k);for(const m of ne)m.updateGuards.forEach(w=>{F.push(tn(w,C,k))});return F.push(g),Re(F)}).then(()=>{F=[];for(const m of Ce)if(m.beforeEnter)if(Rt(m.beforeEnter))for(const w of m.beforeEnter)F.push(tn(w,C,k));else F.push(tn(m.beforeEnter,C,k));return F.push(g),Re(F)}).then(()=>(C.matched.forEach(m=>m.enterCallbacks={}),F=Pr(Ce,"beforeRouteEnter",C,k,U),F.push(g),Re(F))).then(()=>{F=[];for(const m of o.list())F.push(tn(m,C,k));return F.push(g),Re(F)}).catch(m=>Ft(m,8)?m:Promise.reject(m))}function le(C,k,F){a.list().forEach(j=>U(()=>j(C,k,F)))}function ce(C,k,F,j,ne){const Ce=x(C,k);if(Ce)return Ce;const g=k===Bt,m=Fn?history.state:{};F&&(j||g?s.replace(C.fullPath,Ee({scroll:g&&m&&m.scroll},ne)):s.push(C.fullPath,ne)),l.value=C,ue(C,k,F,g),me()}let te;function B(){te||(te=s.listen((C,k,F)=>{if(!We.listening)return;const j=v(C),ne=K(j);if(ne){P(Ee(ne,{replace:!0}),j).catch(Ci);return}u=j;const Ce=l.value;Fn&&zg(ul(Ce.fullPath,F.delta),Js()),se(j,Ce).catch(g=>Ft(g,12)?g:Ft(g,2)?(P(g.to,j).then(m=>{Ft(m,20)&&!F.delta&&F.type===Oi.pop&&s.go(-1,!1)}).catch(Ci),Promise.reject()):(F.delta&&s.go(-F.delta,!1),$(g,j,Ce))).then(g=>{g=g||ce(j,Ce,!1),g&&(F.delta&&!Ft(g,8)?s.go(-F.delta,!1):F.type===Oi.pop&&Ft(g,20)&&s.go(-1,!1)),le(j,Ce,g)}).catch(Ci)}))}let we=ri(),Y=ri(),H;function $(C,k,F){me(C);const j=Y.list();return j.length?j.forEach(ne=>ne(C,k,F)):console.error(C),Promise.reject(C)}function Me(){return H&&l.value!==Bt?Promise.resolve():new Promise((C,k)=>{we.add([C,k])})}function me(C){return H||(H=!C,B(),we.list().forEach(([k,F])=>C?F(C):k()),we.reset()),C}function ue(C,k,F,j){const{scrollBehavior:ne}=t;if(!Fn||!ne)return Promise.resolve();const Ce=!F&&Gg(ul(C.fullPath,0))||(j||!F)&&history.state&&history.state.scroll||null;return Uc().then(()=>ne(C,k,Ce)).then(g=>g&&kg(g)).catch(g=>$(g,C,k))}const he=C=>s.go(C);let Ye;const Je=new Set,We={currentRoute:l,listening:!0,addRoute:d,removeRoute:_,clearRoutes:e.clearRoutes,hasRoute:E,getRoutes:p,resolve:v,options:t,push:R,replace:I,go:he,back:()=>he(-1),forward:()=>he(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:Y.add,isReady:Me,install(C){const k=this;C.component("RouterLink",l_),C.component("RouterView",f_),C.config.globalProperties.$router=k,Object.defineProperty(C.config.globalProperties,"$route",{enumerable:!0,get:()=>Kn(l)}),Fn&&!Ye&&l.value===Bt&&(Ye=!0,R(s.location).catch(ne=>{}));const F={};for(const ne in Bt)Object.defineProperty(F,ne,{get:()=>l.value[ne],enumerable:!0});C.provide(Bo,k),C.provide(Nu,kc(F)),C.provide(co,l);const j=C.unmount;Je.add(C),C.unmount=function(){Je.delete(C),Je.size<1&&(u=Bt,te&&te(),te=null,l.value=Bt,Ye=!1,H=!1),j()}}};function Re(C){return C.reduce((k,F)=>k.then(()=>U(F)),Promise.resolve())}return We}function g_(t,e){const n=[],i=[],s=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const a=e.matched[o];a&&(t.matched.find(u=>$n(u,a))?i.push(a):n.push(a));const l=t.matched[o];l&&(e.matched.find(u=>$n(u,l))||s.push(l))}return[n,i,s]}class cn{constructor(e){this.propagationStopped,this.defaultPrevented,this.type=e,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}const Di={PROPERTYCHANGE:"propertychange"};class Qs{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function er(t,e){return t>e?1:t<e?-1:0}function Ho(t,e,n){if(t[0]<=e)return 0;const i=t.length;if(e<=t[i-1])return i-1;if(typeof n=="function"){for(let s=1;s<i;++s){const r=t[s];if(r===e)return s;if(r<e)return n(e,t[s-1],r)>0?s-1:s}return i-1}if(n>0){for(let s=1;s<i;++s)if(t[s]<e)return s-1;return i-1}if(n<0){for(let s=1;s<i;++s)if(t[s]<=e)return s;return i-1}for(let s=1;s<i;++s){if(t[s]==e)return s;if(t[s]<e)return t[s-1]-e<e-t[s]?s-1:s}return i-1}function __(t,e){const n=Array.isArray(e)?e:[e],i=n.length;for(let s=0;s<i;s++)t[t.length]=n[s]}function tr(t,e){const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function m_(t,e,n){const i=e||er;return t.every(function(s,r){if(r===0)return!0;const o=i(t[r-1],s);return!(o>0||o===0)})}function Ss(){return!0}function nr(){return!1}function Ms(){}function p_(t){let e,n,i;return function(){const s=Array.prototype.slice.call(arguments);return(!n||this!==i||!tr(s,n))&&(i=this,n=s,e=t.apply(this,arguments)),e}}function y_(t){function e(){let n;try{n=t()}catch(i){return Promise.reject(i)}return n instanceof Promise?n:Promise.resolve(n)}return e()}function ir(t){for(const e in t)delete t[e]}function ku(t){let e;for(e in t)return!1;return!e}class sr extends Qs{constructor(e){super(),this.eventTarget_=e,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(e,n){if(!e||!n)return;const i=this.listeners_||(this.listeners_={}),s=i[e]||(i[e]=[]);s.includes(n)||s.push(n)}dispatchEvent(e){const n=typeof e=="string",i=n?e:e.type,s=this.listeners_&&this.listeners_[i];if(!s)return;const r=n?new cn(e):e;r.target||(r.target=this.eventTarget_||this);const o=this.dispatching_||(this.dispatching_={}),a=this.pendingRemovals_||(this.pendingRemovals_={});i in o||(o[i]=0,a[i]=0),++o[i];let l;for(let u=0,c=s.length;u<c;++u)if("handleEvent"in s[u]?l=s[u].handleEvent(r):l=s[u].call(this,r),l===!1||r.propagationStopped){l=!1;break}if(--o[i]===0){let u=a[i];for(delete a[i];u--;)this.removeEventListener(i,Ms);delete o[i]}return l}disposeInternal(){this.listeners_&&ir(this.listeners_)}getListeners(e){return this.listeners_&&this.listeners_[e]||void 0}hasListener(e){return this.listeners_?e?e in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(e,n){if(!this.listeners_)return;const i=this.listeners_[e];if(!i)return;const s=i.indexOf(n);s!==-1&&(this.pendingRemovals_&&e in this.pendingRemovals_?(i[s]=Ms,++this.pendingRemovals_[e]):(i.splice(s,1),i.length===0&&delete this.listeners_[e]))}}const J={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"};function ge(t,e,n,i,s){if(s){const o=n;n=function(){t.removeEventListener(e,n),o.apply(i??this,arguments)}}else i&&i!==t&&(n=n.bind(i));const r={target:t,type:e,listener:n};return t.addEventListener(e,n),r}function Ps(t,e,n,i){return ge(t,e,n,i,!0)}function Ae(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),ir(t))}class Bi extends sr{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(J.CHANGE)}getRevision(){return this.revision_}onInternal(e,n){if(Array.isArray(e)){const i=e.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=ge(this,e[r],n);return s}return ge(this,e,n)}onceInternal(e,n){let i;if(Array.isArray(e)){const s=e.length;i=new Array(s);for(let r=0;r<s;++r)i[r]=Ps(this,e[r],n)}else i=Ps(this,e,n);return n.ol_key=i,i}unInternal(e,n){const i=n.ol_key;if(i)E_(i);else if(Array.isArray(e))for(let s=0,r=e.length;s<r;++s)this.removeEventListener(e[s],n);else this.removeEventListener(e,n)}}Bi.prototype.on;Bi.prototype.once;Bi.prototype.un;function E_(t){if(Array.isArray(t))for(let e=0,n=t.length;e<n;++e)Ae(t[e]);else Ae(t)}function ae(){throw new Error("Unimplemented abstract method.")}let v_=0;function $e(t){return t.ol_uid||(t.ol_uid=String(++v_))}class Tl extends cn{constructor(e,n,i){super(e),this.key=n,this.oldValue=i}}class Yt extends Bi{constructor(e){super(),this.on,this.once,this.un,$e(this),this.values_=null,e!==void 0&&this.setProperties(e)}get(e){let n;return this.values_&&this.values_.hasOwnProperty(e)&&(n=this.values_[e]),n}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(e,n){let i;i=`change:${e}`,this.hasListener(i)&&this.dispatchEvent(new Tl(i,e,n)),i=Di.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new Tl(i,e,n))}addChangeListener(e,n){this.addEventListener(`change:${e}`,n)}removeChangeListener(e,n){this.removeEventListener(`change:${e}`,n)}set(e,n,i){const s=this.values_||(this.values_={});if(i)s[e]=n;else{const r=s[e];s[e]=n,r!==n&&this.notify(e,r)}}setProperties(e,n){for(const i in e)this.set(i,e[i],n)}applyProperties(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}unset(e,n){if(this.values_&&e in this.values_){const i=this.values_[e];delete this.values_[e],ku(this.values_)&&(this.values_=null),n||this.notify(e,i)}}}const ht={ADD:"add",REMOVE:"remove"},bl={LENGTH:"length"};class ls extends cn{constructor(e,n,i){super(e),this.element=n,this.index=i}}class Xt extends Yt{constructor(e,n){if(super(),this.on,this.once,this.un,n=n||{},this.unique_=!!n.unique,this.array_=e||[],this.unique_)for(let i=0,s=this.array_.length;i<s;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(e){for(let n=0,i=e.length;n<i;++n)this.push(e[n]);return this}forEach(e){const n=this.array_;for(let i=0,s=n.length;i<s;++i)e(n[i],i,n)}getArray(){return this.array_}item(e){return this.array_[e]}getLength(){return this.get(bl.LENGTH)}insertAt(e,n){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n),this.array_.splice(e,0,n),this.updateLength_(),this.dispatchEvent(new ls(ht.ADD,n,e))}pop(){return this.removeAt(this.getLength()-1)}push(e){this.unique_&&this.assertUnique_(e);const n=this.getLength();return this.insertAt(n,e),this.getLength()}remove(e){const n=this.array_;for(let i=0,s=n.length;i<s;++i)if(n[i]===e)return this.removeAt(i)}removeAt(e){if(e<0||e>=this.getLength())return;const n=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new ls(ht.REMOVE,n,e)),n}setAt(e,n){const i=this.getLength();if(e>=i){this.insertAt(e,n);return}if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(n,e);const s=this.array_[e];this.array_[e]=n,this.dispatchEvent(new ls(ht.REMOVE,s,e)),this.dispatchEvent(new ls(ht.ADD,n,e))}updateLength_(){this.set(bl.LENGTH,this.array_.length)}assertUnique_(e,n){for(let i=0,s=this.array_.length;i<s;++i)if(this.array_[i]===e&&i!==n)throw new Error("Duplicate item added to a unique collection")}}const ye={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};function ve(t,e){if(!t)throw new Error(e)}function Le(t,e,n){return Math.min(Math.max(t,e),n)}function w_(t,e,n,i,s,r){const o=s-n,a=r-i;if(o!==0||a!==0){const l=((t-n)*o+(e-i)*a)/(o*o+a*a);l>1?(n=s,i=r):l>0&&(n+=o*l,i+=a*l)}return Yn(t,e,n,i)}function Yn(t,e,n,i){const s=n-t,r=i-e;return s*s+r*r}function R_(t){const e=t.length;for(let i=0;i<e;i++){let s=i,r=Math.abs(t[i][i]);for(let a=i+1;a<e;a++){const l=Math.abs(t[a][i]);l>r&&(r=l,s=a)}if(r===0)return null;const o=t[s];t[s]=t[i],t[i]=o;for(let a=i+1;a<e;a++){const l=-t[a][i]/t[i][i];for(let u=i;u<e+1;u++)i==u?t[a][u]=0:t[a][u]+=l*t[i][u]}}const n=new Array(e);for(let i=e-1;i>=0;i--){n[i]=t[i][e]/t[i][i];for(let s=i-1;s>=0;s--)t[s][e]-=t[s][i]*n[i]}return n}function Rs(t){return t*Math.PI/180}function Wn(t,e){const n=t%e;return n*e<0?n+e:n}function C_(t,e,n){return t+n*(e-t)}function zu(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}function cs(t,e){return Math.floor(zu(t,e))}function us(t,e){return Math.ceil(zu(t,e))}class Gu extends Yt{constructor(e){super(),this.on,this.once,this.un,this.background_=e.background;const n=Object.assign({},e);typeof e.properties=="object"&&(delete n.properties,Object.assign(n,e.properties)),n[ye.OPACITY]=e.opacity!==void 0?e.opacity:1,ve(typeof n[ye.OPACITY]=="number","Layer opacity must be a number"),n[ye.VISIBLE]=e.visible!==void 0?e.visible:!0,n[ye.Z_INDEX]=e.zIndex,n[ye.MAX_RESOLUTION]=e.maxResolution!==void 0?e.maxResolution:1/0,n[ye.MIN_RESOLUTION]=e.minResolution!==void 0?e.minResolution:0,n[ye.MIN_ZOOM]=e.minZoom!==void 0?e.minZoom:-1/0,n[ye.MAX_ZOOM]=e.maxZoom!==void 0?e.maxZoom:1/0,this.className_=n.className!==void 0?n.className:"ol-layer",delete n.className,this.setProperties(n),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(e){const n=this.state_||{layer:this,managed:e===void 0?!0:e},i=this.getZIndex();return n.opacity=Le(Math.round(this.getOpacity()*100)/100,0,1),n.visible=this.getVisible(),n.extent=this.getExtent(),n.zIndex=i===void 0&&!n.managed?1/0:i,n.maxResolution=this.getMaxResolution(),n.minResolution=Math.max(this.getMinResolution(),0),n.minZoom=this.getMinZoom(),n.maxZoom=this.getMaxZoom(),this.state_=n,n}getLayersArray(e){return ae()}getLayerStatesArray(e){return ae()}getExtent(){return this.get(ye.EXTENT)}getMaxResolution(){return this.get(ye.MAX_RESOLUTION)}getMinResolution(){return this.get(ye.MIN_RESOLUTION)}getMinZoom(){return this.get(ye.MIN_ZOOM)}getMaxZoom(){return this.get(ye.MAX_ZOOM)}getOpacity(){return this.get(ye.OPACITY)}getSourceState(){return ae()}getVisible(){return this.get(ye.VISIBLE)}getZIndex(){return this.get(ye.Z_INDEX)}setBackground(e){this.background_=e,this.changed()}setExtent(e){this.set(ye.EXTENT,e)}setMaxResolution(e){this.set(ye.MAX_RESOLUTION,e)}setMinResolution(e){this.set(ye.MIN_RESOLUTION,e)}setMaxZoom(e){this.set(ye.MAX_ZOOM,e)}setMinZoom(e){this.set(ye.MIN_ZOOM,e)}setOpacity(e){ve(typeof e=="number","Layer opacity must be a number"),this.set(ye.OPACITY,e)}setVisible(e){this.set(ye.VISIBLE,e)}setZIndex(e){this.set(ye.Z_INDEX,e)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}const Mt={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},ct={ANIMATING:0,INTERACTING:1},_t={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},x_=42,$o=256,qo={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class Xu{constructor(e){this.code_=e.code,this.units_=e.units,this.extent_=e.extent!==void 0?e.extent:null,this.worldExtent_=e.worldExtent!==void 0?e.worldExtent:null,this.axisOrientation_=e.axisOrientation!==void 0?e.axisOrientation:"enu",this.global_=e.global!==void 0?e.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||qo[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(e){this.defaultTileGrid_=e}setExtent(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)}setWorldExtent(e){this.worldExtent_=e}setGetPointResolution(e){this.getPointResolutionFunc_=e}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const Hi=6378137,Xn=Math.PI*Hi,T_=[-Xn,-Xn,Xn,Xn],b_=[-180,-85,180,85],hs=Hi*Math.log(Math.tan(Math.PI/2));class bn extends Xu{constructor(e){super({code:e,units:"m",extent:T_,global:!0,worldExtent:b_,getPointResolution:function(n,i){return n/Math.cosh(i[1]/Hi)}})}}const Il=[new bn("EPSG:3857"),new bn("EPSG:102100"),new bn("EPSG:102113"),new bn("EPSG:900913"),new bn("http://www.opengis.net/def/crs/EPSG/0/3857"),new bn("http://www.opengis.net/gml/srs/epsg.xml#3857")];function I_(t,e,n,i){const s=t.length;n=n>1?n:2,i=i??n,e===void 0&&(n>2?e=t.slice():e=new Array(s));for(let r=0;r<s;r+=i){e[r]=Xn*t[r]/180;let o=Hi*Math.log(Math.tan(Math.PI*(+t[r+1]+90)/360));o>hs?o=hs:o<-hs&&(o=-hs),e[r+1]=o}return e}function A_(t,e,n,i){const s=t.length;n=n>1?n:2,i=i??n,e===void 0&&(n>2?e=t.slice():e=new Array(s));for(let r=0;r<s;r+=i)e[r]=180*t[r]/Xn,e[r+1]=360*Math.atan(Math.exp(t[r+1]/Hi))/Math.PI-90;return e}const S_=6378137,Al=[-180,-90,180,90],M_=Math.PI*S_/180;class fn extends Xu{constructor(e,n){super({code:e,units:"degrees",extent:Al,axisOrientation:n,global:!0,metersPerUnit:M_,worldExtent:Al})}}const Sl=[new fn("CRS:84"),new fn("EPSG:4326","neu"),new fn("urn:ogc:def:crs:OGC:1.3:CRS84"),new fn("urn:ogc:def:crs:OGC:2:84"),new fn("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new fn("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new fn("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let uo={};function P_(t){return uo[t]||uo[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function L_(t,e){uo[t]=e}let Zn={};function Ls(t,e,n){const i=t.getCode(),s=e.getCode();i in Zn||(Zn[i]={}),Zn[i][s]=n}function O_(t,e){let n;return t in Zn&&e in Zn[t]&&(n=Zn[t][e]),n}const Fe={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Ml(t){const e=Rn();for(let n=0,i=t.length;n<i;++n)Cs(e,t[n]);return e}function D_(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function ju(t,e,n){let i,s;return e<t[0]?i=t[0]-e:t[2]<e?i=e-t[2]:i=0,n<t[1]?s=t[1]-n:t[3]<n?s=n-t[3]:s=0,i*i+s*s}function Jo(t,e){return Ku(t,e[0],e[1])}function F_(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function Ku(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function Pl(t,e){const n=t[0],i=t[1],s=t[2],r=t[3],o=e[0],a=e[1];let l=Fe.UNKNOWN;return o<n?l=l|Fe.LEFT:o>s&&(l=l|Fe.RIGHT),a<i?l=l|Fe.BELOW:a>r&&(l=l|Fe.ABOVE),l===Fe.UNKNOWN&&(l=Fe.INTERSECTING),l}function Rn(){return[1/0,1/0,-1/0,-1/0]}function $i(t,e,n,i,s){return s?(s[0]=t,s[1]=e,s[2]=n,s[3]=i,s):[t,e,n,i]}function rr(t){return $i(1/0,1/0,-1/0,-1/0,t)}function N_(t,e){const n=t[0],i=t[1];return $i(n,i,n,i,e)}function k_(t,e,n,i,s){const r=rr(s);return Uu(r,t,e,n,i)}function ho(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function z_(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function Cs(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function Uu(t,e,n,i,s){for(;n<i;n+=s)G_(t,e[n],e[n+1]);return t}function G_(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function Vu(t,e){let n;return n=e(or(t)),n||(n=e(ar(t)),n)||(n=e(lr(t)),n)||(n=e(Cn(t)),n)?n:!1}function Fi(t){let e=0;return cr(t)||(e=Ie(t)*at(t)),e}function or(t){return[t[0],t[1]]}function ar(t){return[t[2],t[1]]}function Jn(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function X_(t,e){let n;if(e==="bottom-left")n=or(t);else if(e==="bottom-right")n=ar(t);else if(e==="top-left")n=Cn(t);else if(e==="top-right")n=lr(t);else throw new Error("Invalid corner");return n}function fo(t,e,n,i,s){const[r,o,a,l,u,c,h,f]=j_(t,e,n,i);return $i(Math.min(r,a,u,h),Math.min(o,l,c,f),Math.max(r,a,u,h),Math.max(o,l,c,f),s)}function j_(t,e,n,i){const s=e*i[0]/2,r=e*i[1]/2,o=Math.cos(n),a=Math.sin(n),l=s*o,u=s*a,c=r*o,h=r*a,f=t[0],d=t[1];return[f-l+h,d-u-c,f-l-h,d-u+c,f+l-h,d+u+c,f+l+h,d+u-c,f-l+h,d-u-c]}function at(t){return t[3]-t[1]}function Et(t,e,n){const i=n||Rn();return qi(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):rr(i),i}function Cn(t){return[t[0],t[3]]}function lr(t){return[t[2],t[3]]}function Ie(t){return t[2]-t[0]}function qi(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function cr(t){return t[2]<t[0]||t[3]<t[1]}function K_(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function U_(t,e,n){let i=!1;const s=Pl(t,e),r=Pl(t,n);if(s===Fe.INTERSECTING||r===Fe.INTERSECTING)i=!0;else{const o=t[0],a=t[1],l=t[2],u=t[3],c=e[0],h=e[1],f=n[0],d=n[1],_=(d-h)/(f-c);let p,E;r&Fe.ABOVE&&!(s&Fe.ABOVE)&&(p=f-(d-u)/_,i=p>=o&&p<=l),!i&&r&Fe.RIGHT&&!(s&Fe.RIGHT)&&(E=d-(f-l)*_,i=E>=a&&E<=u),!i&&r&Fe.BELOW&&!(s&Fe.BELOW)&&(p=f-(d-a)/_,i=p>=o&&p<=l),!i&&r&Fe.LEFT&&!(s&Fe.LEFT)&&(E=d-(f-o)*_,i=E>=a&&E<=u)}return i}function V_(t,e){const n=e.getExtent(),i=Jn(t);if(e.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){const s=Ie(n),o=Math.floor((i[0]-n[0])/s)*s;t[0]-=o,t[2]-=o}return t}function Yu(t,e,n){if(e.canWrapX()){const i=e.getExtent();if(!isFinite(t[0])||!isFinite(t[2]))return[[i[0],t[1],i[2],t[3]]];V_(t,e);const s=Ie(i);if(Ie(t)>s&&!n)return[[i[0],t[1],i[2],t[3]]];if(t[0]<i[0])return[[t[0]+s,t[1],i[2],t[3]],[i[0],t[1],t[2],t[3]]];if(t[2]>i[2])return[[t[0],t[1],i[2],t[3]],[i[0],t[1],t[2]-s,t[3]]]}return[t]}function Y_(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function Os(t,e){let n=!0;for(let i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function Qo(t,e){const n=Math.cos(e),i=Math.sin(e),s=t[0]*n-t[1]*i,r=t[1]*n+t[0]*i;return t[0]=s,t[1]=r,t}function W_(t,e){return t[0]*=e,t[1]*=e,t}function Z_(t,e){if(e.canWrapX()){const n=Ie(e.getExtent()),i=B_(t,e,n);i&&(t[0]-=i*n)}return t}function B_(t,e,n){const i=e.getExtent();let s=0;return e.canWrapX()&&(t[0]<i[0]||t[0]>i[2])&&(n=n||Ie(i),s=Math.floor((t[0]-i[0])/n)),s}const H_=63710088e-1;function Ll(t,e,n){n=n||H_;const i=Rs(t[1]),s=Rs(e[1]),r=(s-i)/2,o=Rs(e[0]-t[0])/2,a=Math.sin(r)*Math.sin(r)+Math.sin(o)*Math.sin(o)*Math.cos(i)*Math.cos(s);return 2*n*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))}function Wu(...t){console.warn(...t)}let go=!0;function $_(t){go=!1}function ea(t,e){if(e!==void 0){for(let n=0,i=t.length;n<i;++n)e[n]=t[n];e=e}else e=t.slice();return e}function Zu(t,e){if(e!==void 0&&t!==e){for(let n=0,i=t.length;n<i;++n)e[n]=t[n];t=e}return t}function q_(t){L_(t.getCode(),t),Ls(t,t,ea)}function J_(t){t.forEach(q_)}function Ct(t){return typeof t=="string"?P_(t):t||null}function Ol(t,e,n,i){t=Ct(t);let s;const r=t.getPointResolutionFunc();if(r)s=r(e,n);else{const o=t.getUnits();if(o=="degrees"&&!i||i=="degrees")s=e;else{const a=na(t,Ct("EPSG:4326"));if(a===Zu&&o!=="degrees")s=e*t.getMetersPerUnit();else{let u=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];u=a(u,u,2);const c=Ll(u.slice(0,2),u.slice(2,4)),h=Ll(u.slice(4,6),u.slice(6,8));s=(c+h)/2}const l=t.getMetersPerUnit();l!==void 0&&(s/=l)}}return s}function Dl(t){J_(t),t.forEach(function(e){t.forEach(function(n){e!==n&&Ls(e,n,ea)})})}function Q_(t,e,n,i){t.forEach(function(s){e.forEach(function(r){Ls(s,r,n),Ls(r,s,i)})})}function ta(t,e){return t?typeof t=="string"?Ct(t):t:Ct(e)}function Lr(t,e){if(t===e)return!0;const n=t.getUnits()===e.getUnits();return(t.getCode()===e.getCode()||na(t,e)===ea)&&n}function na(t,e){const n=t.getCode(),i=e.getCode();let s=O_(n,i);return s||(s=Zu),s}function Ds(t,e){const n=Ct(t),i=Ct(e);return na(n,i)}function em(t,e,n){return Ds(e,n)(t,void 0,t.length)}function _o(t,e){return t}function Nt(t,e){return go&&!Os(t,[0,0])&&t[0]>=-180&&t[0]<=180&&t[1]>=-90&&t[1]<=90&&(go=!1,Wu("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),t}function tm(t,e){return t}function _n(t,e){return t}function nm(){Dl(Il),Dl(Sl),Q_(Sl,Il,I_,A_)}nm();function Fl(t,e,n){return function(i,s,r,o,a){if(!i)return;if(!s&&!e)return i;const l=e?0:r[0]*s,u=e?0:r[1]*s,c=a?a[0]:0,h=a?a[1]:0;let f=t[0]+l/2+c,d=t[2]-l/2+c,_=t[1]+u/2+h,p=t[3]-u/2+h;f>d&&(f=(d+f)/2,d=f),_>p&&(_=(p+_)/2,p=_);let E=Le(i[0],f,d),v=Le(i[1],_,p);if(o&&n&&s){const y=30*s;E+=-y*Math.log(1+Math.max(0,f-i[0])/y)+y*Math.log(1+Math.max(0,i[0]-d)/y),v+=-y*Math.log(1+Math.max(0,_-i[1])/y)+y*Math.log(1+Math.max(0,i[1]-p)/y)}return[E,v]}}function im(t){return t}function ia(t,e,n,i){const s=Ie(e)/n[0],r=at(e)/n[1];return i?Math.min(t,Math.max(s,r)):Math.min(t,Math.min(s,r))}function sa(t,e,n){let i=Math.min(t,e);const s=50;return i*=Math.log(1+s*Math.max(0,t/e-1))/s+1,n&&(i=Math.max(i,n),i/=Math.log(1+s*Math.max(0,n/t-1))/s+1),Le(i,n/2,e*2)}function sm(t,e,n,i){return e=e!==void 0?e:!0,function(s,r,o,a){if(s!==void 0){const l=t[0],u=t[t.length-1],c=n?ia(l,n,o,i):l;if(a)return e?sa(s,c,u):Le(s,u,c);const h=Math.min(c,s),f=Math.floor(Ho(t,h,r));return t[f]>c&&f<t.length-1?t[f+1]:t[f]}}}function rm(t,e,n,i,s,r){return i=i!==void 0?i:!0,n=n!==void 0?n:0,function(o,a,l,u){if(o!==void 0){const c=s?ia(e,s,l,r):e;if(u)return i?sa(o,c,n):Le(o,n,c);const h=1e-9,f=Math.ceil(Math.log(e/c)/Math.log(t)-h),d=-a*(.5-h)+.5,_=Math.min(c,o),p=Math.floor(Math.log(e/_)/Math.log(t)+d),E=Math.max(f,p),v=e/Math.pow(t,E);return Le(v,n,c)}}}function Nl(t,e,n,i,s){return n=n!==void 0?n:!0,function(r,o,a,l){if(r!==void 0){const u=i?ia(t,i,a,s):t;return!n||!l?Le(r,e,u):sa(r,u,e)}}}function ra(t){if(t!==void 0)return 0}function kl(t){if(t!==void 0)return t}function om(t){const e=2*Math.PI/t;return function(n,i){if(i)return n;if(n!==void 0)return n=Math.floor(n/e+.5)*e,n}}function am(t){const e=Rs(5);return function(n,i){return i||n===void 0?n:Math.abs(n)<=e?0:n}}function Bu(t){return Math.pow(t,3)}function ei(t){return 1-Bu(1-t)}function lm(t){return 3*t*t-2*t*t*t}function cm(t){return t}new Array(6);function Bn(){return[1,0,0,1,0,0]}function ut(t,e){const n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function Ni(t,e,n,i,s,r,o,a){const l=Math.sin(r),u=Math.cos(r);return t[0]=i*u,t[1]=s*l,t[2]=-i*l,t[3]=s*u,t[4]=o*i*u-a*i*l+e,t[5]=o*s*l+a*s*u+n,t}function Hu(t,e){const n=um(e);ve(n!==0,"Transformation matrix cannot be inverted");const i=e[0],s=e[1],r=e[2],o=e[3],a=e[4],l=e[5];return t[0]=o/n,t[1]=-s/n,t[2]=-r/n,t[3]=i/n,t[4]=(r*l-o*a)/n,t[5]=-(i*l-s*a)/n,t}function um(t){return t[0]*t[3]-t[1]*t[2]}const zl=[1e6,1e6,1e6,1e6,2,2];function hm(t){return"matrix("+t.map((n,i)=>Math.round(n*zl[i])/zl[i]).join(", ")+")"}function fm(t,e,n,i,s,r,o){r=r||[],o=o||2;let a=0;for(let l=e;l<n;l+=i){const u=t[l],c=t[l+1];r[a++]=s[0]*u+s[2]*c+s[4],r[a++]=s[1]*u+s[3]*c+s[5];for(let h=2;h<o;h++)r[a++]=t[l+h]}return r&&r.length!=a&&(r.length=a),r}function dm(t,e,n,i,s,r,o){o=o||[];const a=Math.cos(s),l=Math.sin(s),u=r[0],c=r[1];let h=0;for(let f=e;f<n;f+=i){const d=t[f]-u,_=t[f+1]-c;o[h++]=u+d*a-_*l,o[h++]=c+d*l+_*a;for(let p=f+2;p<f+i;++p)o[h++]=t[p]}return o&&o.length!=h&&(o.length=h),o}function gm(t,e,n,i,s,r,o,a){a=a||[];const l=o[0],u=o[1];let c=0;for(let h=e;h<n;h+=i){const f=t[h]-l,d=t[h+1]-u;a[c++]=l+s*f,a[c++]=u+r*d;for(let _=h+2;_<h+i;++_)a[c++]=t[_]}return a&&a.length!=c&&(a.length=c),a}function _m(t,e,n,i,s,r,o){o=o||[];let a=0;for(let l=e;l<n;l+=i){o[a++]=t[l]+s,o[a++]=t[l+1]+r;for(let u=l+2;u<l+i;++u)o[a++]=t[u]}return o&&o.length!=a&&(o.length=a),o}const Gl=Bn();class mm extends Yt{constructor(){super(),this.extent_=Rn(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=p_((e,n,i)=>{if(!i)return this.getSimplifiedGeometry(n);const s=this.clone();return s.applyTransform(i),s.getSimplifiedGeometry(n)})}simplifyTransformed(e,n){return this.simplifyTransformedInternal(this.getRevision(),e,n)}clone(){return ae()}closestPointXY(e,n,i,s){return ae()}containsXY(e,n){const i=this.getClosestPoint([e,n]);return i[0]===e&&i[1]===n}getClosestPoint(e,n){return n=n||[NaN,NaN],this.closestPointXY(e[0],e[1],n,1/0),n}intersectsCoordinate(e){return this.containsXY(e[0],e[1])}computeExtent(e){return ae()}getExtent(e){if(this.extentRevision_!=this.getRevision()){const n=this.computeExtent(this.extent_);(isNaN(n[0])||isNaN(n[1]))&&rr(n),this.extentRevision_=this.getRevision()}return K_(this.extent_,e)}rotate(e,n){ae()}scale(e,n,i){ae()}simplify(e){return this.getSimplifiedGeometry(e*e)}getSimplifiedGeometry(e){return ae()}getType(){return ae()}applyTransform(e){ae()}intersectsExtent(e){return ae()}translate(e,n){ae()}transform(e,n){const i=Ct(e),s=i.getUnits()=="tile-pixels"?function(r,o,a){const l=i.getExtent(),u=i.getWorldExtent(),c=at(u)/at(l);return Ni(Gl,u[0],u[3],c,-c,0,0,0),fm(r,0,r.length,a,Gl,o),Ds(i,n)(r,o,a)}:Ds(i,n);return this.applyTransform(s),this}}class oa extends mm{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(e){return k_(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}getCoordinates(){return ae()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const n=this.getSimplifiedGeometryInternal(e);return n.getFlatCoordinates().length<this.flatCoordinates.length?n:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}getSimplifiedGeometryInternal(e){return this}getStride(){return this.stride}setFlatCoordinates(e,n){this.stride=Xl(e),this.layout=e,this.flatCoordinates=n}setCoordinates(e,n){ae()}setLayout(e,n,i){let s;if(e)s=Xl(e);else{for(let r=0;r<i;++r){if(n.length===0){this.layout="XY",this.stride=2;return}n=n[0]}s=n.length,e=pm(s)}this.layout=e,this.stride=s}applyTransform(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(e,n){const i=this.getFlatCoordinates();if(i){const s=this.getStride();dm(i,0,i.length,s,e,n,i),this.changed()}}scale(e,n,i){n===void 0&&(n=e),i||(i=Jn(this.getExtent()));const s=this.getFlatCoordinates();if(s){const r=this.getStride();gm(s,0,s.length,r,e,n,i,s),this.changed()}}translate(e,n){const i=this.getFlatCoordinates();if(i){const s=this.getStride();_m(i,0,i.length,s,e,n,i),this.changed()}}}function pm(t){let e;return t==2?e="XY":t==3?e="XYZ":t==4&&(e="XYZM"),e}function Xl(t){let e;return t=="XY"?e=2:t=="XYZ"||t=="XYM"?e=3:t=="XYZM"&&(e=4),e}function jl(t,e,n,i,s,r,o){const a=t[e],l=t[e+1],u=t[n]-a,c=t[n+1]-l;let h;if(u===0&&c===0)h=e;else{const f=((s-a)*u+(r-l)*c)/(u*u+c*c);if(f>1)h=n;else if(f>0){for(let d=0;d<i;++d)o[d]=C_(t[e+d],t[n+d],f);o.length=i;return}else h=e}for(let f=0;f<i;++f)o[f]=t[h+f];o.length=i}function $u(t,e,n,i,s){let r=t[e],o=t[e+1];for(e+=i;e<n;e+=i){const a=t[e],l=t[e+1],u=Yn(r,o,a,l);u>s&&(s=u),r=a,o=l}return s}function ym(t,e,n,i,s){for(let r=0,o=n.length;r<o;++r){const a=n[r];s=$u(t,e,a,i,s),e=a}return s}function qu(t,e,n,i,s,r,o,a,l,u,c){if(e==n)return u;let h,f;if(s===0){if(f=Yn(o,a,t[e],t[e+1]),f<u){for(h=0;h<i;++h)l[h]=t[e+h];return l.length=i,f}return u}c=c||[NaN,NaN];let d=e+i;for(;d<n;)if(jl(t,d-i,d,i,o,a,c),f=Yn(o,a,c[0],c[1]),f<u){for(u=f,h=0;h<i;++h)l[h]=c[h];l.length=i,d+=i}else d+=i*Math.max((Math.sqrt(f)-Math.sqrt(u))/s|0,1);if(jl(t,n-i,e,i,o,a,c),f=Yn(o,a,c[0],c[1]),f<u){for(u=f,h=0;h<i;++h)l[h]=c[h];l.length=i}return u}function Em(t,e,n,i,s,r,o,a,l,u,c){c=c||[NaN,NaN];for(let h=0,f=n.length;h<f;++h){const d=n[h];u=qu(t,e,d,i,s,r,o,a,l,u,c),e=d}return u}function vm(t,e,n,i){for(let s=0,r=n.length;s<r;++s)t[e++]=n[s];return e}function Ju(t,e,n,i){for(let s=0,r=n.length;s<r;++s){const o=n[s];for(let a=0;a<i;++a)t[e++]=o[a]}return e}function wm(t,e,n,i,s){s=s||[];let r=0;for(let o=0,a=n.length;o<a;++o){const l=Ju(t,e,n[o],i);s[r++]=l,e=l}return s.length=r,s}function Rm(t,e,n,i,s,r,o){const a=(n-e)/i;if(a<3){for(;e<n;e+=i)r[o++]=t[e],r[o++]=t[e+1];return o}const l=new Array(a);l[0]=1,l[a-1]=1;const u=[e,n-i];let c=0;for(;u.length>0;){const h=u.pop(),f=u.pop();let d=0;const _=t[f],p=t[f+1],E=t[h],v=t[h+1];for(let y=f+i;y<h;y+=i){const x=t[y],R=t[y+1],I=w_(x,R,_,p,E,v);I>d&&(c=y,d=I)}d>s&&(l[(c-e)/i]=1,f+i<c&&u.push(f,c),c+i<h&&u.push(c,h))}for(let h=0;h<a;++h)l[h]&&(r[o++]=t[e+h*i],r[o++]=t[e+h*i+1]);return o}function In(t,e){return e*Math.round(t/e)}function Cm(t,e,n,i,s,r,o){if(e==n)return o;let a=In(t[e],s),l=In(t[e+1],s);e+=i,r[o++]=a,r[o++]=l;let u,c;do if(u=In(t[e],s),c=In(t[e+1],s),e+=i,e==n)return r[o++]=u,r[o++]=c,o;while(u==a&&c==l);for(;e<n;){const h=In(t[e],s),f=In(t[e+1],s);if(e+=i,h==u&&f==c)continue;const d=u-a,_=c-l,p=h-a,E=f-l;if(d*E==_*p&&(d<0&&p<d||d==p||d>0&&p>d)&&(_<0&&E<_||_==E||_>0&&E>_)){u=h,c=f;continue}r[o++]=u,r[o++]=c,a=u,l=c,u=h,c=f}return r[o++]=u,r[o++]=c,o}function xm(t,e,n,i,s,r,o,a){for(let l=0,u=n.length;l<u;++l){const c=n[l];o=Cm(t,e,c,i,s,r,o),a.push(o),e=c}return o}function Qu(t,e,n,i,s){s=s!==void 0?s:[];let r=0;for(let o=e;o<n;o+=i)s[r++]=t.slice(o,o+i);return s.length=r,s}function Tm(t,e,n,i,s){s=s!==void 0?s:[];let r=0;for(let o=0,a=n.length;o<a;++o){const l=n[o];s[r++]=Qu(t,e,l,i,s[r]),e=l}return s.length=r,s}function eh(t,e,n,i){let s=0;const r=t[n-i],o=t[n-i+1];let a=0,l=0;for(;e<n;e+=i){const u=t[e]-r,c=t[e+1]-o;s+=l*u-a*c,a=u,l=c}return s/2}function bm(t,e,n,i){let s=0;for(let r=0,o=n.length;r<o;++r){const a=n[r];s+=eh(t,e,a,i),e=a}return s}class ki extends oa{constructor(e,n){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,n!==void 0&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}clone(){return new ki(this.flatCoordinates.slice(),this.layout)}closestPointXY(e,n,i,s){return s<ju(this.getExtent(),e,n)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt($u(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),qu(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,n,i,s))}getArea(){return eh(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return Qu(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(e){const n=[];return n.length=Rm(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,n,0),new ki(n,"XY")}getType(){return"LinearRing"}intersectsExtent(e){return!1}setCoordinates(e,n){this.setLayout(n,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Ju(this.flatCoordinates,0,e,this.stride),this.changed()}}class aa extends oa{constructor(e,n){super(),this.setCoordinates(e,n)}clone(){const e=new aa(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}closestPointXY(e,n,i,s){const r=this.flatCoordinates,o=Yn(e,n,r[0],r[1]);if(o<s){const a=this.stride;for(let l=0;l<a;++l)i[l]=r[l];return i.length=a,o}return s}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(e){return N_(this.flatCoordinates,e)}getType(){return"Point"}intersectsExtent(e){return Ku(e,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(e,n){this.setLayout(n,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=vm(this.flatCoordinates,0,e,this.stride),this.changed()}}function Im(t,e,n,i,s){return!Vu(s,function(o){return!mn(t,e,n,i,o[0],o[1])})}function mn(t,e,n,i,s,r){let o=0,a=t[n-i],l=t[n-i+1];for(;e<n;e+=i){const u=t[e],c=t[e+1];l<=r?c>r&&(u-a)*(r-l)-(s-a)*(c-l)>0&&o++:c<=r&&(u-a)*(r-l)-(s-a)*(c-l)<0&&o--,a=u,l=c}return o!==0}function th(t,e,n,i,s,r){if(n.length===0||!mn(t,e,n[0],i,s,r))return!1;for(let o=1,a=n.length;o<a;++o)if(mn(t,n[o-1],n[o],i,s,r))return!1;return!0}function Am(t,e,n,i,s,r,o){let a,l,u,c,h,f,d;const _=s[r+1],p=[];for(let y=0,x=n.length;y<x;++y){const R=n[y];for(c=t[R-i],f=t[R-i+1],a=e;a<R;a+=i)h=t[a],d=t[a+1],(_<=f&&d<=_||f<=_&&_<=d)&&(u=(_-f)/(d-f)*(h-c)+c,p.push(u)),c=h,f=d}let E=NaN,v=-1/0;for(p.sort(er),c=p[0],a=1,l=p.length;a<l;++a){h=p[a];const y=Math.abs(h-c);y>v&&(u=(c+h)/2,th(t,e,n,i,u,_)&&(E=u,v=y)),c=h}return isNaN(E)&&(E=s[r]),[E,_,v]}function Sm(t,e,n,i,s){let r;for(e+=i;e<n;e+=i)if(r=s(t.slice(e-i,e),t.slice(e,e+i)),r)return r;return!1}function nh(t,e,n,i,s){const r=Uu(Rn(),t,e,n,i);return qi(s,r)?F_(s,r)||r[0]>=s[0]&&r[2]<=s[2]||r[1]>=s[1]&&r[3]<=s[3]?!0:Sm(t,e,n,i,function(o,a){return U_(s,o,a)}):!1}function ih(t,e,n,i,s){return!!(nh(t,e,n,i,s)||mn(t,e,n,i,s[0],s[1])||mn(t,e,n,i,s[0],s[3])||mn(t,e,n,i,s[2],s[1])||mn(t,e,n,i,s[2],s[3]))}function Mm(t,e,n,i,s){if(!ih(t,e,n[0],i,s))return!1;if(n.length===1)return!0;for(let r=1,o=n.length;r<o;++r)if(Im(t,n[r-1],n[r],i,s)&&!nh(t,n[r-1],n[r],i,s))return!1;return!0}function Pm(t,e,n,i){for(;e<n-i;){for(let s=0;s<i;++s){const r=t[e+s];t[e+s]=t[n-i+s],t[n-i+s]=r}e+=i,n-=i}}function sh(t,e,n,i){let s=0,r=t[n-i],o=t[n-i+1];for(;e<n;e+=i){const a=t[e],l=t[e+1];s+=(a-r)*(l+o),r=a,o=l}return s===0?void 0:s>0}function Lm(t,e,n,i,s){s=s!==void 0?s:!1;for(let r=0,o=n.length;r<o;++r){const a=n[r],l=sh(t,e,a,i);if(r===0){if(s&&l||!s&&!l)return!1}else if(s&&!l||!s&&l)return!1;e=a}return!0}function Kl(t,e,n,i,s){s=s!==void 0?s:!1;for(let r=0,o=n.length;r<o;++r){const a=n[r],l=sh(t,e,a,i);(r===0?s&&l||!s&&!l:s&&!l||!s&&l)&&Pm(t,e,a,i),e=a}return e}class zi extends oa{constructor(e,n,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,n!==void 0&&i?(this.setFlatCoordinates(n,e),this.ends_=i):this.setCoordinates(e,n)}appendLinearRing(e){this.flatCoordinates?__(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const e=new zi(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}closestPointXY(e,n,i,s){return s<ju(this.getExtent(),e,n)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ym(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Em(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,n,i,s))}containsXY(e,n){return th(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,n)}getArea(){return bm(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(e){let n;return e!==void 0?(n=this.getOrientedFlatCoordinates().slice(),Kl(n,0,this.ends_,this.stride,e)):n=this.flatCoordinates,Tm(n,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const e=Jn(this.getExtent());this.flatInteriorPoint_=Am(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new aa(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(e){return e<0||this.ends_.length<=e?null:new ki(this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]),this.layout)}getLinearRings(){const e=this.layout,n=this.flatCoordinates,i=this.ends_,s=[];let r=0;for(let o=0,a=i.length;o<a;++o){const l=i[o],u=new ki(n.slice(r,l),e);s.push(u),r=l}return s}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const e=this.flatCoordinates;Lm(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Kl(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(e){const n=[],i=[];return n.length=xm(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),n,0,i),new zi(n,"XY",i)}getType(){return"Polygon"}intersectsExtent(e){return Mm(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}setCoordinates(e,n){this.setLayout(n,e,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=wm(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}function Ul(t){if(cr(t))throw new Error("Cannot create polygon from empty extent");const e=t[0],n=t[1],i=t[2],s=t[3],r=[e,n,e,s,i,s,i,n,e,n];return new zi(r,"XY",[r.length])}const Or=0;class St extends Yt{constructor(e){super(),this.on,this.once,this.un,e=Object.assign({},e),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=ta(e.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,e.projection&&$_(),e.center&&(e.center=Nt(e.center,this.projection_)),e.extent&&(e.extent=_n(e.extent,this.projection_)),this.applyOptions_(e)}applyOptions_(e){const n=Object.assign({},e);for(const a in _t)delete n[a];this.setProperties(n,!0);const i=Dm(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;const s=Om(e),r=i.constraint,o=Fm(e);this.constraints_={center:s,resolution:r,rotation:o},this.setRotation(e.rotation!==void 0?e.rotation:0),this.setCenterInternal(e.center!==void 0?e.center:null),e.resolution!==void 0?this.setResolution(e.resolution):e.zoom!==void 0&&this.setZoom(e.zoom)}get padding(){return this.padding_}set padding(e){let n=this.padding_;this.padding_=e;const i=this.getCenterInternal();if(i){const s=e||[0,0,0,0];n=n||[0,0,0,0];const r=this.getResolution(),o=r/2*(s[3]-n[3]+n[1]-s[1]),a=r/2*(s[0]-n[0]+n[2]-s[2]);this.setCenterInternal([i[0]+o,i[1]-a])}}getUpdatedOptions_(e){const n=this.getProperties();return n.resolution!==void 0?n.resolution=this.getResolution():n.zoom=this.getZoom(),n.center=this.getCenterInternal(),n.rotation=this.getRotation(),Object.assign({},n,e)}animate(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const n=new Array(arguments.length);for(let i=0;i<n.length;++i){let s=arguments[i];s.center&&(s=Object.assign({},s),s.center=Nt(s.center,this.getProjection())),s.anchor&&(s=Object.assign({},s),s.anchor=Nt(s.anchor,this.getProjection())),n[i]=s}this.animateInternal.apply(this,n)}animateInternal(e){let n=arguments.length,i;n>1&&typeof arguments[n-1]=="function"&&(i=arguments[n-1],--n);let s=0;for(;s<n&&!this.isDef();++s){const c=arguments[s];c.center&&this.setCenterInternal(c.center),c.zoom!==void 0?this.setZoom(c.zoom):c.resolution&&this.setResolution(c.resolution),c.rotation!==void 0&&this.setRotation(c.rotation)}if(s===n){i&&fs(i,!0);return}let r=Date.now(),o=this.targetCenter_.slice(),a=this.targetResolution_,l=this.targetRotation_;const u=[];for(;s<n;++s){const c=arguments[s],h={start:r,complete:!1,anchor:c.anchor,duration:c.duration!==void 0?c.duration:1e3,easing:c.easing||lm,callback:i};if(c.center&&(h.sourceCenter=o,h.targetCenter=c.center.slice(),o=h.targetCenter),c.zoom!==void 0?(h.sourceResolution=a,h.targetResolution=this.getResolutionForZoom(c.zoom),a=h.targetResolution):c.resolution&&(h.sourceResolution=a,h.targetResolution=c.resolution,a=h.targetResolution),c.rotation!==void 0){h.sourceRotation=l;const f=Wn(c.rotation-l+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=l+f,l=h.targetRotation}Nm(h)?h.complete=!0:r+=h.duration,u.push(h)}this.animations_.push(u),this.setHint(ct.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[ct.ANIMATING]>0}getInteracting(){return this.hints_[ct.INTERACTING]>0}cancelAnimations(){this.setHint(ct.ANIMATING,-this.hints_[ct.ANIMATING]);let e;for(let n=0,i=this.animations_.length;n<i;++n){const s=this.animations_[n];if(s[0].callback&&fs(s[0].callback,!1),!e)for(let r=0,o=s.length;r<o;++r){const a=s[r];if(!a.complete){e=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const e=Date.now();let n=!1;for(let i=this.animations_.length-1;i>=0;--i){const s=this.animations_[i];let r=!0;for(let o=0,a=s.length;o<a;++o){const l=s[o];if(l.complete)continue;const u=e-l.start;let c=l.duration>0?u/l.duration:1;c>=1?(l.complete=!0,c=1):r=!1;const h=l.easing(c);if(l.sourceCenter){const f=l.sourceCenter[0],d=l.sourceCenter[1],_=l.targetCenter[0],p=l.targetCenter[1];this.nextCenter_=l.targetCenter;const E=f+h*(_-f),v=d+h*(p-d);this.targetCenter_=[E,v]}if(l.sourceResolution&&l.targetResolution){const f=h===1?l.targetResolution:l.sourceResolution+h*(l.targetResolution-l.sourceResolution);if(l.anchor){const d=this.getViewportSize_(this.getRotation()),_=this.constraints_.resolution(f,0,d,!0);this.targetCenter_=this.calculateCenterZoom(_,l.anchor)}this.nextResolution_=l.targetResolution,this.targetResolution_=f,this.applyTargetState_(!0)}if(l.sourceRotation!==void 0&&l.targetRotation!==void 0){const f=h===1?Wn(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+h*(l.targetRotation-l.sourceRotation);if(l.anchor){const d=this.constraints_.rotation(f,!0);this.targetCenter_=this.calculateCenterRotate(d,l.anchor)}this.nextRotation_=l.targetRotation,this.targetRotation_=f}if(this.applyTargetState_(!0),n=!0,!l.complete)break}if(r){this.animations_[i]=null,this.setHint(ct.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const o=s[0].callback;o&&fs(o,!0)}}this.animations_=this.animations_.filter(Boolean),n&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(e,n){let i;const s=this.getCenterInternal();return s!==void 0&&(i=[s[0]-n[0],s[1]-n[1]],Qo(i,e-this.getRotation()),Y_(i,n)),i}calculateCenterZoom(e,n){let i;const s=this.getCenterInternal(),r=this.getResolution();if(s!==void 0&&r!==void 0){const o=n[0]-e*(n[0]-s[0])/r,a=n[1]-e*(n[1]-s[1])/r;i=[o,a]}return i}getViewportSize_(e){const n=this.viewportSize_;if(e){const i=n[0],s=n[1];return[Math.abs(i*Math.cos(e))+Math.abs(s*Math.sin(e)),Math.abs(i*Math.sin(e))+Math.abs(s*Math.cos(e))]}return n}setViewportSize(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const e=this.getCenterInternal();return e&&_o(e,this.getProjection())}getCenterInternal(){return this.get(_t.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(e){return e!==void 0?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}calculateExtent(e){const n=this.calculateExtentInternal(e);return tm(n,this.getProjection())}calculateExtentInternal(e){e=e||this.getViewportSizeMinusPadding_();const n=this.getCenterInternal();ve(n,"The view center is not defined");const i=this.getResolution();ve(i!==void 0,"The view resolution is not defined");const s=this.getRotation();return ve(s!==void 0,"The view rotation is not defined"),fo(n,i,s,e)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}setConstrainResolution(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}getProjection(){return this.projection_}getResolution(){return this.get(_t.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(e,n){return this.getResolutionForExtentInternal(_n(e,this.getProjection()),n)}getResolutionForExtentInternal(e,n){n=n||this.getViewportSizeMinusPadding_();const i=Ie(e)/n[0],s=at(e)/n[1];return Math.max(i,s)}getResolutionForValueFunction(e){e=e||2;const n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,s=Math.log(n/i)/Math.log(e);return function(r){return n/Math.pow(e,r*s)}}getRotation(){return this.get(_t.ROTATION)}getValueForResolutionFunction(e){const n=Math.log(e||2),i=this.getConstrainedResolution(this.maxResolution_),s=this.minResolution_,r=Math.log(i/s)/n;return function(o){return Math.log(i/o)/n/r}}getViewportSizeMinusPadding_(e){let n=this.getViewportSize_(e);const i=this.padding_;return i&&(n=[n[0]-i[1]-i[3],n[1]-i[0]-i[2]]),n}getState(){const e=this.getProjection(),n=this.getResolution(),i=this.getRotation();let s=this.getCenterInternal();const r=this.padding_;if(r){const o=this.getViewportSizeMinusPadding_();s=Dr(s,this.getViewportSize_(),[o[0]/2+r[3],o[1]/2+r[0]],n,i)}return{center:s.slice(0),projection:e!==void 0?e:null,resolution:n,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let e;const n=this.getResolution();return n!==void 0&&(e=this.getZoomForResolution(n)),e}getZoomForResolution(e){let n=this.minZoom_||0,i,s;if(this.resolutions_){const r=Ho(this.resolutions_,e,1);n=r,i=this.resolutions_[r],r==this.resolutions_.length-1?s=2:s=i/this.resolutions_[r+1]}else i=this.maxResolution_,s=this.zoomFactor_;return n+Math.log(i/e)/Math.log(s)}getResolutionForZoom(e){var n;if((n=this.resolutions_)!=null&&n.length){if(this.resolutions_.length===1)return this.resolutions_[0];const i=Le(Math.floor(e),0,this.resolutions_.length-2),s=this.resolutions_[i]/this.resolutions_[i+1];return this.resolutions_[i]/Math.pow(s,Le(e-i,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}fit(e,n){let i;if(ve(Array.isArray(e)||typeof e.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(e)){ve(!cr(e),"Cannot fit empty extent provided as `geometry`");const s=_n(e,this.getProjection());i=Ul(s)}else if(e.getType()==="Circle"){const s=_n(e.getExtent(),this.getProjection());i=Ul(s),i.rotate(this.getRotation(),Jn(s))}else i=e;this.fitInternal(i,n)}rotatedExtentForGeometry(e){const n=this.getRotation(),i=Math.cos(n),s=Math.sin(-n),r=e.getFlatCoordinates(),o=e.getStride();let a=1/0,l=1/0,u=-1/0,c=-1/0;for(let h=0,f=r.length;h<f;h+=o){const d=r[h]*i-r[h+1]*s,_=r[h]*s+r[h+1]*i;a=Math.min(a,d),l=Math.min(l,_),u=Math.max(u,d),c=Math.max(c,_)}return[a,l,u,c]}fitInternal(e,n){n=n||{};let i=n.size;i||(i=this.getViewportSizeMinusPadding_());const s=n.padding!==void 0?n.padding:[0,0,0,0],r=n.nearest!==void 0?n.nearest:!1;let o;n.minResolution!==void 0?o=n.minResolution:n.maxZoom!==void 0?o=this.getResolutionForZoom(n.maxZoom):o=0;const a=this.rotatedExtentForGeometry(e);let l=this.getResolutionForExtentInternal(a,[i[0]-s[1]-s[3],i[1]-s[0]-s[2]]);l=isNaN(l)?o:Math.max(l,o),l=this.getConstrainedResolution(l,r?0:1);const u=this.getRotation(),c=Math.sin(u),h=Math.cos(u),f=Jn(a);f[0]+=(s[1]-s[3])/2*l,f[1]+=(s[0]-s[2])/2*l;const d=f[0]*h-f[1]*c,_=f[1]*h+f[0]*c,p=this.getConstrainedCenter([d,_],l),E=n.callback?n.callback:Ms;n.duration!==void 0?this.animateInternal({resolution:l,center:p,duration:n.duration,easing:n.easing},E):(this.targetResolution_=l,this.targetCenter_=p,this.applyTargetState_(!1,!0),fs(E,!0))}centerOn(e,n,i){this.centerOnInternal(Nt(e,this.getProjection()),n,i)}centerOnInternal(e,n,i){this.setCenterInternal(Dr(e,n,i,this.getResolution(),this.getRotation()))}calculateCenterShift(e,n,i,s){let r;const o=this.padding_;if(o&&e){const a=this.getViewportSizeMinusPadding_(-i),l=Dr(e,s,[a[0]/2+o[3],a[1]/2+o[0]],n,i);r=[e[0]-l[0],e[1]-l[1]]}return r}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(e){const n=_o(this.targetCenter_,this.getProjection());this.setCenter([n[0]+e[0],n[1]+e[1]])}adjustCenterInternal(e){const n=this.targetCenter_;this.setCenterInternal([n[0]+e[0],n[1]+e[1]])}adjustResolution(e,n){n=n&&Nt(n,this.getProjection()),this.adjustResolutionInternal(e,n)}adjustResolutionInternal(e,n){const i=this.getAnimating()||this.getInteracting(),s=this.getViewportSize_(this.getRotation()),r=this.constraints_.resolution(this.targetResolution_*e,0,s,i);n&&(this.targetCenter_=this.calculateCenterZoom(r,n)),this.targetResolution_*=e,this.applyTargetState_()}adjustZoom(e,n){this.adjustResolution(Math.pow(this.zoomFactor_,-e),n)}adjustRotation(e,n){n&&(n=Nt(n,this.getProjection())),this.adjustRotationInternal(e,n)}adjustRotationInternal(e,n){const i=this.getAnimating()||this.getInteracting(),s=this.constraints_.rotation(this.targetRotation_+e,i);n&&(this.targetCenter_=this.calculateCenterRotate(s,n)),this.targetRotation_+=e,this.applyTargetState_()}setCenter(e){this.setCenterInternal(e&&Nt(e,this.getProjection()))}setCenterInternal(e){this.targetCenter_=e,this.applyTargetState_()}setHint(e,n){return this.hints_[e]+=n,this.changed(),this.hints_[e]}setResolution(e){this.targetResolution_=e,this.applyTargetState_()}setRotation(e){this.targetRotation_=e,this.applyTargetState_()}setZoom(e){this.setResolution(this.getResolutionForZoom(e))}applyTargetState_(e,n){const i=this.getAnimating()||this.getInteracting()||n,s=this.constraints_.rotation(this.targetRotation_,i),r=this.getViewportSize_(s),o=this.constraints_.resolution(this.targetResolution_,0,r,i),a=this.constraints_.center(this.targetCenter_,o,r,i,this.calculateCenterShift(this.targetCenter_,o,s,r));this.get(_t.ROTATION)!==s&&this.set(_t.ROTATION,s),this.get(_t.RESOLUTION)!==o&&(this.set(_t.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),(!a||!this.get(_t.CENTER)||!Os(this.get(_t.CENTER),a))&&this.set(_t.CENTER,a),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(e,n,i){e=e!==void 0?e:200;const s=n||0,r=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(r),a=this.constraints_.resolution(this.targetResolution_,s,o),l=this.constraints_.center(this.targetCenter_,a,o,!1,this.calculateCenterShift(this.targetCenter_,a,r,o));if(e===0&&!this.cancelAnchor_){this.targetResolution_=a,this.targetRotation_=r,this.targetCenter_=l,this.applyTargetState_();return}i=i||(e===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==a||this.getRotation()!==r||!this.getCenterInternal()||!Os(this.getCenterInternal(),l))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:l,resolution:a,duration:e,easing:ei,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(ct.INTERACTING,1)}endInteraction(e,n,i){i=i&&Nt(i,this.getProjection()),this.endInteractionInternal(e,n,i)}endInteractionInternal(e,n,i){this.getInteracting()&&(this.setHint(ct.INTERACTING,-1),this.resolveConstraints(e,n,i))}getConstrainedCenter(e,n){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,n||this.getResolution(),i)}getConstrainedZoom(e,n){const i=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(i,n))}getConstrainedResolution(e,n){n=n||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,n,i)}}function fs(t,e){setTimeout(function(){t(e)},0)}function Om(t){if(t.extent!==void 0){const n=t.smoothExtentConstraint!==void 0?t.smoothExtentConstraint:!0;return Fl(t.extent,t.constrainOnlyCenter,n)}const e=ta(t.projection,"EPSG:3857");if(t.multiWorld!==!0&&e.isGlobal()){const n=e.getExtent().slice();return n[0]=-1/0,n[2]=1/0,Fl(n,!1,!1)}return im}function Dm(t){let e,n,i,o=t.minZoom!==void 0?t.minZoom:Or,a=t.maxZoom!==void 0?t.maxZoom:28;const l=t.zoomFactor!==void 0?t.zoomFactor:2,u=t.multiWorld!==void 0?t.multiWorld:!1,c=t.smoothResolutionConstraint!==void 0?t.smoothResolutionConstraint:!0,h=t.showFullExtent!==void 0?t.showFullExtent:!1,f=ta(t.projection,"EPSG:3857"),d=f.getExtent();let _=t.constrainOnlyCenter,p=t.extent;if(!u&&!p&&f.isGlobal()&&(_=!1,p=d),t.resolutions!==void 0){const E=t.resolutions;n=E[o],i=E[a]!==void 0?E[a]:E[E.length-1],t.constrainResolution?e=sm(E,c,!_&&p,h):e=Nl(n,i,c,!_&&p,h)}else{const v=(d?Math.max(Ie(d),at(d)):360*qo.degrees/f.getMetersPerUnit())/$o/Math.pow(2,Or),y=v/Math.pow(2,28-Or);n=t.maxResolution,n!==void 0?o=0:n=v/Math.pow(l,o),i=t.minResolution,i===void 0&&(t.maxZoom!==void 0?t.maxResolution!==void 0?i=n/Math.pow(l,a):i=v/Math.pow(l,a):i=y),a=o+Math.floor(Math.log(n/i)/Math.log(l)),i=n/Math.pow(l,a-o),t.constrainResolution?e=rm(l,n,i,c,!_&&p,h):e=Nl(n,i,c,!_&&p,h)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:o,zoomFactor:l}}function Fm(t){if(t.enableRotation!==void 0?t.enableRotation:!0){const n=t.constrainRotation;return n===void 0||n===!0?am():n===!1?kl:typeof n=="number"?om(n):kl}return ra}function Nm(t){return!(t.sourceCenter&&t.targetCenter&&!Os(t.sourceCenter,t.targetCenter)||t.sourceResolution!==t.targetResolution||t.sourceRotation!==t.targetRotation)}function Dr(t,e,n,i,s){const r=Math.cos(-s);let o=Math.sin(-s),a=t[0]*r-t[1]*o,l=t[1]*r+t[0]*o;a+=(e[0]/2-n[0])*i,l+=(n[1]-e[1]/2)*i,o=-o;const u=a*r-l*o,c=l*r+a*o;return[u,c]}class ur extends Gu{constructor(e){const n=Object.assign({},e);delete n.source,super(n),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,e.render&&(this.render=e.render),e.map&&this.setMap(e.map),this.addChangeListener(ye.SOURCE,this.handleSourcePropertyChange_);const i=e.source?e.source:null;this.setSource(i)}getLayersArray(e){return e=e||[],e.push(this),e}getLayerStatesArray(e){return e=e||[],e.push(this.getLayerState()),e}getSource(){return this.get(ye.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const e=this.getSource();return e?e.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Ae(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const e=this.getSource();e&&(this.sourceChangeKey_=ge(e,J.CHANGE,this.handleSourceChange_,this),e.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0))),this.changed()}getFeatures(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}getData(e){return!this.renderer_||!this.rendered?null:this.renderer_.getData(e)}isVisible(e){let n;const i=this.getMapInternal();!e&&i&&(e=i.getView()),e instanceof St?n={viewState:e.getState(),extent:e.calculateExtent()}:n=e,!n.layerStatesArray&&i&&(n.layerStatesArray=i.getLayerGroup().getLayerStatesArray());let s;n.layerStatesArray?s=n.layerStatesArray.find(o=>o.layer===this):s=this.getLayerState();const r=this.getExtent();return la(s,n.viewState)&&(!r||qi(r,n.extent))}getAttributions(e){var r;if(!this.isVisible(e))return[];const n=(r=this.getSource())==null?void 0:r.getAttributions();if(!n)return[];const i=e instanceof St?e.getViewStateAndExtent():e;let s=n(i);return Array.isArray(s)||(s=[s]),s}render(e,n){const i=this.getRenderer();return i.prepareFrame(e)?(this.rendered=!0,i.renderFrame(e,n)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(e,n){}renderDeferred(e){const n=this.getRenderer();n&&n.renderDeferred(e)}setMapInternal(e){e||this.unrender(),this.set(ye.MAP,e)}getMapInternal(){return this.get(ye.MAP)}setMap(e){this.mapPrecomposeKey_&&(Ae(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Ae(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=ge(e,Mt.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=ge(this,J.CHANGE,e.render,e),this.changed())}handlePrecompose_(e){const n=e.frameState.layerStatesArray,i=this.getLayerState(!1);ve(!n.some(s=>s.layer===i.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),n.push(i)}setSource(e){this.set(ye.SOURCE,e)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}disposeInternal(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_),this.setSource(null),super.disposeInternal()}}function la(t,e){if(!t.visible)return!1;const n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;const i=e.zoom;return i>t.minZoom&&i<=t.maxZoom}function rh(t,e,n=0,i=t.length-1,s=km){for(;i>n;){if(i-n>600){const l=i-n+1,u=e-n+1,c=Math.log(l),h=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*h*(l-h)/l)*(u-l/2<0?-1:1),d=Math.max(n,Math.floor(e-u*h/l+f)),_=Math.min(i,Math.floor(e+(l-u)*h/l+f));rh(t,e,d,_,s)}const r=t[e];let o=n,a=i;for(oi(t,n,e),s(t[i],r)>0&&oi(t,n,i);o<a;){for(oi(t,o,a),o++,a--;s(t[o],r)<0;)o++;for(;s(t[a],r)>0;)a--}s(t[n],r)===0?oi(t,n,a):(a++,oi(t,a,i)),a<=e&&(n=a+1),e<=a&&(i=a-1)}}function oi(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function km(t,e){return t<e?-1:t>e?1:0}class zm{constructor(e=9){this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(e){let n=this.data;const i=[];if(!gs(e,n))return i;const s=this.toBBox,r=[];for(;n;){for(let o=0;o<n.children.length;o++){const a=n.children[o],l=n.leaf?s(a):a;gs(e,l)&&(n.leaf?i.push(a):Nr(e,l)?this._all(a,i):r.push(a))}n=r.pop()}return i}collides(e){let n=this.data;if(!gs(e,n))return!1;const i=[];for(;n;){for(let s=0;s<n.children.length;s++){const r=n.children[s],o=n.leaf?this.toBBox(r):r;if(gs(e,o)){if(n.leaf||Nr(e,o))return!0;i.push(r)}}n=i.pop()}return!1}load(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(let i=0;i<e.length;i++)this.insert(e[i]);return this}let n=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=n;else if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}return this}insert(e){return e&&this._insert(e,this.data.height-1),this}clear(){return this.data=Nn([]),this}remove(e,n){if(!e)return this;let i=this.data;const s=this.toBBox(e),r=[],o=[];let a,l,u;for(;i||r.length;){if(i||(i=r.pop(),l=r[r.length-1],a=o.pop(),u=!0),i.leaf){const c=Gm(e,i.children,n);if(c!==-1)return i.children.splice(c,1),r.push(i),this._condense(r),this}!u&&!i.leaf&&Nr(i,s)?(r.push(i),o.push(a),a=0,l=i,i=i.children[0]):l?(a++,i=l.children[a],u=!1):i=null}return this}toBBox(e){return e}compareMinX(e,n){return e.minX-n.minX}compareMinY(e,n){return e.minY-n.minY}toJSON(){return this.data}fromJSON(e){return this.data=e,this}_all(e,n){const i=[];for(;e;)e.leaf?n.push(...e.children):i.push(...e.children),e=i.pop();return n}_build(e,n,i,s){const r=i-n+1;let o=this._maxEntries,a;if(r<=o)return a=Nn(e.slice(n,i+1)),An(a,this.toBBox),a;s||(s=Math.ceil(Math.log(r)/Math.log(o)),o=Math.ceil(r/Math.pow(o,s-1))),a=Nn([]),a.leaf=!1,a.height=s;const l=Math.ceil(r/o),u=l*Math.ceil(Math.sqrt(o));Vl(e,n,i,u,this.compareMinX);for(let c=n;c<=i;c+=u){const h=Math.min(c+u-1,i);Vl(e,c,h,l,this.compareMinY);for(let f=c;f<=h;f+=l){const d=Math.min(f+l-1,h);a.children.push(this._build(e,f,d,s-1))}}return An(a,this.toBBox),a}_chooseSubtree(e,n,i,s){for(;s.push(n),!(n.leaf||s.length-1===i);){let r=1/0,o=1/0,a;for(let l=0;l<n.children.length;l++){const u=n.children[l],c=Fr(u),h=Km(e,u)-c;h<o?(o=h,r=c<r?c:r,a=u):h===o&&c<r&&(r=c,a=u)}n=a||n.children[0]}return n}_insert(e,n,i){const s=i?e:this.toBBox(e),r=[],o=this._chooseSubtree(s,this.data,n,r);for(o.children.push(e),fi(o,s);n>=0&&r[n].children.length>this._maxEntries;)this._split(r,n),n--;this._adjustParentBBoxes(s,r,n)}_split(e,n){const i=e[n],s=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,s);const o=this._chooseSplitIndex(i,r,s),a=Nn(i.children.splice(o,i.children.length-o));a.height=i.height,a.leaf=i.leaf,An(i,this.toBBox),An(a,this.toBBox),n?e[n-1].children.push(a):this._splitRoot(i,a)}_splitRoot(e,n){this.data=Nn([e,n]),this.data.height=e.height+1,this.data.leaf=!1,An(this.data,this.toBBox)}_chooseSplitIndex(e,n,i){let s,r=1/0,o=1/0;for(let a=n;a<=i-n;a++){const l=hi(e,0,a,this.toBBox),u=hi(e,a,i,this.toBBox),c=Um(l,u),h=Fr(l)+Fr(u);c<r?(r=c,s=a,o=h<o?h:o):c===r&&h<o&&(o=h,s=a)}return s||i-n}_chooseSplitAxis(e,n,i){const s=e.leaf?this.compareMinX:Xm,r=e.leaf?this.compareMinY:jm,o=this._allDistMargin(e,n,i,s),a=this._allDistMargin(e,n,i,r);o<a&&e.children.sort(s)}_allDistMargin(e,n,i,s){e.children.sort(s);const r=this.toBBox,o=hi(e,0,n,r),a=hi(e,i-n,i,r);let l=ds(o)+ds(a);for(let u=n;u<i-n;u++){const c=e.children[u];fi(o,e.leaf?r(c):c),l+=ds(o)}for(let u=i-n-1;u>=n;u--){const c=e.children[u];fi(a,e.leaf?r(c):c),l+=ds(a)}return l}_adjustParentBBoxes(e,n,i){for(let s=i;s>=0;s--)fi(n[s],e)}_condense(e){for(let n=e.length-1,i;n>=0;n--)e[n].children.length===0?n>0?(i=e[n-1].children,i.splice(i.indexOf(e[n]),1)):this.clear():An(e[n],this.toBBox)}}function Gm(t,e,n){if(!n)return e.indexOf(t);for(let i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function An(t,e){hi(t,0,t.children.length,e,t)}function hi(t,e,n,i,s){s||(s=Nn(null)),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(let r=e;r<n;r++){const o=t.children[r];fi(s,t.leaf?i(o):o)}return s}function fi(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function Xm(t,e){return t.minX-e.minX}function jm(t,e){return t.minY-e.minY}function Fr(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function ds(t){return t.maxX-t.minX+(t.maxY-t.minY)}function Km(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function Um(t,e){const n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),s=Math.min(t.maxX,e.maxX),r=Math.min(t.maxY,e.maxY);return Math.max(0,s-n)*Math.max(0,r-i)}function Nr(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function gs(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Nn(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Vl(t,e,n,i,s){const r=[e,n];for(;r.length;){if(n=r.pop(),e=r.pop(),n-e<=i)continue;const o=e+Math.ceil((n-e)/i/2)*i;rh(t,o,e,n,s),r.push(e,o,o,n)}}const oe={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function Yl(t){return t[0]>0&&t[1]>0}function Vm(t,e,n){return n===void 0&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function tt(t,e){return Array.isArray(t)?t:(e===void 0?e=[t,t]:(e[0]=t,e[1]=t),e)}class hr{constructor(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale,this.scaleArray_=tt(e.scale),this.displacement_=e.displacement,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new hr({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return ae()}getImage(e){return ae()}getHitDetectionImage(){return ae()}getPixelRatio(e){return 1}getImageState(){return ae()}getImageSize(){return ae()}getOrigin(){return ae()}getSize(){return ae()}setDisplacement(e){this.displacement_=e}setOpacity(e){this.opacity_=e}setRotateWithView(e){this.rotateWithView_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=tt(e)}listenImageChange(e){ae()}load(){ae()}unlistenImageChange(e){ae()}ready(){return Promise.resolve()}}const Gi={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]};var Ne={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"]};Ne.whitepoint={2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}};Ne.max=Ne.whitepoint[2].D65;Ne.rgb=function(t,e){e=e||Ne.whitepoint[2].E;var n=t[0]/e[0],i=t[1]/e[1],s=t[2]/e[2],r,o,a;return r=n*3.240969941904521+i*-1.537383177570093+s*-.498610760293,o=n*-.96924363628087+i*1.87596750150772+s*.041555057407175,a=n*.055630079696993+i*-.20397695888897+s*1.056971514242878,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r=r*12.92,o=o>.0031308?1.055*Math.pow(o,1/2.4)-.055:o=o*12.92,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=a*12.92,r=Math.min(Math.max(0,r),1),o=Math.min(Math.max(0,o),1),a=Math.min(Math.max(0,a),1),[r*255,o*255,a*255]};Gi.xyz=function(t,e){var n=t[0]/255,i=t[1]/255,s=t[2]/255;n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,s=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92;var r=n*.41239079926595+i*.35758433938387+s*.18048078840183,o=n*.21263900587151+i*.71516867876775+s*.072192315360733,a=n*.019330818715591+i*.11919477979462+s*.95053215224966;return e=e||Ne.whitepoint[2].E,[r*e[0],o*e[1],a*e[2]]};const ca={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(t,e,n){var i,s,r,o,a,l,u,c,h,f,d,_,p;if(r=t[0],o=t[1],a=t[2],r===0)return[0,0,0];var E=.0011070564598794539;return e=e||"D65",n=n||2,h=Ne.whitepoint[n][e][0],f=Ne.whitepoint[n][e][1],d=Ne.whitepoint[n][e][2],_=4*h/(h+15*f+3*d),p=9*f/(h+15*f+3*d),i=o/(13*r)+_||0,s=a/(13*r)+p||0,u=r>8?f*Math.pow((r+16)/116,3):f*r*E,l=u*9*i/(4*s)||0,c=u*(12-3*i-20*s)/(4*s)||0,[l,u,c]}};Ne.luv=function(t,e,n){var i,s,r,o,a,l,u,c,h,f,d,_,p,E=.008856451679035631,v=903.2962962962961;e=e||"D65",n=n||2,h=Ne.whitepoint[n][e][0],f=Ne.whitepoint[n][e][1],d=Ne.whitepoint[n][e][2],_=4*h/(h+15*f+3*d),p=9*f/(h+15*f+3*d),l=t[0],u=t[1],c=t[2],i=4*l/(l+15*u+3*c)||0,s=9*u/(l+15*u+3*c)||0;var y=u/f;return r=y<=E?v*y:116*Math.pow(y,1/3)-16,o=13*r*(i-_),a=13*r*(s-p),[r,o,a]};var oh={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(t){var e=t[0],n=t[1],i=t[2],s,r,o;return o=i/360*2*Math.PI,s=n*Math.cos(o),r=n*Math.sin(o),[e,s,r]},xyz:function(t){return ca.xyz(oh.luv(t))}};ca.lchuv=function(t){var e=t[0],n=t[1],i=t[2],s=Math.sqrt(n*n+i*i),r=Math.atan2(i,n),o=r*360/2/Math.PI;return o<0&&(o+=360),[e,s,o]};Ne.lchuv=function(t){return ca.lchuv(Ne.luv(t))};const Wl={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};var Zl={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function Ym(t){var c,h;var e,n=[],i=1,s;if(typeof t=="number")return{space:"rgb",values:[t>>>16,(t&65280)>>>8,t&255],alpha:1};if(typeof t=="number")return{space:"rgb",values:[t>>>16,(t&65280)>>>8,t&255],alpha:1};if(t=String(t).toLowerCase(),Wl[t])n=Wl[t].slice(),s="rgb";else if(t==="transparent")i=0,s="rgb",n=[0,0,0];else if(t[0]==="#"){var r=t.slice(1),o=r.length,a=o<=4;i=1,a?(n=[parseInt(r[0]+r[0],16),parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16)],o===4&&(i=parseInt(r[3]+r[3],16)/255)):(n=[parseInt(r[0]+r[1],16),parseInt(r[2]+r[3],16),parseInt(r[4]+r[5],16)],o===8&&(i=parseInt(r[6]+r[7],16)/255)),n[0]||(n[0]=0),n[1]||(n[1]=0),n[2]||(n[2]=0),s="rgb"}else if(e=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(t)){var l=e[1];s=l.replace(/a$/,"");var u=s==="cmyk"?4:s==="gray"?1:3;n=e[2].trim().split(/\s*[,\/]\s*|\s+/),s==="color"&&(s=n.shift()),n=n.map(function(f,d){if(f[f.length-1]==="%")return f=parseFloat(f)/100,d===3?f:s==="rgb"?f*255:s[0]==="h"||s[0]==="l"&&!d?f*100:s==="lab"?f*125:s==="lch"?d<2?f*150:f*360:s[0]==="o"&&!d?f:s==="oklab"?f*.4:s==="oklch"?d<2?f*.4:f*360:f;if(s[d]==="h"||d===2&&s[s.length-1]==="h"){if(Zl[f]!==void 0)return Zl[f];if(f.endsWith("deg"))return parseFloat(f);if(f.endsWith("turn"))return parseFloat(f)*360;if(f.endsWith("grad"))return parseFloat(f)*360/400;if(f.endsWith("rad"))return parseFloat(f)*180/Math.PI}return f==="none"?0:parseFloat(f)}),i=n.length>u?n.pop():1}else/[0-9](?:\s|\/|,)/.test(t)&&(n=t.match(/([0-9]+)/g).map(function(f){return parseFloat(f)}),s=((h=(c=t.match(/([a-z])/ig))==null?void 0:c.join(""))==null?void 0:h.toLowerCase())||"rgb");return{space:s,values:n,alpha:i}}const kr={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e=t[0]/360,n=t[1]/100,i=t[2]/100,s,r,o,a,l,u=0;if(n===0)return l=i*255,[l,l,l];for(r=i<.5?i*(1+n):i+n-i*n,s=2*i-r,a=[0,0,0];u<3;)o=e+1/3*-(u-1),o<0?o++:o>1&&o--,l=6*o<1?s+(r-s)*6*o:2*o<1?r:3*o<2?s+(r-s)*(2/3-o)*6:s,a[u++]=l*255;return a}};Gi.hsl=function(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255,s=Math.min(e,n,i),r=Math.max(e,n,i),o=r-s,a,l,u;return r===s?a=0:e===r?a=(n-i)/o:n===r?a=2+(i-e)/o:i===r&&(a=4+(e-n)/o),a=Math.min(a*60,360),a<0&&(a+=360),u=(s+r)/2,r===s?l=0:u<=.5?l=o/(r+s):l=o/(2-r-s),[a,l*100,u*100]};function Wm(t){Array.isArray(t)&&t.raw&&(t=String.raw(...arguments)),t instanceof Number&&(t=+t);var e,n=Ym(t);if(!n.space)return[];const i=n.space[0]==="h"?kr.min:Gi.min,s=n.space[0]==="h"?kr.max:Gi.max;return e=Array(3),e[0]=Math.min(Math.max(n.values[0],i[0]),s[0]),e[1]=Math.min(Math.max(n.values[1],i[1]),s[1]),e[2]=Math.min(Math.max(n.values[2],i[2]),s[2]),n.space[0]==="h"&&(e=kr.rgb(e)),e.push(Math.min(Math.max(n.alpha,0),1)),e}const ua=[NaN,NaN,NaN,0];function Zm(t){return typeof t=="string"?t:fa(t)}const Bm=1024,ai={};let zr=0;function Hm(t){if(t.length===4)return t;const e=t.slice();return e[3]=1,e}function Bl(t){const e=Ne.lchuv(Gi.xyz(t));return e[3]=t[3],e}function $m(t){const e=Ne.rgb(oh.xyz(t));return e[3]=t[3],e}function ha(t){if(t==="none")return ua;if(ai.hasOwnProperty(t))return ai[t];if(zr>=Bm){let n=0;for(const i in ai)n++&3||(delete ai[i],--zr)}const e=Wm(t);if(e.length!==4)throw new Error('failed to parse "'+t+'" as color');for(const n of e)if(isNaN(n))throw new Error('failed to parse "'+t+'" as color');return ah(e),ai[t]=e,++zr,e}function Xi(t){return Array.isArray(t)?t:ha(t)}function ah(t){return t[0]=Le(t[0]+.5|0,0,255),t[1]=Le(t[1]+.5|0,0,255),t[2]=Le(t[2]+.5|0,0,255),t[3]=Le(t[3],0,1),t}function fa(t){let e=t[0];e!=(e|0)&&(e=e+.5|0);let n=t[1];n!=(n|0)&&(n=n+.5|0);let i=t[2];i!=(i|0)&&(i=i+.5|0);const s=t[3]===void 0?1:Math.round(t[3]*1e3)/1e3;return"rgba("+e+","+n+","+i+","+s+")"}const on=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",qm=on.includes("firefox"),Jm=on.includes("safari")&&!on.includes("chrom");Jm&&(on.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(on));const Qm=on.includes("webkit")&&!on.includes("edge"),lh=on.includes("macintosh"),ch=typeof devicePixelRatio<"u"?devicePixelRatio:1,ep=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,uh=typeof Image<"u"&&Image.prototype.decode,hh=function(){let t=!1;try{const e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch{}return t}();function Ue(t,e,n,i){let s;return n&&n.length?s=n.shift():ep?s=new OffscreenCanvas(t||300,e||300):s=document.createElement("canvas"),t&&(s.width=t),e&&(s.height=e),s.getContext("2d",i)}let Gr;function Fs(){return Gr||(Gr=Ue(1,1)),Gr}function ji(t){const e=t.canvas;e.width=1,e.height=1,t.clearRect(0,0,1,1)}function Hl(t,e){const n=e.parentNode;n&&n.replaceChild(t,e)}function tp(t){for(;t.lastChild;)t.lastChild.remove()}function np(t,e){const n=t.childNodes;for(let i=0;;++i){const s=n[i],r=e[i];if(!s&&!r)break;if(s!==r){if(!s){t.appendChild(r);continue}if(!r){t.removeChild(s),--i;continue}t.insertBefore(r,s)}}}function ip(t,e,n){const i=t;let s=!0,r=!1,o=!1;const a=[Ps(i,J.LOAD,function(){o=!0,r||e()})];return i.src&&uh?(r=!0,i.decode().then(function(){s&&e()}).catch(function(l){s&&(o?e():n())})):a.push(Ps(i,J.ERROR,n)),function(){s=!1,a.forEach(Ae)}}function sp(t,e){return new Promise((n,i)=>{function s(){o(),n(t)}function r(){o(),i(new Error("Image load error"))}function o(){t.removeEventListener("load",s),t.removeEventListener("error",r)}t.addEventListener("load",s),t.addEventListener("error",r)})}function rp(t,e){return e&&(t.src=e),t.src&&uh?new Promise((n,i)=>t.decode().then(()=>n(t)).catch(s=>t.complete&&t.width?n(t):i(s))):sp(t)}class op{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=32}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let e=0;for(const n in this.cache_){const i=this.cache_[n];!(e++&3)&&!i.hasListener()&&(delete this.cache_[n],delete this.patternCache_[n],--this.cacheSize_)}}}get(e,n,i){const s=Xr(e,n,i);return s in this.cache_?this.cache_[s]:null}getPattern(e,n,i){const s=Xr(e,n,i);return s in this.patternCache_?this.patternCache_[s]:null}set(e,n,i,s,r){const o=Xr(e,n,i),a=o in this.cache_;this.cache_[o]=s,r&&(s.getImageState()===oe.IDLE&&s.load(),s.getImageState()===oe.LOADING?s.ready().then(()=>{this.patternCache_[o]=Fs().createPattern(s.getImage(1),"repeat")}):this.patternCache_[o]=Fs().createPattern(s.getImage(1),"repeat")),a||++this.cacheSize_}setSize(e){this.maxCacheSize_=e,this.expire()}}function Xr(t,e,n){const i=n?Xi(n):"null";return e+":"+t+":"+i}const Pt=new op;let li=null;class ap extends sr{constructor(e,n,i,s,r){super(),this.hitDetectionImage_=null,this.image_=e,this.crossOrigin_=i,this.canvas_={},this.color_=r,this.imageState_=s===void 0?oe.IDLE:s,this.size_=e&&e.width&&e.height?[e.width,e.height]:null,this.src_=n,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===oe.LOADED){li||(li=Ue(1,1,void 0,{willReadFrequently:!0})),li.drawImage(this.image_,0,0);try{li.getImageData(0,0,1,1),this.tainted_=!1}catch{li=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(J.CHANGE)}handleImageError_(){this.imageState_=oe.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=oe.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}getPixelRatio(e){return this.replaceColor_(e),this.canvas_[e]?e:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const e=this.size_[0],n=this.size_[1],i=Ue(e,n);i.fillRect(0,0,e,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===oe.IDLE){this.image_||this.initializeImage_(),this.imageState_=oe.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&rp(this.image_,this.src_).then(e=>{this.image_=e,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(e){if(!this.color_||this.canvas_[e]||this.imageState_!==oe.LOADED)return;const n=this.image_,i=Ue(Math.ceil(n.width*e),Math.ceil(n.height*e)),s=i.canvas;i.scale(e,e),i.drawImage(n,0,0),i.globalCompositeOperation="multiply",i.fillStyle=Zm(this.color_),i.fillRect(0,0,s.width/e,s.height/e),i.globalCompositeOperation="destination-in",i.drawImage(n,0,0),this.canvas_[e]=s}ready(){return this.ready_||(this.ready_=new Promise(e=>{if(this.imageState_===oe.LOADED||this.imageState_===oe.ERROR)e();else{const n=()=>{(this.imageState_===oe.LOADED||this.imageState_===oe.ERROR)&&(this.removeEventListener(J.CHANGE,n),e())};this.addEventListener(J.CHANGE,n)}})),this.ready_}}function da(t,e,n,i,s,r){let o=e===void 0?void 0:Pt.get(e,n,s);return o||(o=new ap(t,t&&"src"in t?t.src||void 0:e,n,i,s),Pt.set(e,n,s,o,r)),r&&o&&!Pt.getPattern(e,n,s)&&Pt.set(e,n,s,o,r),o}function $l(t){return t?Array.isArray(t)?fa(t):typeof t=="object"&&"src"in t?lp(t):t:null}function lp(t){if(!t.offset||!t.size)return Pt.getPattern(t.src,"anonymous",t.color);const e=t.src+":"+t.offset,n=Pt.getPattern(e,void 0,t.color);if(n)return n;const i=Pt.get(t.src,"anonymous",null);if(i.getImageState()!==oe.LOADED)return null;const s=Ue(t.size[0],t.size[1]);return s.drawImage(i.getImage(1),t.offset[0],t.offset[1],t.size[0],t.size[1],0,0,t.size[0],t.size[1]),da(s.canvas,e,void 0,oe.LOADED,t.color,!0),Pt.getPattern(e,void 0,t.color)}const _s="ol-hidden",fr="ol-unselectable",ga="ol-control",ql="ol-collapsed",Jl="#000",Ql="round",ec="round",cp=10,up="#000",hp=1,fp=new Yt;class dr extends hr{constructor(e){super({opacity:1,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,rotation:e.rotation!==void 0?e.rotation:0,scale:e.scale!==void 0?e.scale:1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode}),this.canvases_,this.hitDetectionCanvas_=null,this.fill_=e.fill!==void 0?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius=e.radius,this.radius2_=e.radius2,this.angle_=e.angle!==void 0?e.angle:0,this.stroke_=e.stroke!==void 0?e.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?oe.LOADING:oe.LOADED,this.imageState_===oe.LOADING&&this.ready().then(()=>this.imageState_=oe.LOADED),this.render()}clone(){const e=this.getScale(),n=new dr({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}getAnchor(){const e=this.size_,n=this.getDisplacement(),i=this.getScaleArray();return[e[0]/2-n[0]/i[0],e[1]/2+n[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(e){this.fill_=e,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(e){let n=this.canvases_[e];if(!n){const i=this.renderOptions_,s=Ue(i.size*e,i.size*e);this.draw_(i,s,e),n=s.canvas,this.canvases_[e]=n}return n}getPixelRatio(e){return e}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e,this.render()}listenImageChange(e){}load(){}unlistenImageChange(e){}calculateLineJoinSize_(e,n,i){if(n===0||this.points_===1/0||e!=="bevel"&&e!=="miter")return n;let s=this.radius,r=this.radius2_===void 0?s:this.radius2_;if(s<r){const K=s;s=r,r=K}const o=this.radius2_===void 0?this.points_:this.points_*2,a=2*Math.PI/o,l=r*Math.sin(a),u=Math.sqrt(r*r-l*l),c=s-u,h=Math.sqrt(l*l+c*c),f=h/l;if(e==="miter"&&f<=i)return f*n;const d=n/2/f,_=n/2*(c/h),E=Math.sqrt((s+d)*(s+d)+_*_)-s;if(this.radius2_===void 0||e==="bevel")return E*2;const v=s*Math.sin(a),y=Math.sqrt(s*s-v*v),x=r-y,I=Math.sqrt(v*v+x*x)/v;if(I<=i){const K=I*n/2-r-s;return 2*Math.max(E,K)}return E*2}createRenderOptions(){let e=Ql,n=ec,i=0,s=null,r=0,o,a=0;this.stroke_&&(o=$l(this.stroke_.getColor()??up),a=this.stroke_.getWidth()??hp,s=this.stroke_.getLineDash(),r=this.stroke_.getLineDashOffset()??0,n=this.stroke_.getLineJoin()??ec,e=this.stroke_.getLineCap()??Ql,i=this.stroke_.getMiterLimit()??cp);const l=this.calculateLineJoinSize_(n,a,i),u=Math.max(this.radius,this.radius2_||0),c=Math.ceil(2*u+l);return{strokeStyle:o,strokeWidth:a,size:c,lineCap:e,lineDash:s,lineDashOffset:r,lineJoin:n,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();const e=this.renderOptions_.size;this.canvases_={},this.hitDetectionCanvas_=null,this.size_=[e,e]}draw_(e,n,i){if(n.scale(i,i),n.translate(e.size/2,e.size/2),this.createPath_(n),this.fill_){let s=this.fill_.getColor();s===null&&(s=Jl),n.fillStyle=$l(s),n.fill()}e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineCap=e.lineCap,n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}createHitDetectionCanvas_(e){let n;if(this.fill_){let i=this.fill_.getColor(),s=0;typeof i=="string"&&(i=Xi(i)),i===null?s=1:Array.isArray(i)&&(s=i.length===4?i[3]:1),s===0&&(n=Ue(e.size,e.size),this.drawHitDetectionCanvas_(e,n))}return n?n.canvas:this.getImage(1)}createPath_(e){let n=this.points_;const i=this.radius;if(n===1/0)e.arc(0,0,i,0,2*Math.PI);else{const s=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(n*=2);const r=this.angle_-Math.PI/2,o=2*Math.PI/n;for(let a=0;a<n;a++){const l=r+a*o,u=a%2===0?i:s;e.lineTo(u*Math.cos(l),u*Math.sin(l))}e.closePath()}}drawHitDetectionCanvas_(e,n){n.translate(e.size/2,e.size/2),this.createPath_(n),n.fillStyle=Jl,n.fill(),e.strokeStyle&&(n.strokeStyle=e.strokeStyle,n.lineWidth=e.strokeWidth,e.lineDash&&(n.setLineDash(e.lineDash),n.lineDashOffset=e.lineDashOffset),n.lineJoin=e.lineJoin,n.miterLimit=e.miterLimit,n.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class gr extends dr{constructor(e){e=e||{radius:5},super({points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:e.scale!==void 0?e.scale:1,rotation:e.rotation!==void 0?e.rotation:0,rotateWithView:e.rotateWithView!==void 0?e.rotateWithView:!1,displacement:e.displacement!==void 0?e.displacement:[0,0],declutterMode:e.declutterMode})}clone(){const e=this.getScale(),n=new gr({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return n.setOpacity(this.getOpacity()),n}setRadius(e){this.radius=e,this.render()}}class Ji{constructor(e){e=e||{},this.patternImage_=null,this.color_=null,e.color!==void 0&&this.setColor(e.color)}clone(){const e=this.getColor();return new Ji({color:Array.isArray(e)?e.slice():e||void 0})}getColor(){return this.color_}setColor(e){if(e!==null&&typeof e=="object"&&"src"in e){const n=da(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));n.ready().then(()=>{this.patternImage_=null}),n.getImageState()===oe.IDLE&&n.load(),n.getImageState()===oe.LOADING&&(this.patternImage_=n)}this.color_=e}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}class _r{constructor(e){e=e||{},this.color_=e.color!==void 0?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=e.lineDash!==void 0?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}clone(){const e=this.getColor();return new _r({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(e){this.color_=e}setLineCap(e){this.lineCap_=e}setLineDash(e){this.lineDash_=e}setLineDashOffset(e){this.lineDashOffset_=e}setLineJoin(e){this.lineJoin_=e}setMiterLimit(e){this.miterLimit_=e}setWidth(e){this.width_=e}}class yn{constructor(e){e=e||{},this.geometry_=null,this.geometryFunction_=tc,e.geometry!==void 0&&this.setGeometry(e.geometry),this.fill_=e.fill!==void 0?e.fill:null,this.image_=e.image!==void 0?e.image:null,this.renderer_=e.renderer!==void 0?e.renderer:null,this.hitDetectionRenderer_=e.hitDetectionRenderer!==void 0?e.hitDetectionRenderer:null,this.stroke_=e.stroke!==void 0?e.stroke:null,this.text_=e.text!==void 0?e.text:null,this.zIndex_=e.zIndex}clone(){let e=this.getGeometry();return e&&typeof e=="object"&&(e=e.clone()),new yn({geometry:e??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(e){this.renderer_=e}setHitDetectionRenderer(e){this.hitDetectionRenderer_=e}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(e){this.fill_=e}getImage(){return this.image_}setImage(e){this.image_=e}getStroke(){return this.stroke_}setStroke(e){this.stroke_=e}getText(){return this.text_}setText(e){this.text_=e}getZIndex(){return this.zIndex_}setGeometry(e){typeof e=="function"?this.geometryFunction_=e:typeof e=="string"?this.geometryFunction_=function(n){return n.get(e)}:e?e!==void 0&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=tc,this.geometry_=e}setZIndex(e){this.zIndex_=e}}function dp(t){let e;if(typeof t=="function")e=t;else{let n;Array.isArray(t)?n=t:(ve(typeof t.getZIndex=="function","Expected an `Style` or an array of `Style`"),n=[t]),e=function(){return n}}return e}let jr=null;function fh(t,e){if(!jr){const n=new Ji({color:"rgba(255,255,255,0.4)"}),i=new _r({color:"#3399CC",width:1.25});jr=[new yn({image:new gr({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return jr}function tc(t){return t.getGeometry()}function nc(t,e,n,i){return n!==void 0&&i!==void 0?[n/t,i/e]:n!==void 0?n/t:i!==void 0?i/e:1}class _a extends hr{constructor(e){e=e||{};const n=e.opacity!==void 0?e.opacity:1,i=e.rotation!==void 0?e.rotation:0,s=e.scale!==void 0?e.scale:1,r=e.rotateWithView!==void 0?e.rotateWithView:!1;super({opacity:n,rotation:i,scale:s,displacement:e.displacement!==void 0?e.displacement:[0,0],rotateWithView:r,declutterMode:e.declutterMode}),this.anchor_=e.anchor!==void 0?e.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=e.anchorOrigin!==void 0?e.anchorOrigin:"top-left",this.anchorXUnits_=e.anchorXUnits!==void 0?e.anchorXUnits:"fraction",this.anchorYUnits_=e.anchorYUnits!==void 0?e.anchorYUnits:"fraction",this.crossOrigin_=e.crossOrigin!==void 0?e.crossOrigin:null;const o=e.img!==void 0?e.img:null;let a=e.src;ve(!(a!==void 0&&o),"`image` and `src` cannot be provided at the same time"),(a===void 0||a.length===0)&&o&&(a=o.src||$e(o)),ve(a!==void 0&&a.length>0,"A defined and non-empty `src` or `image` must be provided"),ve(!((e.width!==void 0||e.height!==void 0)&&e.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let l;if(e.src!==void 0?l=oe.IDLE:o!==void 0&&("complete"in o?o.complete?l=o.src?oe.LOADED:oe.IDLE:l=oe.LOADING:l=oe.LOADED),this.color_=e.color!==void 0?Xi(e.color):null,this.iconImage_=da(o,a,this.crossOrigin_,l,this.color_),this.offset_=e.offset!==void 0?e.offset:[0,0],this.offsetOrigin_=e.offsetOrigin!==void 0?e.offsetOrigin:"top-left",this.origin_=null,this.size_=e.size!==void 0?e.size:null,this.initialOptions_,e.width!==void 0||e.height!==void 0){let u,c;if(e.size)[u,c]=e.size;else{const h=this.getImage(1);if(h.width&&h.height)u=h.width,c=h.height;else if(h instanceof HTMLImageElement){this.initialOptions_=e;const f=()=>{if(this.unlistenImageChange(f),!this.initialOptions_)return;const d=this.iconImage_.getSize();this.setScale(nc(d[0],d[1],e.width,e.height))};this.listenImageChange(f);return}}u!==void 0&&this.setScale(nc(u,c,e.width,e.height))}}clone(){let e,n,i;return this.initialOptions_?(n=this.initialOptions_.width,i=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new _a({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:n,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let e=this.normalizedAnchor_;if(!e){e=this.anchor_;const s=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!s)return null;e=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(e[0]*=s[0]),this.anchorYUnits_=="fraction"&&(e[1]*=s[1])}if(this.anchorOrigin_!="top-left"){if(!s)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(e[0]=-e[0]+s[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(e[1]=-e[1]+s[1])}this.normalizedAnchor_=e}const n=this.getDisplacement(),i=this.getScaleArray();return[e[0]-n[0]/i[0],e[1]+n[1]/i[1]]}setAnchor(e){this.anchor_=e,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(e){return this.iconImage_.getImage(e)}getPixelRatio(e){return this.iconImage_.getPixelRatio(e)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let e=this.offset_;if(this.offsetOrigin_!="top-left"){const n=this.getSize(),i=this.iconImage_.getSize();if(!n||!i)return null;e=e.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(e[0]=i[0]-n[0]-e[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(e[1]=i[1]-n[1]-e[1])}return this.origin_=e,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const e=this.getScaleArray();if(this.size_)return this.size_[0]*e[0];if(this.iconImage_.getImageState()==oe.LOADED)return this.iconImage_.getSize()[0]*e[0]}getHeight(){const e=this.getScaleArray();if(this.size_)return this.size_[1]*e[1];if(this.iconImage_.getImageState()==oe.LOADED)return this.iconImage_.getSize()[1]*e[1]}setScale(e){delete this.initialOptions_,super.setScale(e)}listenImageChange(e){this.iconImage_.addEventListener(J.CHANGE,e)}load(){this.iconImage_.load()}unlistenImageChange(e){this.iconImage_.removeEventListener(J.CHANGE,e)}ready(){return this.iconImage_.ready()}}const gp="#333";class ma{constructor(e){e=e||{},this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=tt(e.scale!==void 0?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.justify_=e.justify,this.repeat_=e.repeat,this.textBaseline_=e.textBaseline,this.fill_=e.fill!==void 0?e.fill:new Ji({color:gp}),this.maxAngle_=e.maxAngle!==void 0?e.maxAngle:Math.PI/4,this.placement_=e.placement!==void 0?e.placement:"point",this.overflow_=!!e.overflow,this.stroke_=e.stroke!==void 0?e.stroke:null,this.offsetX_=e.offsetX!==void 0?e.offsetX:0,this.offsetY_=e.offsetY!==void 0?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=e.padding===void 0?null:e.padding,this.declutterMode_=e.declutterMode}clone(){const e=this.getScale();return new ma({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(e){this.overflow_=e}setFont(e){this.font_=e}setMaxAngle(e){this.maxAngle_=e}setOffsetX(e){this.offsetX_=e}setOffsetY(e){this.offsetY_=e}setPlacement(e){this.placement_=e}setRepeat(e){this.repeat_=e}setRotateWithView(e){this.rotateWithView_=e}setFill(e){this.fill_=e}setRotation(e){this.rotation_=e}setScale(e){this.scale_=e,this.scaleArray_=tt(e!==void 0?e:1)}setStroke(e){this.stroke_=e}setText(e){this.text_=e}setTextAlign(e){this.textAlign_=e}setJustify(e){this.justify_=e}setTextBaseline(e){this.textBaseline_=e}setBackgroundFill(e){this.backgroundFill_=e}setBackgroundStroke(e){this.backgroundStroke_=e}setPadding(e){this.padding_=e}}let xn=0;const qe=1<<xn++,ie=1<<xn++,Qe=1<<xn++,pt=1<<xn++,vn=1<<xn++,di=1<<xn++,ms=Math.pow(2,xn)-1,pa={[qe]:"boolean",[ie]:"number",[Qe]:"string",[pt]:"color",[vn]:"number[]",[di]:"size"},_p=Object.keys(pa).map(Number).sort(er);function mp(t){return t in pa}function gi(t){const e=[];for(const n of _p)_i(t,n)&&e.push(pa[n]);return e.length===0?"untyped":e.length<3?e.join(" or "):e.slice(0,-1).join(", ")+", or "+e[e.length-1]}function _i(t,e){return(t&e)===e}function Ht(t,e){return t===e}class Oe{constructor(e,n){if(!mp(e))throw new Error(`literal expressions must have a specific type, got ${gi(e)}`);this.type=e,this.value=n}}class pp{constructor(e,n,...i){this.type=e,this.operator=n,this.args=i}}function dh(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1}}function ke(t,e,n){switch(typeof t){case"boolean":{if(Ht(e,Qe))return new Oe(Qe,t?"true":"false");if(!_i(e,qe))throw new Error(`got a boolean, but expected ${gi(e)}`);return new Oe(qe,t)}case"number":{if(Ht(e,di))return new Oe(di,tt(t));if(Ht(e,qe))return new Oe(qe,!!t);if(Ht(e,Qe))return new Oe(Qe,t.toString());if(!_i(e,ie))throw new Error(`got a number, but expected ${gi(e)}`);return new Oe(ie,t)}case"string":{if(Ht(e,pt))return new Oe(pt,ha(t));if(Ht(e,qe))return new Oe(qe,!!t);if(!_i(e,Qe))throw new Error(`got a string, but expected ${gi(e)}`);return new Oe(Qe,t)}}if(!Array.isArray(t))throw new Error("expression must be an array or a primitive value");if(t.length===0)throw new Error("empty expression");if(typeof t[0]=="string")return Ap(t,e,n);for(const i of t)if(typeof i!="number")throw new Error("expected an array of numbers");if(Ht(e,di)){if(t.length!==2)throw new Error(`expected an array of two values for a size, got ${t.length}`);return new Oe(di,t)}if(Ht(e,pt)){if(t.length===3)return new Oe(pt,[...t,1]);if(t.length===4)return new Oe(pt,t);throw new Error(`expected an array of 3 or 4 values for a color, got ${t.length}`)}if(!_i(e,vn))throw new Error(`got an array of numbers, but expected ${gi(e)}`);return new Oe(vn,t)}const b={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},yp={[b.Get]:W(q(1,1/0),ic),[b.Var]:W(q(1,1),Ep),[b.Has]:W(q(1,1/0),ic),[b.Id]:W(vp,Sn),[b.Concat]:W(q(2,1/0),fe(Qe)),[b.GeometryType]:W(wp,Sn),[b.LineMetric]:W(Sn),[b.Resolution]:W(Sn),[b.Zoom]:W(Sn),[b.Time]:W(Sn),[b.Any]:W(q(2,1/0),fe(qe)),[b.All]:W(q(2,1/0),fe(qe)),[b.Not]:W(q(1,1),fe(qe)),[b.Equal]:W(q(2,2),fe(ms)),[b.NotEqual]:W(q(2,2),fe(ms)),[b.GreaterThan]:W(q(2,2),fe(ie)),[b.GreaterThanOrEqualTo]:W(q(2,2),fe(ie)),[b.LessThan]:W(q(2,2),fe(ie)),[b.LessThanOrEqualTo]:W(q(2,2),fe(ie)),[b.Multiply]:W(q(2,1/0),sc),[b.Coalesce]:W(q(2,1/0),sc),[b.Divide]:W(q(2,2),fe(ie)),[b.Add]:W(q(2,1/0),fe(ie)),[b.Subtract]:W(q(2,2),fe(ie)),[b.Clamp]:W(q(3,3),fe(ie)),[b.Mod]:W(q(2,2),fe(ie)),[b.Pow]:W(q(2,2),fe(ie)),[b.Abs]:W(q(1,1),fe(ie)),[b.Floor]:W(q(1,1),fe(ie)),[b.Ceil]:W(q(1,1),fe(ie)),[b.Round]:W(q(1,1),fe(ie)),[b.Sin]:W(q(1,1),fe(ie)),[b.Cos]:W(q(1,1),fe(ie)),[b.Atan]:W(q(1,2),fe(ie)),[b.Sqrt]:W(q(1,1),fe(ie)),[b.Match]:W(q(4,1/0),rc,Cp),[b.Between]:W(q(3,3),fe(ie)),[b.Interpolate]:W(q(6,1/0),rc,xp),[b.Case]:W(q(3,1/0),Rp,Tp),[b.In]:W(q(2,2),bp),[b.Number]:W(q(1,1/0),fe(ms)),[b.String]:W(q(1,1/0),fe(ms)),[b.Array]:W(q(1,1/0),fe(ie)),[b.Color]:W(q(1,4),fe(ie)),[b.Band]:W(q(1,3),fe(ie)),[b.Palette]:W(q(2,2),Ip),[b.ToString]:W(q(1,1),fe(qe|ie|Qe|pt))};function ic(t,e,n){const i=t.length-1,s=new Array(i);for(let r=0;r<i;++r){const o=t[r+1];switch(typeof o){case"number":{s[r]=new Oe(ie,o);break}case"string":{s[r]=new Oe(Qe,o);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${o}`)}r===0&&n.properties.add(String(o))}return s}function Ep(t,e,n){const i=t[1];if(typeof i!="string")throw new Error("expected a string argument for var operation");return n.variables.add(i),[new Oe(Qe,i)]}function vp(t,e,n){n.featureId=!0}function wp(t,e,n){n.geometryType=!0}function Sn(t,e,n){const i=t[0];if(t.length!==1)throw new Error(`expected no arguments for ${i} operation`);return[]}function q(t,e){return function(n,i,s){const r=n[0],o=n.length-1;if(t===e){if(o!==t){const a=t===1?"":"s";throw new Error(`expected ${t} argument${a} for ${r}, got ${o}`)}}else if(o<t||o>e){const a=e===1/0?`${t} or more`:`${t} to ${e}`;throw new Error(`expected ${a} arguments for ${r}, got ${o}`)}}}function sc(t,e,n){const i=t.length-1,s=new Array(i);for(let r=0;r<i;++r){const o=ke(t[r+1],e,n);s[r]=o}return s}function fe(t){return function(e,n,i){const s=e.length-1,r=new Array(s);for(let o=0;o<s;++o){const a=ke(e[o+1],t,i);r[o]=a}return r}}function Rp(t,e,n){const i=t[0],s=t.length-1;if(s%2===0)throw new Error(`expected an odd number of arguments for ${i}, got ${s} instead`)}function rc(t,e,n){const i=t[0],s=t.length-1;if(s%2===1)throw new Error(`expected an even number of arguments for operation ${i}, got ${s} instead`)}function Cp(t,e,n){const i=t.length-1,s=Qe|ie|qe,r=ke(t[1],s,n),o=ke(t[t.length-1],e,n),a=new Array(i-2);for(let l=0;l<i-2;l+=2){try{const u=ke(t[l+2],r.type,n);a[l]=u}catch(u){throw new Error(`failed to parse argument ${l+1} of match expression: ${u.message}`)}try{const u=ke(t[l+3],o.type,n);a[l+1]=u}catch(u){throw new Error(`failed to parse argument ${l+2} of match expression: ${u.message}`)}}return[r,...a,o]}function xp(t,e,n){const i=t[1];let s;switch(i[0]){case"linear":s=1;break;case"exponential":const l=i[1];if(typeof l!="number"||l<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(l)} instead`);s=l;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(i)}`)}const r=new Oe(ie,s);let o;try{o=ke(t[2],ie,n)}catch(l){throw new Error(`failed to parse argument 1 in interpolate expression: ${l.message}`)}const a=new Array(t.length-3);for(let l=0;l<a.length;l+=2){try{const u=ke(t[l+3],ie,n);a[l]=u}catch(u){throw new Error(`failed to parse argument ${l+2} for interpolate expression: ${u.message}`)}try{const u=ke(t[l+4],e,n);a[l+1]=u}catch(u){throw new Error(`failed to parse argument ${l+3} for interpolate expression: ${u.message}`)}}return[r,o,...a]}function Tp(t,e,n){const i=ke(t[t.length-1],e,n),s=new Array(t.length-1);for(let r=0;r<s.length-1;r+=2){try{const o=ke(t[r+1],qe,n);s[r]=o}catch(o){throw new Error(`failed to parse argument ${r} of case expression: ${o.message}`)}try{const o=ke(t[r+2],i.type,n);s[r+1]=o}catch(o){throw new Error(`failed to parse argument ${r+1} of case expression: ${o.message}`)}}return s[s.length-1]=i,s}function bp(t,e,n){let i=t[2];if(!Array.isArray(i))throw new Error('the second argument for the "in" operator must be an array');let s;if(typeof i[0]=="string"){if(i[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(i[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');i=i[1],s=Qe}else s=ie;const r=new Array(i.length);for(let a=0;a<r.length;a++)try{const l=ke(i[a],s,n);r[a]=l}catch(l){throw new Error(`failed to parse haystack item ${a} for "in" expression: ${l.message}`)}return[ke(t[1],s,n),...r]}function Ip(t,e,n){let i;try{i=ke(t[1],ie,n)}catch(o){throw new Error(`failed to parse first argument in palette expression: ${o.message}`)}const s=t[2];if(!Array.isArray(s))throw new Error("the second argument of palette must be an array");const r=new Array(s.length);for(let o=0;o<r.length;o++){let a;try{a=ke(s[o],pt,n)}catch(l){throw new Error(`failed to parse color at index ${o} in palette expression: ${l.message}`)}if(!(a instanceof Oe))throw new Error(`the palette color at index ${o} must be a literal value`);r[o]=a}return[i,...r]}function W(...t){return function(e,n,i){const s=e[0];let r;for(let o=0;o<t.length;o++){const a=t[o](e,n,i);if(o==t.length-1){if(!a)throw new Error("expected last argument validator to return the parsed args");r=a}}return new pp(n,s,...r)}}function Ap(t,e,n){const i=t[0],s=yp[i];if(!s)throw new Error(`unknown operator: ${i}`);return s(t,e,n)}function gh(t){if(!t)return"";const e=t.getType();switch(e){case"Point":case"LineString":case"Polygon":return e;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return e.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return gh(t.getGeometries()[0]);default:return""}}function _h(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function Wt(t,e,n){const i=ke(t,e,n);return xt(i)}function xt(t,e){if(t instanceof Oe){if(t.type===pt&&typeof t.value=="string"){const i=ha(t.value);return function(){return i}}return function(){return t.value}}const n=t.operator;switch(n){case b.Number:case b.String:case b.Coalesce:return Sp(t);case b.Get:case b.Var:case b.Has:return Mp(t);case b.Id:return i=>i.featureId;case b.GeometryType:return i=>i.geometryType;case b.Concat:{const i=t.args.map(s=>xt(s));return s=>"".concat(...i.map(r=>r(s).toString()))}case b.Resolution:return i=>i.resolution;case b.Any:case b.All:case b.Between:case b.In:case b.Not:return Lp(t);case b.Equal:case b.NotEqual:case b.LessThan:case b.LessThanOrEqualTo:case b.GreaterThan:case b.GreaterThanOrEqualTo:return Pp(t);case b.Multiply:case b.Divide:case b.Add:case b.Subtract:case b.Clamp:case b.Mod:case b.Pow:case b.Abs:case b.Floor:case b.Ceil:case b.Round:case b.Sin:case b.Cos:case b.Atan:case b.Sqrt:return Op(t);case b.Case:return Dp(t);case b.Match:return Fp(t);case b.Interpolate:return Np(t);case b.ToString:return kp(t);default:throw new Error(`Unsupported operator ${n}`)}}function Sp(t,e){const n=t.operator,i=t.args.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=xt(t.args[r]);switch(n){case b.Coalesce:return r=>{for(let o=0;o<i;++o){const a=s[o](r);if(typeof a<"u"&&a!==null)return a}throw new Error("Expected one of the values to be non-null")};case b.Number:case b.String:return r=>{for(let o=0;o<i;++o){const a=s[o](r);if(typeof a===n)return a}throw new Error(`Expected one of the values to be a ${n}`)};default:throw new Error(`Unsupported assertion operator ${n}`)}}function Mp(t,e){const i=t.args[0].value;switch(t.operator){case b.Get:return s=>{const r=t.args;let o=s.properties[i];for(let a=1,l=r.length;a<l;++a){const c=r[a].value;o=o[c]}return o};case b.Var:return s=>s.variables[i];case b.Has:return s=>{const r=t.args;if(!(i in s.properties))return!1;let o=s.properties[i];for(let a=1,l=r.length;a<l;++a){const c=r[a].value;if(!o||!Object.hasOwn(o,c))return!1;o=o[c]}return!0};default:throw new Error(`Unsupported accessor operator ${t.operator}`)}}function Pp(t,e){const n=t.operator,i=xt(t.args[0]),s=xt(t.args[1]);switch(n){case b.Equal:return r=>i(r)===s(r);case b.NotEqual:return r=>i(r)!==s(r);case b.LessThan:return r=>i(r)<s(r);case b.LessThanOrEqualTo:return r=>i(r)<=s(r);case b.GreaterThan:return r=>i(r)>s(r);case b.GreaterThanOrEqualTo:return r=>i(r)>=s(r);default:throw new Error(`Unsupported comparison operator ${n}`)}}function Lp(t,e){const n=t.operator,i=t.args.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=xt(t.args[r]);switch(n){case b.Any:return r=>{for(let o=0;o<i;++o)if(s[o](r))return!0;return!1};case b.All:return r=>{for(let o=0;o<i;++o)if(!s[o](r))return!1;return!0};case b.Between:return r=>{const o=s[0](r),a=s[1](r),l=s[2](r);return o>=a&&o<=l};case b.In:return r=>{const o=s[0](r);for(let a=1;a<i;++a)if(o===s[a](r))return!0;return!1};case b.Not:return r=>!s[0](r);default:throw new Error(`Unsupported logical operator ${n}`)}}function Op(t,e){const n=t.operator,i=t.args.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=xt(t.args[r]);switch(n){case b.Multiply:return r=>{let o=1;for(let a=0;a<i;++a)o*=s[a](r);return o};case b.Divide:return r=>s[0](r)/s[1](r);case b.Add:return r=>{let o=0;for(let a=0;a<i;++a)o+=s[a](r);return o};case b.Subtract:return r=>s[0](r)-s[1](r);case b.Clamp:return r=>{const o=s[0](r),a=s[1](r);if(o<a)return a;const l=s[2](r);return o>l?l:o};case b.Mod:return r=>s[0](r)%s[1](r);case b.Pow:return r=>Math.pow(s[0](r),s[1](r));case b.Abs:return r=>Math.abs(s[0](r));case b.Floor:return r=>Math.floor(s[0](r));case b.Ceil:return r=>Math.ceil(s[0](r));case b.Round:return r=>Math.round(s[0](r));case b.Sin:return r=>Math.sin(s[0](r));case b.Cos:return r=>Math.cos(s[0](r));case b.Atan:return i===2?r=>Math.atan2(s[0](r),s[1](r)):r=>Math.atan(s[0](r));case b.Sqrt:return r=>Math.sqrt(s[0](r));default:throw new Error(`Unsupported numeric operator ${n}`)}}function Dp(t,e){const n=t.args.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=xt(t.args[s]);return s=>{for(let r=0;r<n-1;r+=2)if(i[r](s))return i[r+1](s);return i[n-1](s)}}function Fp(t,e){const n=t.args.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=xt(t.args[s]);return s=>{const r=i[0](s);for(let o=1;o<n;o+=2)if(r===i[o](s))return i[o+1](s);return i[n-1](s)}}function Np(t,e){const n=t.args.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=xt(t.args[s]);return s=>{const r=i[0](s),o=i[1](s);let a,l;for(let u=2;u<n;u+=2){const c=i[u](s);let h=i[u+1](s);const f=Array.isArray(h);if(f&&(h=Hm(h)),c>=o)return u===2?h:f?zp(r,o,a,l,c,h):mi(r,o,a,l,c,h);a=c,l=h}return l}}function kp(t,e){const n=t.operator,i=t.args.length,s=new Array(i);for(let r=0;r<i;++r)s[r]=xt(t.args[r]);switch(n){case b.ToString:return r=>{const o=s[0](r);return t.args[0].type===pt?fa(o):o.toString()};default:throw new Error(`Unsupported convert operator ${n}`)}}function mi(t,e,n,i,s,r){const o=s-n;if(o===0)return i;const a=e-n,l=t===1?a/o:(Math.pow(t,a)-1)/(Math.pow(t,o)-1);return i+l*(r-i)}function zp(t,e,n,i,s,r){if(s-n===0)return i;const a=Bl(i),l=Bl(r);let u=l[2]-a[2];u>180?u-=360:u<-180&&(u+=360);const c=[mi(t,e,n,a[0],s,l[0]),mi(t,e,n,a[1],s,l[1]),a[2]+mi(t,e,n,0,s,u),mi(t,e,n,i[3],s,r[3])];return ah($m(c))}function Gp(t){return!0}function Xp(t){const e=dh(),n=jp(t,e),i=_h();return function(s,r){if(i.properties=s.getPropertiesInternal(),i.resolution=r,e.featureId){const o=s.getId();o!==void 0?i.featureId=o:i.featureId=null}return e.geometryType&&(i.geometryType=gh(s.getGeometry())),n(i)}}function oc(t){const e=dh(),n=t.length,i=new Array(n);for(let o=0;o<n;++o)i[o]=mo(t[o],e);const s=_h(),r=new Array(n);return function(o,a){if(s.properties=o.getPropertiesInternal(),s.resolution=a,e.featureId){const u=o.getId();u!==void 0?s.featureId=u:s.featureId=null}let l=0;for(let u=0;u<n;++u){const c=i[u](s);c&&(r[l]=c,l+=1)}return r.length=l,r}}function jp(t,e){const n=t.length,i=new Array(n);for(let s=0;s<n;++s){const r=t[s],o="filter"in r?Wt(r.filter,qe,e):Gp;let a;if(Array.isArray(r.style)){const l=r.style.length;a=new Array(l);for(let u=0;u<l;++u)a[u]=mo(r.style[u],e)}else a=[mo(r.style,e)];i[s]={filter:o,styles:a}}return function(s){const r=[];let o=!1;for(let a=0;a<n;++a){const l=i[a].filter;if(l(s)&&!(t[a].else&&o)){o=!0;for(const u of i[a].styles){const c=u(s);c&&r.push(c)}}}return r}}function mo(t,e){const n=Ki(t,"",e),i=Ui(t,"",e),s=Kp(t,e),r=Up(t,e),o=et(t,"z-index",e);if(!n&&!i&&!s&&!r&&!ku(t))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(t));const a=new yn;return function(l){let u=!0;if(n){const c=n(l);c&&(u=!1),a.setFill(c)}if(i){const c=i(l);c&&(u=!1),a.setStroke(c)}if(s){const c=s(l);c&&(u=!1),a.setText(c)}if(r){const c=r(l);c&&(u=!1),a.setImage(c)}return o&&a.setZIndex(o(l)),u?null:a}}function Ki(t,e,n){let i;if(e+"fill-pattern-src"in t)i=Zp(t,e+"fill-",n);else{if(t[e+"fill-color"]==="none")return r=>null;i=ya(t,e+"fill-color",n)}if(!i)return null;const s=new Ji;return function(r){const o=i(r);return o===ua?null:(s.setColor(o),s)}}function Ui(t,e,n){const i=et(t,e+"stroke-width",n),s=ya(t,e+"stroke-color",n);if(!i&&!s)return null;const r=Gt(t,e+"stroke-line-cap",n),o=Gt(t,e+"stroke-line-join",n),a=mh(t,e+"stroke-line-dash",n),l=et(t,e+"stroke-line-dash-offset",n),u=et(t,e+"stroke-miter-limit",n),c=new _r;return function(h){if(s){const f=s(h);if(f===ua)return null;c.setColor(f)}if(i&&c.setWidth(i(h)),r){const f=r(h);if(f!=="butt"&&f!=="round"&&f!=="square")throw new Error("Expected butt, round, or square line cap");c.setLineCap(f)}if(o){const f=o(h);if(f!=="bevel"&&f!=="round"&&f!=="miter")throw new Error("Expected bevel, round, or miter line join");c.setLineJoin(f)}return a&&c.setLineDash(a(h)),l&&c.setLineDashOffset(l(h)),u&&c.setMiterLimit(u(h)),c}}function Kp(t,e){const n="text-",i=Gt(t,n+"value",e);if(!i)return null;const s=Ki(t,n,e),r=Ki(t,n+"background-",e),o=Ui(t,n,e),a=Ui(t,n+"background-",e),l=Gt(t,n+"font",e),u=et(t,n+"max-angle",e),c=et(t,n+"offset-x",e),h=et(t,n+"offset-y",e),f=Vi(t,n+"overflow",e),d=Gt(t,n+"placement",e),_=et(t,n+"repeat",e),p=mr(t,n+"scale",e),E=Vi(t,n+"rotate-with-view",e),v=et(t,n+"rotation",e),y=Gt(t,n+"align",e),x=Gt(t,n+"justify",e),R=Gt(t,n+"baseline",e),I=mh(t,n+"padding",e),K=pr(t,n+"declutter-mode"),P=new ma({declutterMode:K});return function(D){if(P.setText(i(D)),s&&P.setFill(s(D)),r&&P.setBackgroundFill(r(D)),o&&P.setStroke(o(D)),a&&P.setBackgroundStroke(a(D)),l&&P.setFont(l(D)),u&&P.setMaxAngle(u(D)),c&&P.setOffsetX(c(D)),h&&P.setOffsetY(h(D)),f&&P.setOverflow(f(D)),d){const U=d(D);if(U!=="point"&&U!=="line")throw new Error("Expected point or line for text-placement");P.setPlacement(U)}if(_&&P.setRepeat(_(D)),p&&P.setScale(p(D)),E&&P.setRotateWithView(E(D)),v&&P.setRotation(v(D)),y){const U=y(D);if(U!=="left"&&U!=="center"&&U!=="right"&&U!=="end"&&U!=="start")throw new Error("Expected left, right, center, start, or end for text-align");P.setTextAlign(U)}if(x){const U=x(D);if(U!=="left"&&U!=="right"&&U!=="center")throw new Error("Expected left, right, or center for text-justify");P.setJustify(U)}if(R){const U=R(D);if(U!=="bottom"&&U!=="top"&&U!=="middle"&&U!=="alphabetic"&&U!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");P.setTextBaseline(U)}return I&&P.setPadding(I(D)),P}}function Up(t,e){return"icon-src"in t?Vp(t,e):"shape-points"in t?Yp(t,e):"circle-radius"in t?Wp(t,e):null}function Vp(t,e){const n="icon-",i=n+"src",s=ph(t[i],i),r=Ns(t,n+"anchor",e),o=mr(t,n+"scale",e),a=et(t,n+"opacity",e),l=Ns(t,n+"displacement",e),u=et(t,n+"rotation",e),c=Vi(t,n+"rotate-with-view",e),h=lc(t,n+"anchor-origin"),f=cc(t,n+"anchor-x-units"),d=cc(t,n+"anchor-y-units"),_=qp(t,n+"color"),p=Hp(t,n+"cross-origin"),E=$p(t,n+"offset"),v=lc(t,n+"offset-origin"),y=ks(t,n+"width"),x=ks(t,n+"height"),R=Bp(t,n+"size"),I=pr(t,n+"declutter-mode"),K=new _a({src:s,anchorOrigin:h,anchorXUnits:f,anchorYUnits:d,color:_,crossOrigin:p,offset:E,offsetOrigin:v,height:x,width:y,size:R,declutterMode:I});return function(P){return a&&K.setOpacity(a(P)),l&&K.setDisplacement(l(P)),u&&K.setRotation(u(P)),c&&K.setRotateWithView(c(P)),o&&K.setScale(o(P)),r&&K.setAnchor(r(P)),K}}function Yp(t,e){const n="shape-",i=n+"points",s=n+"radius",r=po(t[i],i),o=po(t[s],s),a=Ki(t,n,e),l=Ui(t,n,e),u=mr(t,n+"scale",e),c=Ns(t,n+"displacement",e),h=et(t,n+"rotation",e),f=Vi(t,n+"rotate-with-view",e),d=ks(t,n+"radius2"),_=ks(t,n+"angle"),p=pr(t,n+"declutter-mode"),E=new dr({points:r,radius:o,radius2:d,angle:_,declutterMode:p});return function(v){return a&&E.setFill(a(v)),l&&E.setStroke(l(v)),c&&E.setDisplacement(c(v)),h&&E.setRotation(h(v)),f&&E.setRotateWithView(f(v)),u&&E.setScale(u(v)),E}}function Wp(t,e){const n="circle-",i=Ki(t,n,e),s=Ui(t,n,e),r=et(t,n+"radius",e),o=mr(t,n+"scale",e),a=Ns(t,n+"displacement",e),l=et(t,n+"rotation",e),u=Vi(t,n+"rotate-with-view",e),c=pr(t,n+"declutter-mode"),h=new gr({radius:5,declutterMode:c});return function(f){return r&&h.setRadius(r(f)),i&&h.setFill(i(f)),s&&h.setStroke(s(f)),a&&h.setDisplacement(a(f)),l&&h.setRotation(l(f)),u&&h.setRotateWithView(u(f)),o&&h.setScale(o(f)),h}}function et(t,e,n){if(!(e in t))return;const i=Wt(t[e],ie,n);return function(s){return po(i(s),e)}}function Gt(t,e,n){if(!(e in t))return null;const i=Wt(t[e],Qe,n);return function(s){return ph(i(s),e)}}function Zp(t,e,n){const i=Gt(t,e+"pattern-src",n),s=ac(t,e+"pattern-offset",n),r=ac(t,e+"pattern-size",n),o=ya(t,e+"color",n);return function(a){return{src:i(a),offset:s&&s(a),size:r&&r(a),color:o&&o(a)}}}function Vi(t,e,n){if(!(e in t))return null;const i=Wt(t[e],qe,n);return function(s){const r=i(s);if(typeof r!="boolean")throw new Error(`Expected a boolean for ${e}`);return r}}function ya(t,e,n){if(!(e in t))return null;const i=Wt(t[e],pt,n);return function(s){return yh(i(s),e)}}function mh(t,e,n){if(!(e in t))return null;const i=Wt(t[e],vn,n);return function(s){return Qi(i(s),e)}}function Ns(t,e,n){if(!(e in t))return null;const i=Wt(t[e],vn,n);return function(s){const r=Qi(i(s),e);if(r.length!==2)throw new Error(`Expected two numbers for ${e}`);return r}}function ac(t,e,n){if(!(e in t))return null;const i=Wt(t[e],vn,n);return function(s){return Eh(i(s),e)}}function mr(t,e,n){if(!(e in t))return null;const i=Wt(t[e],vn|ie,n);return function(s){return Jp(i(s),e)}}function ks(t,e){const n=t[e];if(n!==void 0){if(typeof n!="number")throw new Error(`Expected a number for ${e}`);return n}}function Bp(t,e){const n=t[e];if(n!==void 0){if(typeof n=="number")return tt(n);if(!Array.isArray(n))throw new Error(`Expected a number or size array for ${e}`);if(n.length!==2||typeof n[0]!="number"||typeof n[1]!="number")throw new Error(`Expected a number or size array for ${e}`);return n}}function Hp(t,e){const n=t[e];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);return n}}function lc(t,e){const n=t[e];if(n!==void 0){if(n!=="bottom-left"&&n!=="bottom-right"&&n!=="top-left"&&n!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${e}`);return n}}function cc(t,e){const n=t[e];if(n!==void 0){if(n!=="pixels"&&n!=="fraction")throw new Error(`Expected pixels or fraction for ${e}`);return n}}function $p(t,e){const n=t[e];if(n!==void 0)return Qi(n,e)}function pr(t,e){const n=t[e];if(n!==void 0){if(typeof n!="string")throw new Error(`Expected a string for ${e}`);if(n!=="declutter"&&n!=="obstacle"&&n!=="none")throw new Error(`Expected declutter, obstacle, or none for ${e}`);return n}}function qp(t,e){const n=t[e];if(n!==void 0)return yh(n,e)}function Qi(t,e){if(!Array.isArray(t))throw new Error(`Expected an array for ${e}`);const n=t.length;for(let i=0;i<n;++i)if(typeof t[i]!="number")throw new Error(`Expected an array of numbers for ${e}`);return t}function ph(t,e){if(typeof t!="string")throw new Error(`Expected a string for ${e}`);return t}function po(t,e){if(typeof t!="number")throw new Error(`Expected a number for ${e}`);return t}function yh(t,e){if(typeof t=="string")return t;const n=Qi(t,e),i=n.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${e}`);return n}function Eh(t,e){const n=Qi(t,e);if(n.length!==2)throw new Error(`Expected an array of two numbers for ${e}`);return n}function Jp(t,e){return typeof t=="number"?t:Eh(t,e)}const uc={RENDER_ORDER:"renderOrder"};class Qp extends ur{constructor(e){e=e||{};const n=Object.assign({},e);delete n.style,delete n.renderBuffer,delete n.updateWhileAnimating,delete n.updateWhileInteracting,super(n),this.declutter_=e.declutter?String(e.declutter):void 0,this.renderBuffer_=e.renderBuffer!==void 0?e.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(e.style),this.updateWhileAnimating_=e.updateWhileAnimating!==void 0?e.updateWhileAnimating:!1,this.updateWhileInteracting_=e.updateWhileInteracting!==void 0?e.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(e){return super.getFeatures(e)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(uc.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(e,n){const i=this.getDeclutter();i in e.declutter||(e.declutter[i]=new zm(9)),this.getRenderer().renderDeclutter(e,n)}setRenderOrder(e){this.set(uc.RENDER_ORDER,e)}setStyle(e){this.style_=e===void 0?fh:e;const n=e0(e);this.styleFunction_=e===null?void 0:dp(n),this.changed()}}function e0(t){if(t===void 0)return fh;if(!t)return null;if(typeof t=="function"||t instanceof yn)return t;if(!Array.isArray(t))return oc([t]);if(t.length===0)return[];const e=t.length,n=t[0];if(n instanceof yn){const s=new Array(e);for(let r=0;r<e;++r){const o=t[r];if(!(o instanceof yn))throw new Error("Expected a list of style instances");s[r]=o}return s}if("style"in n){const s=new Array(e);for(let r=0;r<e;++r){const o=t[r];if(!("style"in o))throw new Error("Expected a list of rules with a style property");s[r]=o}return Xp(s)}return oc(t)}class t0 extends Qs{constructor(e){super(),this.map_=e}dispatchRenderEvent(e,n){ae()}calculateMatrices2D(e){const n=e.viewState,i=e.coordinateToPixelTransform,s=e.pixelToCoordinateTransform;Ni(i,e.size[0]/2,e.size[1]/2,1/n.resolution,-1/n.resolution,-n.rotation,-n.center[0],-n.center[1]),Hu(s,i)}forEachFeatureAtCoordinate(e,n,i,s,r,o,a,l){let u;const c=n.viewState;function h(R,I,K,P){return r.call(o,I,R?K:null,P)}const f=c.projection,d=Z_(e.slice(),f),_=[[0,0]];if(f.canWrapX()&&s){const R=f.getExtent(),I=Ie(R);_.push([-I,0],[I,0])}const p=n.layerStatesArray,E=p.length,v=[],y=[];for(let R=0;R<_.length;R++)for(let I=E-1;I>=0;--I){const K=p[I],P=K.layer;if(P.hasRenderer()&&la(K,c)&&a.call(l,P)){const D=P.getRenderer(),U=P.getSource();if(D&&U){const se=U.getWrapX()?d:e,le=h.bind(null,K.managed);y[0]=se[0]+_[R][0],y[1]=se[1]+_[R][1],u=D.forEachFeatureAtCoordinate(y,n,i,le,v)}if(u)return u}}if(v.length===0)return;const x=1/v.length;return v.forEach((R,I)=>R.distanceSq+=I*x),v.sort((R,I)=>R.distanceSq-I.distanceSq),v.some(R=>u=R.callback(R.feature,R.layer,R.geometry)),u}hasFeatureAtCoordinate(e,n,i,s,r,o){return this.forEachFeatureAtCoordinate(e,n,i,s,Ss,this,r,o)!==void 0}getMap(){return this.map_}renderFrame(e){ae()}scheduleExpireIconCache(e){Pt.canExpireCache()&&e.postRenderFunctions.push(n0)}}function n0(t,e){Pt.expire()}class vh extends cn{constructor(e,n,i,s){super(e),this.inversePixelTransform=n,this.frameState=i,this.context=s}}class i0 extends t0{constructor(e){super(e),this.fontChangeListenerKey_=ge(fp,Di.PROPERTYCHANGE,e.redrawText,e),this.element_=document.createElement("div");const n=this.element_.style;n.position="absolute",n.width="100%",n.height="100%",n.zIndex="0",this.element_.className=fr+" ol-layers";const i=e.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(e,n){const i=this.getMap();if(i.hasListener(e)){const s=new vh(e,void 0,n);i.dispatchEvent(s)}}disposeInternal(){Ae(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(e){if(!e){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(e),this.dispatchRenderEvent(Mt.PRECOMPOSE,e);const n=e.layerStatesArray.sort((a,l)=>a.zIndex-l.zIndex);n.some(a=>a.layer instanceof Qp&&a.layer.getDeclutter())&&(e.declutter={});const s=e.viewState;this.children_.length=0;const r=[];let o=null;for(let a=0,l=n.length;a<l;++a){const u=n[a];e.layerIndex=a;const c=u.layer,h=c.getSourceState();if(!la(u,s)||h!="ready"&&h!="undefined"){c.unrender();continue}const f=c.render(e,o);f&&(f!==o&&(this.children_.push(f),o=f),r.push(u))}this.declutter(e,r),np(this.element_,this.children_),this.dispatchRenderEvent(Mt.POSTCOMPOSE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}declutter(e,n){if(e.declutter){for(let i=n.length-1;i>=0;--i){const s=n[i],r=s.layer;r.getDeclutter()&&r.renderDeclutter(e,s)}n.forEach(i=>i.layer.renderDeferred(e))}}}class nn extends cn{constructor(e,n){super(e),this.layer=n}}const Kr={LAYERS:"layers"};class ti extends Gu{constructor(e){e=e||{};const n=Object.assign({},e);delete n.layers;let i=e.layers;super(n),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(Kr.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new Xt(i.slice(),{unique:!0}):ve(typeof i.getArray=="function","Expected `layers` to be an array or a `Collection`"):i=new Xt(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Ae),this.layersListenerKeys_.length=0;const e=this.getLayers();this.layersListenerKeys_.push(ge(e,ht.ADD,this.handleLayersAdd_,this),ge(e,ht.REMOVE,this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(Ae);ir(this.listenerKeys_);const n=e.getArray();for(let i=0,s=n.length;i<s;i++){const r=n[i];this.registerLayerListeners_(r),this.dispatchEvent(new nn("addlayer",r))}this.changed()}registerLayerListeners_(e){const n=[ge(e,Di.PROPERTYCHANGE,this.handleLayerChange_,this),ge(e,J.CHANGE,this.handleLayerChange_,this)];e instanceof ti&&n.push(ge(e,"addlayer",this.handleLayerGroupAdd_,this),ge(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[$e(e)]=n}handleLayerGroupAdd_(e){this.dispatchEvent(new nn("addlayer",e.layer))}handleLayerGroupRemove_(e){this.dispatchEvent(new nn("removelayer",e.layer))}handleLayersAdd_(e){const n=e.element;this.registerLayerListeners_(n),this.dispatchEvent(new nn("addlayer",n)),this.changed()}handleLayersRemove_(e){const n=e.element,i=$e(n);this.listenerKeys_[i].forEach(Ae),delete this.listenerKeys_[i],this.dispatchEvent(new nn("removelayer",n)),this.changed()}getLayers(){return this.get(Kr.LAYERS)}setLayers(e){const n=this.getLayers();if(n){const i=n.getArray();for(let s=0,r=i.length;s<r;++s)this.dispatchEvent(new nn("removelayer",i[s]))}this.set(Kr.LAYERS,e)}getLayersArray(e){return e=e!==void 0?e:[],this.getLayers().forEach(function(n){n.getLayersArray(e)}),e}getLayerStatesArray(e){const n=e!==void 0?e:[],i=n.length;this.getLayers().forEach(function(o){o.getLayerStatesArray(n)});const s=this.getLayerState();let r=s.zIndex;!e&&s.zIndex===void 0&&(r=0);for(let o=i,a=n.length;o<a;o++){const l=n[o];l.opacity*=s.opacity,l.visible=l.visible&&s.visible,l.maxResolution=Math.min(l.maxResolution,s.maxResolution),l.minResolution=Math.max(l.minResolution,s.minResolution),l.minZoom=Math.max(l.minZoom,s.minZoom),l.maxZoom=Math.min(l.maxZoom,s.maxZoom),s.extent!==void 0&&(l.extent!==void 0?l.extent=Et(l.extent,s.extent):l.extent=s.extent),l.zIndex===void 0&&(l.zIndex=r)}return n}getSourceState(){return"ready"}}class kn extends cn{constructor(e,n,i){super(e),this.map=n,this.frameState=i!==void 0?i:null}}class qt extends kn{constructor(e,n,i,s,r,o){super(e,n,r),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=s!==void 0?s:!1,this.activePointers=o}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(e){this.pixel_=e}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(e){this.coordinate_=e}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const Se={SINGLECLICK:"singleclick",CLICK:J.CLICK,DBLCLICK:J.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},yo={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};class s0 extends sr{constructor(e,n){super(e),this.map_=e,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n===void 0?1:n,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=ge(i,yo.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=ge(i,yo.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(J.TOUCHMOVE,this.boundHandleTouchMove_,hh?{passive:!1}:!1)}emulateClick_(e){let n=new qt(Se.CLICK,this.map_,e);this.dispatchEvent(n),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new qt(Se.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const i=new qt(Se.SINGLECLICK,this.map_,e);this.dispatchEvent(i)},250)}updateActivePointers_(e){const n=e,i=n.pointerId;if(n.type==Se.POINTERUP||n.type==Se.POINTERCANCEL){delete this.trackedTouches_[i];for(const s in this.trackedTouches_)if(this.trackedTouches_[s].target!==n.target){delete this.trackedTouches_[s];break}}else(n.type==Se.POINTERDOWN||n.type==Se.POINTERMOVE)&&(this.trackedTouches_[i]=n);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(e){this.updateActivePointers_(e);const n=new qt(Se.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(n),this.emulateClicks_&&!n.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Ae),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(e){return e.button===0}handlePointerDown_(e){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(e);const n=new qt(Se.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(n),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),this.dragListenerKeys_.length===0){const i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(ge(i,Se.POINTERMOVE,this.handlePointerMove_,this),ge(i,Se.POINTERUP,this.handlePointerUp_,this),ge(this.element_,Se.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(ge(this.element_.getRootNode(),Se.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;const n=new qt(Se.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(n)}}relayMoveEvent_(e){this.originalPointerMoveEvent_=e;const n=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new qt(Se.POINTERMOVE,this.map_,e,n))}handleTouchMove_(e){const n=this.originalPointerMoveEvent_;(!n||n.defaultPrevented)&&(typeof e.cancelable!="boolean"||e.cancelable===!0)&&e.preventDefault()}isMoving_(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Ae(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(J.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Ae(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Ae),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const Jt={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},Xe={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},zs=1/0;class r0{constructor(e,n){this.priorityFunction_=e,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,ir(this.queuedElements_)}dequeue(){const e=this.elements_,n=this.priorities_,i=e[0];e.length==1?(e.length=0,n.length=0):(e[0]=e.pop(),n[0]=n.pop(),this.siftUp_(0));const s=this.keyFunction_(i);return delete this.queuedElements_[s],i}enqueue(e){ve(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const n=this.priorityFunction_(e);return n!=zs?(this.elements_.push(e),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(e){return e*2+1}getRightChildIndex_(e){return e*2+2}getParentIndex_(e){return e-1>>1}heapify_(){let e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}isEmpty(){return this.elements_.length===0}isKeyQueued(e){return e in this.queuedElements_}isQueued(e){return this.isKeyQueued(this.keyFunction_(e))}siftUp_(e){const n=this.elements_,i=this.priorities_,s=n.length,r=n[e],o=i[e],a=e;for(;e<s>>1;){const l=this.getLeftChildIndex_(e),u=this.getRightChildIndex_(e),c=u<s&&i[u]<i[l]?u:l;n[e]=n[c],i[e]=i[c],e=c}n[e]=r,i[e]=o,this.siftDown_(a,e)}siftDown_(e,n){const i=this.elements_,s=this.priorities_,r=i[n],o=s[n];for(;n>e;){const a=this.getParentIndex_(n);if(s[a]>o)i[n]=i[a],s[n]=s[a],n=a;else break}i[n]=r,s[n]=o}reprioritize(){const e=this.priorityFunction_,n=this.elements_,i=this.priorities_;let s=0;const r=n.length;let o,a,l;for(a=0;a<r;++a)o=n[a],l=e(o),l==zs?delete this.queuedElements_[this.keyFunction_(o)]:(i[s]=l,n[s++]=o);n.length=s,i.length=s,this.heapify_()}}const X={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};class o0 extends r0{constructor(e,n){super(function(i){return e.apply(null,i)},function(i){return i[0].getKey()}),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(e){const n=super.enqueue(e);return n&&e[0].addEventListener(J.CHANGE,this.boundHandleTileChange_),n}getTilesLoading(){return this.tilesLoading_}handleTileChange(e){const n=e.target,i=n.getState();if(i===X.LOADED||i===X.ERROR||i===X.EMPTY){i!==X.ERROR&&n.removeEventListener(J.CHANGE,this.boundHandleTileChange_);const s=n.getKey();s in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[s],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(e,n){let i=0;for(;this.tilesLoading_<e&&i<n&&this.getCount()>0;){const s=this.dequeue()[0],r=s.getKey();s.getState()===X.IDLE&&!(r in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++i,s.load())}}}function a0(t,e,n,i,s){if(!t||!(n in t.wantedTiles)||!t.wantedTiles[n][e.getKey()])return zs;const r=t.viewState.center,o=i[0]-r[0],a=i[1]-r[1];return 65536*Math.log(s)+Math.sqrt(o*o+a*a)/s}class Ea extends Yt{constructor(e){super();const n=e.element;n&&!e.target&&!n.style.pointerEvents&&(n.style.pointerEvents="auto"),this.element=n||null,this.target_=null,this.map_=null,this.listenerKeys=[],e.render&&(this.render=e.render),e.target&&this.setTarget(e.target)}disposeInternal(){var e;(e=this.element)==null||e.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(e){var n;this.map_&&((n=this.element)==null||n.remove());for(let i=0,s=this.listenerKeys.length;i<s;++i)Ae(this.listenerKeys[i]);this.listenerKeys.length=0,this.map_=e,e&&((this.target_??e.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==Ms&&this.listenerKeys.push(ge(e,Jt.POSTRENDER,this.render,this)),e.render())}render(e){}setTarget(e){this.target_=typeof e=="string"?document.getElementById(e):e}}class l0 extends Ea{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=e.collapsed!==void 0?e.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=e.collapsible!==void 0,this.collapsible_=e.collapsible!==void 0?e.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=e.attributions;const n=e.className!==void 0?e.className:"ol-attribution",i=e.tipLabel!==void 0?e.tipLabel:"Attributions",s=e.expandClassName!==void 0?e.expandClassName:n+"-expand",r=e.collapseLabel!==void 0?e.collapseLabel:"",o=e.collapseClassName!==void 0?e.collapseClassName:n+"-collapse";typeof r=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=r,this.collapseLabel_.className=o):this.collapseLabel_=r;const a=e.label!==void 0?e.label:"i";typeof a=="string"?(this.label_=document.createElement("span"),this.label_.textContent=a,this.label_.className=s):this.label_=a;const l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(l),this.toggleButton_.addEventListener(J.CLICK,this.handleClick_.bind(this),!1);const u=n+" "+fr+" "+ga+(this.collapsed_&&this.collapsible_?" "+ql:"")+(this.collapsible_?"":" ol-uncollapsible"),c=this.element;c.className=u,c.appendChild(this.toggleButton_),c.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(e){const n=this.getMap().getAllLayers(),i=new Set(n.flatMap(s=>s.getAttributions(e)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(s=>i.add(s)):i.add(this.attributions_)),!this.overrideCollapsible_){const s=!n.some(r=>{var o;return((o=r.getSource())==null?void 0:o.getAttributionsCollapsible())===!1});this.setCollapsible(s)}return Array.from(i)}async updateElement_(e){if(!e){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const n=await Promise.all(this.collectSourceAttributions_(e).map(s=>y_(()=>s))),i=n.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!tr(n,this.renderedAttributions_)){tp(this.ulElement_);for(let s=0,r=n.length;s<r;++s){const o=document.createElement("li");o.innerHTML=n[s],this.ulElement_.appendChild(o)}this.renderedAttributions_=n}}handleClick_(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(ql),this.collapsed_?Hl(this.collapseLabel_,this.label_):Hl(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(e){this.userCollapsed_=e,!(!this.collapsible_||this.collapsed_===e)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(e){this.updateElement_(e.frameState)}}class c0 extends Ea{constructor(e){e=e||{},super({element:document.createElement("div"),render:e.render,target:e.target});const n=e.className!==void 0?e.className:"ol-rotate",i=e.label!==void 0?e.label:"",s=e.compassClassName!==void 0?e.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=s,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(s));const r=e.tipLabel?e.tipLabel:"Reset rotation",o=document.createElement("button");o.className=n+"-reset",o.setAttribute("type","button"),o.title=r,o.appendChild(this.label_),o.addEventListener(J.CLICK,this.handleClick_.bind(this),!1);const a=n+" "+fr+" "+ga,l=this.element;l.className=a,l.appendChild(o),this.callResetNorth_=e.resetNorth?e.resetNorth:void 0,this.duration_=e.duration!==void 0?e.duration:250,this.autoHide_=e.autoHide!==void 0?e.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(_s)}handleClick_(e){e.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const n=this.getMap().getView();if(!n)return;const i=n.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?n.animate({rotation:0,duration:this.duration_,easing:ei}):n.setRotation(0))}render(e){const n=e.frameState;if(!n)return;const i=n.viewState.rotation;if(i!=this.rotation_){const s="rotate("+i+"rad)";if(this.autoHide_){const r=this.element.classList.contains(_s);!r&&i===0?this.element.classList.add(_s):r&&i!==0&&this.element.classList.remove(_s)}this.label_.style.transform=s}this.rotation_=i}}class u0 extends Ea{constructor(e){e=e||{},super({element:document.createElement("div"),target:e.target});const n=e.className!==void 0?e.className:"ol-zoom",i=e.delta!==void 0?e.delta:1,s=e.zoomInClassName!==void 0?e.zoomInClassName:n+"-in",r=e.zoomOutClassName!==void 0?e.zoomOutClassName:n+"-out",o=e.zoomInLabel!==void 0?e.zoomInLabel:"+",a=e.zoomOutLabel!==void 0?e.zoomOutLabel:"",l=e.zoomInTipLabel!==void 0?e.zoomInTipLabel:"Zoom in",u=e.zoomOutTipLabel!==void 0?e.zoomOutTipLabel:"Zoom out",c=document.createElement("button");c.className=s,c.setAttribute("type","button"),c.title=l,c.appendChild(typeof o=="string"?document.createTextNode(o):o),c.addEventListener(J.CLICK,this.handleClick_.bind(this,i),!1);const h=document.createElement("button");h.className=r,h.setAttribute("type","button"),h.title=u,h.appendChild(typeof a=="string"?document.createTextNode(a):a),h.addEventListener(J.CLICK,this.handleClick_.bind(this,-i),!1);const f=n+" "+fr+" "+ga,d=this.element;d.className=f,d.appendChild(c),d.appendChild(h),this.duration_=e.duration!==void 0?e.duration:250}handleClick_(e,n){n.preventDefault(),this.zoomByDelta_(e)}zoomByDelta_(e){const i=this.getMap().getView();if(!i)return;const s=i.getZoom();if(s!==void 0){const r=i.getConstrainedZoom(s+e);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:r,duration:this.duration_,easing:ei})):i.setZoom(r)}}}function h0(t){t=t||{};const e=new Xt;return(t.zoom!==void 0?t.zoom:!0)&&e.push(new u0(t.zoomOptions)),(t.rotate!==void 0?t.rotate:!0)&&e.push(new c0(t.rotateOptions)),(t.attribution!==void 0?t.attribution:!0)&&e.push(new l0(t.attributionOptions)),e}const hc={ACTIVE:"active"};class es extends Yt{constructor(e){super(),this.on,this.once,this.un,e&&e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(hc.ACTIVE)}getMap(){return this.map_}handleEvent(e){return!0}setActive(e){this.set(hc.ACTIVE,e)}setMap(e){this.map_=e}}function f0(t,e,n){const i=t.getCenterInternal();if(i){const s=[i[0]+e[0],i[1]+e[1]];t.animateInternal({duration:n!==void 0?n:250,easing:cm,center:t.getConstrainedCenter(s)})}}function va(t,e,n,i){const s=t.getZoom();if(s===void 0)return;const r=t.getConstrainedZoom(s+e),o=t.getResolutionForZoom(r);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:o,anchor:n,duration:i!==void 0?i:250,easing:ei})}class d0 extends es{constructor(e){super(),e=e||{},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:250}handleEvent(e){let n=!1;if(e.type==Se.DBLCLICK){const i=e.originalEvent,s=e.map,r=e.coordinate,o=i.shiftKey?-this.delta_:this.delta_,a=s.getView();va(a,o,r,this.duration_),i.preventDefault(),n=!0}return!n}}class ts extends es{constructor(e){e=e||{},super(e),e.handleDownEvent&&(this.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(this.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(this.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(this.handleUpEvent=e.handleUpEvent),e.stopDown&&(this.stopDown=e.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(e){return!1}handleDragEvent(e){}handleEvent(e){if(!e.originalEvent)return!0;let n=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==Se.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==Se.POINTERUP){const i=this.handleUpEvent(e);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(e.type==Se.POINTERDOWN){const i=this.handleDownEvent(e);this.handlingDownUpSequence=i,n=this.stopDown(i)}else e.type==Se.POINTERMOVE&&this.handleMoveEvent(e);return!n}handleMoveEvent(e){}handleUpEvent(e){return!1}stopDown(e){return e}updateTrackedPointers_(e){e.activePointers&&(this.targetPointers=e.activePointers)}}function wa(t){const e=t.length;let n=0,i=0;for(let s=0;s<e;s++)n+=t[s].clientX,i+=t[s].clientY;return{clientX:n/e,clientY:i/e}}function Eo(t){const e=arguments;return function(n){let i=!0;for(let s=0,r=e.length;s<r&&(i=i&&e[s](n),!!i);++s);return i}}const g0=function(t){const e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},_0=function(t){const e=t.map.getTargetElement(),n=e.getRootNode(),i=t.map.getOwnerDocument().activeElement;return n instanceof ShadowRoot?n.host.contains(i):e.contains(i)},wh=function(t){const e=t.map.getTargetElement(),n=e.getRootNode();return(n instanceof ShadowRoot?n.host:e).hasAttribute("tabindex")?_0(t):!0},m0=Ss,Rh=function(t){const e=t.originalEvent;return e.button==0&&!(Qm&&lh&&e.ctrlKey)},Ch=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},p0=function(t){const e=t.originalEvent;return lh?e.metaKey:e.ctrlKey},y0=function(t){const e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},xh=function(t){const e=t.originalEvent,n=e.target.tagName;return n!=="INPUT"&&n!=="SELECT"&&n!=="TEXTAREA"&&!e.target.isContentEditable},Ur=function(t){const e=t.originalEvent;return ve(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.pointerType=="mouse"},E0=function(t){const e=t.originalEvent;return ve(e!==void 0,"mapBrowserEvent must originate from a pointer event"),e.isPrimary&&e.button===0};class v0 extends ts{constructor(e){super({stopDown:nr}),e=e||{},this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const n=e.condition?e.condition:Eo(Ch,E0);this.condition_=e.onFocusOnly?Eo(wh,n):n,this.noKinetic_=!1}handleDragEvent(e){const n=e.map;this.panning_||(this.panning_=!0,n.getView().beginInteraction());const i=this.targetPointers,s=n.getEventPixel(wa(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(s[0],s[1]),this.lastCentroid){const r=[this.lastCentroid[0]-s[0],s[1]-this.lastCentroid[1]],a=e.map.getView();W_(r,a.getResolution()),Qo(r,a.getRotation()),a.adjustCenterInternal(r)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=s,this.lastPointersCount_=i.length,e.originalEvent.preventDefault()}handleUpEvent(e){const n=e.map,i=n.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const s=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),o=i.getCenterInternal(),a=n.getPixelFromCoordinateInternal(o),l=n.getCoordinateFromPixelInternal([a[0]-s*Math.cos(r),a[1]-s*Math.sin(r)]);i.animateInternal({center:i.getConstrainedCenter(l),duration:500,easing:ei})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(e){if(this.targetPointers.length>0&&this.condition_(e)){const i=e.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class w0 extends ts{constructor(e){e=e||{},super({stopDown:nr}),this.condition_=e.condition?e.condition:g0,this.lastAngle_=void 0,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){if(!Ur(e))return;const n=e.map,i=n.getView();if(i.getConstraints().rotation===ra)return;const s=n.getSize(),r=e.pixel,o=Math.atan2(s[1]/2-r[1],r[0]-s[0]/2);if(this.lastAngle_!==void 0){const a=o-this.lastAngle_;i.adjustRotationInternal(-a)}this.lastAngle_=o}handleUpEvent(e){return Ur(e)?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){return Ur(e)&&Rh(e)&&this.condition_(e)?(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class R0 extends Qs{constructor(e){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const e=this.startPixel_,n=this.endPixel_,i="px",s=this.element_.style;s.left=Math.min(e[0],n[0])+i,s.top=Math.min(e[1],n[1])+i,s.width=Math.abs(n[0]-e[0])+i,s.height=Math.abs(n[1]-e[1])+i}setMap(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const n=this.element_.style;n.left="inherit",n.top="inherit",n.width="inherit",n.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(e,n){this.startPixel_=e,this.endPixel_=n,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const e=this.startPixel_,n=this.endPixel_,s=[e,[e[0],n[1]],n,[n[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);s[4]=s[0].slice(),this.geometry_?this.geometry_.setCoordinates([s]):this.geometry_=new zi([s])}getGeometry(){return this.geometry_}}const Mn={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class ci extends cn{constructor(e,n,i){super(e),this.coordinate=n,this.mapBrowserEvent=i}}class C0 extends ts{constructor(e){super(),this.on,this.once,this.un,e=e??{},this.box_=new R0(e.className||"ol-dragbox"),this.minArea_=e.minArea??64,e.onBoxEnd&&(this.onBoxEnd=e.onBoxEnd),this.startPixel_=null,this.condition_=e.condition??Rh,this.boxEndCondition_=e.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(e,n,i){const s=i[0]-n[0],r=i[1]-n[1];return s*s+r*r>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new ci(Mn.BOXDRAG,e.coordinate,e)))}handleUpEvent(e){if(!this.startPixel_)return!1;const n=this.boxEndCondition_(e,this.startPixel_,e.pixel);return n&&this.onBoxEnd(e),this.dispatchEvent(new ci(n?Mn.BOXEND:Mn.BOXCANCEL,e.coordinate,e)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(e){return this.condition_(e)?(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new ci(Mn.BOXSTART,e.coordinate,e)),!0):!1}onBoxEnd(e){}setActive(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new ci(Mn.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(e)}setMap(e){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new ci(Mn.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(e)}}class x0 extends C0{constructor(e){e=e||{};const n=e.condition?e.condition:y0;super({condition:n,className:e.className||"ol-dragzoom",minArea:e.minArea}),this.duration_=e.duration!==void 0?e.duration:200,this.out_=e.out!==void 0?e.out:!1}onBoxEnd(e){const i=this.getMap().getView();let s=this.getGeometry();if(this.out_){const r=i.rotatedExtentForGeometry(s),o=i.getResolutionForExtentInternal(r),a=i.getResolution()/o;s=s.clone(),s.scale(a*a)}i.fitInternal(s,{duration:this.duration_,easing:ei})}}const dn={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class T0 extends es{constructor(e){super(),e=e||{},this.defaultCondition_=function(n){return Ch(n)&&xh(n)},this.condition_=e.condition!==void 0?e.condition:this.defaultCondition_,this.duration_=e.duration!==void 0?e.duration:100,this.pixelDelta_=e.pixelDelta!==void 0?e.pixelDelta:128}handleEvent(e){let n=!1;if(e.type==J.KEYDOWN){const i=e.originalEvent,s=i.key;if(this.condition_(e)&&(s==dn.DOWN||s==dn.LEFT||s==dn.RIGHT||s==dn.UP)){const o=e.map.getView(),a=o.getResolution()*this.pixelDelta_;let l=0,u=0;s==dn.DOWN?u=-a:s==dn.LEFT?l=-a:s==dn.RIGHT?l=a:u=a;const c=[l,u];Qo(c,o.getRotation()),f0(o,c,this.duration_),i.preventDefault(),n=!0}}return!n}}class b0 extends es{constructor(e){super(),e=e||{},this.condition_=e.condition?e.condition:function(n){return!p0(n)&&xh(n)},this.delta_=e.delta?e.delta:1,this.duration_=e.duration!==void 0?e.duration:100}handleEvent(e){let n=!1;if(e.type==J.KEYDOWN||e.type==J.KEYPRESS){const i=e.originalEvent,s=i.key;if(this.condition_(e)&&(s==="+"||s==="-")){const r=e.map,o=s==="+"?this.delta_:-this.delta_,a=r.getView();va(a,o,void 0,this.duration_),i.preventDefault(),n=!0}}return!n}}class I0{constructor(e,n,i){this.decay_=e,this.minVelocity_=n,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(e,n){this.points_.push(e,n,Date.now())}end(){if(this.points_.length<6)return!1;const e=Date.now()-this.delay_,n=this.points_.length-3;if(this.points_[n+2]<e)return!1;let i=n-3;for(;i>0&&this.points_[i+2]>e;)i-=3;const s=this.points_[n+2]-this.points_[i+2];if(s<1e3/60)return!1;const r=this.points_[n]-this.points_[i],o=this.points_[n+1]-this.points_[i+1];return this.angle_=Math.atan2(o,r),this.initialVelocity_=Math.sqrt(r*r+o*o)/s,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}class A0 extends es{constructor(e){e=e||{},super(e),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=e.maxDelta!==void 0?e.maxDelta:1,this.duration_=e.duration!==void 0?e.duration:250,this.timeout_=e.timeout!==void 0?e.timeout:80,this.useAnchor_=e.useAnchor!==void 0?e.useAnchor:!0,this.constrainResolution_=e.constrainResolution!==void 0?e.constrainResolution:!1;const n=e.condition?e.condition:m0;this.condition_=e.onFocusOnly?Eo(wh,n):n,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const e=this.getMap();if(!e)return;e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(e){if(!this.condition_(e)||e.type!==J.WHEEL)return!0;const i=e.map,s=e.originalEvent;s.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.pixel);let r;if(e.type==J.WHEEL&&(r=s.deltaY,qm&&s.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(r/=ch),s.deltaMode===WheelEvent.DOM_DELTA_LINE&&(r*=40)),r===0)return!1;this.lastDelta_=r;const o=Date.now();this.startTime_===void 0&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(r)<4?"trackpad":"wheel");const a=i.getView();if(this.mode_==="trackpad"&&!(a.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-r/this.deltaPerZoom_,this.lastAnchor_?i.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=o,!1;this.totalDelta_+=r;const l=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),l),!1}handleWheelZoom_(e){const n=e.getView();n.getAnimating()&&n.cancelAnimations();let i=-Le(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(n.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),va(n,i,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}class S0 extends ts{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=nr),super(n),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=e.threshold!==void 0?e.threshold:.3,this.duration_=e.duration!==void 0?e.duration:250}handleDragEvent(e){let n=0;const i=this.targetPointers[0],s=this.targetPointers[1],r=Math.atan2(s.clientY-i.clientY,s.clientX-i.clientX);if(this.lastAngle_!==void 0){const l=r-this.lastAngle_;this.rotationDelta_+=l,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),n=l}this.lastAngle_=r;const o=e.map,a=o.getView();a.getConstraints().rotation!==ra&&(this.anchor_=o.getCoordinateFromPixelInternal(o.getEventPixel(wa(this.targetPointers))),this.rotating_&&(o.render(),a.adjustRotationInternal(n,this.anchor_)))}handleUpEvent(e){return this.targetPointers.length<2?(e.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}class M0 extends ts{constructor(e){e=e||{};const n=e;n.stopDown||(n.stopDown=nr),super(n),this.anchor_=null,this.duration_=e.duration!==void 0?e.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(e){let n=1;const i=this.targetPointers[0],s=this.targetPointers[1],r=i.clientX-s.clientX,o=i.clientY-s.clientY,a=Math.sqrt(r*r+o*o);this.lastDistance_!==void 0&&(n=this.lastDistance_/a),this.lastDistance_=a;const l=e.map,u=l.getView();n!=1&&(this.lastScaleDelta_=n),this.anchor_=l.getCoordinateFromPixelInternal(l.getEventPixel(wa(this.targetPointers))),l.render(),u.adjustResolutionInternal(n,this.anchor_)}handleUpEvent(e){if(this.targetPointers.length<2){const i=e.map.getView(),s=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,s),!1}return!0}handleDownEvent(e){if(this.targetPointers.length>=2){const n=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||n.getView().beginInteraction(),!0}return!1}}function P0(t){t=t||{};const e=new Xt,n=new I0(-.005,.05,100);return(t.altShiftDragRotate!==void 0?t.altShiftDragRotate:!0)&&e.push(new w0),(t.doubleClickZoom!==void 0?t.doubleClickZoom:!0)&&e.push(new d0({delta:t.zoomDelta,duration:t.zoomDuration})),(t.dragPan!==void 0?t.dragPan:!0)&&e.push(new v0({onFocusOnly:t.onFocusOnly,kinetic:n})),(t.pinchRotate!==void 0?t.pinchRotate:!0)&&e.push(new S0),(t.pinchZoom!==void 0?t.pinchZoom:!0)&&e.push(new M0({duration:t.zoomDuration})),(t.keyboard!==void 0?t.keyboard:!0)&&(e.push(new T0),e.push(new b0({delta:t.zoomDelta,duration:t.zoomDuration}))),(t.mouseWheelZoom!==void 0?t.mouseWheelZoom:!0)&&e.push(new A0({onFocusOnly:t.onFocusOnly,duration:t.zoomDuration})),(t.shiftDragZoom!==void 0?t.shiftDragZoom:!0)&&e.push(new x0({duration:t.zoomDuration})),e}function Th(t){if(t instanceof ur){t.setMapInternal(null);return}t instanceof ti&&t.getLayers().forEach(Th)}function bh(t,e){if(t instanceof ur){t.setMapInternal(e);return}if(t instanceof ti){const n=t.getLayers().getArray();for(let i=0,s=n.length;i<s;++i)bh(n[i],e)}}let L0=class extends Yt{constructor(e){super(),e=e||{},this.on,this.once,this.un;const n=O0(e);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=e.maxTilesLoading!==void 0?e.maxTilesLoading:16,this.pixelRatio_=e.pixelRatio!==void 0?e.pixelRatio:ch,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=Bn(),this.pixelToCoordinateTransform_=Bn(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=e.moveTolerance,this.keyboardEventTarget_=n.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=n.controls||h0(),this.interactions=n.interactions||P0({onFocusOnly:!0}),this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new o0(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(Xe.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(Xe.VIEW,this.handleViewChanged_),this.addChangeListener(Xe.SIZE,this.handleSizeChanged_),this.addChangeListener(Xe.TARGET,this.handleTargetChanged_),this.setProperties(n.values);const i=this;e.view&&!(e.view instanceof St)&&e.view.then(function(s){i.setView(new St(s))}),this.controls.addEventListener(ht.ADD,s=>{s.element.setMap(this)}),this.controls.addEventListener(ht.REMOVE,s=>{s.element.setMap(null)}),this.interactions.addEventListener(ht.ADD,s=>{s.element.setMap(this)}),this.interactions.addEventListener(ht.REMOVE,s=>{s.element.setMap(null)}),this.overlays_.addEventListener(ht.ADD,s=>{this.addOverlayInternal_(s.element)}),this.overlays_.addEventListener(ht.REMOVE,s=>{const r=s.element.getId();r!==void 0&&delete this.overlayIdIndex_[r.toString()],s.element.setMap(null)}),this.controls.forEach(s=>{s.setMap(this)}),this.interactions.forEach(s=>{s.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(e){this.getControls().push(e)}addInteraction(e){this.getInteractions().push(e)}addLayer(e){this.getLayerGroup().getLayers().push(e)}handleLayerAdd_(e){bh(e.layer,this)}addOverlay(e){this.getOverlays().push(e)}addOverlayInternal_(e){const n=e.getId();n!==void 0&&(this.overlayIdIndex_[n.toString()]=e),e.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(e,n,i){if(!this.frameState_||!this.renderer_)return;const s=this.getCoordinateFromPixelInternal(e);i=i!==void 0?i:{};const r=i.hitTolerance!==void 0?i.hitTolerance:0,o=i.layerFilter!==void 0?i.layerFilter:Ss,a=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(s,this.frameState_,r,a,n,null,o,null)}getFeaturesAtPixel(e,n){const i=[];return this.forEachFeatureAtPixel(e,function(s){i.push(s)},n),i}getAllLayers(){const e=[];function n(i){i.forEach(function(s){s instanceof ti?n(s.getLayers()):e.push(s)})}return n(this.getLayers()),e}hasFeatureAtPixel(e,n){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(e);n=n!==void 0?n:{};const s=n.layerFilter!==void 0?n.layerFilter:Ss,r=n.hitTolerance!==void 0?n.hitTolerance:0,o=n.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,r,o,s,null)}getEventCoordinate(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}getEventCoordinateInternal(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}getEventPixel(e){const i=this.viewport_.getBoundingClientRect(),s=this.getSize(),r=i.width/s[0],o=i.height/s[1],a="changedTouches"in e?e.changedTouches[0]:e;return[(a.clientX-i.left)/r,(a.clientY-i.top)/o]}getTarget(){return this.get(Xe.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(e){return _o(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}getCoordinateFromPixelInternal(e){const n=this.frameState_;return n?ut(n.pixelToCoordinateTransform,e.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(e){const n=this.overlayIdIndex_[e.toString()];return n!==void 0?n:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(Xe.LAYERGROUP)}setLayers(e){const n=this.getLayerGroup();if(e instanceof Xt){n.setLayers(e);return}const i=n.getLayers();i.clear(),i.extend(e)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,i=e.length;n<i;++n){const s=e[n];if(!s.visible)continue;const r=s.layer.getRenderer();if(r&&!r.ready)return!0;const o=s.layer.getSource();if(o&&o.loading)return!0}return!1}getPixelFromCoordinate(e){const n=Nt(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(n)}getPixelFromCoordinateInternal(e){const n=this.frameState_;return n?ut(n.coordinateToPixelTransform,e.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(Xe.SIZE)}getView(){return this.get(Xe.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const e=this.getTargetElement();return e?e.ownerDocument:document}getTilePriority(e,n,i,s){return a0(this.frameState_,e,n,i,s)}handleBrowserEvent(e,n){n=n||e.type;const i=new qt(n,this,e);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(e){if(!this.frameState_)return;const n=e.originalEvent,i=n.type;if(i===yo.POINTERDOWN||i===J.WHEEL||i===J.KEYDOWN){const s=this.getOwnerDocument(),r=this.viewport_.getRootNode?this.viewport_.getRootNode():s,o=n.target,a=r instanceof ShadowRoot?r.host===o?r.host.ownerDocument:r:r===s?s.documentElement:r;if(this.overlayContainerStopEvent_.contains(o)||!a.contains(o))return}if(e.frameState=this.frameState_,this.dispatchEvent(e)!==!1){const s=this.getInteractions().getArray().slice();for(let r=s.length-1;r>=0;r--){const o=s[r];if(o.getMap()!==this||!o.getActive()||!this.getTargetElement())continue;if(!o.handleEvent(e)||e.propagationStopped)break}}}handlePostRender(){const e=this.frameState_,n=this.tileQueue_;if(!n.isEmpty()){let s=this.maxTilesLoading_,r=s;if(e){const o=e.viewHints;if(o[ct.ANIMATING]||o[ct.INTERACTING]){const a=Date.now()-e.time>8;s=a?0:8,r=a?0:2}}n.getTilesLoading()<s&&(n.reprioritize(),n.loadMoreTiles(s,r))}e&&this.renderer_&&!e.animate&&(this.renderComplete_?(this.hasListener(Mt.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(Mt.RENDERCOMPLETE,e),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new kn(Jt.LOADEND,this,e)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new kn(Jt.LOADSTART,this,e))));const i=this.postRenderFunctions_;for(let s=0,r=i.length;s<r;++s)i[s](this,e);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,s=this.targetChangeHandlerKeys_.length;i<s;++i)Ae(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(J.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(J.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host),this.setSize(void 0)}const e=this.getTarget(),n=typeof e=="string"?document.getElementById(e):e;if(this.targetElement_=n,!n)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{n.appendChild(this.viewport_),this.renderer_||(this.renderer_=new i0(this)),this.mapBrowserEventHandler_=new s0(this,this.moveTolerance_);for(const r in Se)this.mapBrowserEventHandler_.addEventListener(Se[r],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(J.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(J.WHEEL,this.boundHandleBrowserEvent_,hh?{passive:!1}:!1);let i;if(this.keyboardEventTarget_)i=this.keyboardEventTarget_;else{const r=n.getRootNode();i=r instanceof ShadowRoot?r.host:n}this.targetChangeHandlerKeys_=[ge(i,J.KEYDOWN,this.handleBrowserEvent,this),ge(i,J.KEYPRESS,this.handleBrowserEvent,this)];const s=n.getRootNode();s instanceof ShadowRoot&&this.resizeObserver_.observe(s.host),this.resizeObserver_.observe(n)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Ae(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Ae(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=ge(e,Di.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=ge(e,J.CHANGE,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Ae),this.layerGroupPropertyListenerKeys_=null);const e=this.getLayerGroup();e&&(this.handleLayerAdd_(new nn("addlayer",e)),this.layerGroupPropertyListenerKeys_=[ge(e,Di.PROPERTYCHANGE,this.render,this),ge(e,J.CHANGE,this.render,this),ge(e,"addlayer",this.handleLayerAdd_,this),ge(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const e=this.getLayerGroup().getLayerStatesArray();for(let n=0,i=e.length;n<i;++n){const s=e[n].layer;s.hasRenderer()&&s.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(e){return this.getControls().remove(e)}removeInteraction(e){return this.getInteractions().remove(e)}removeLayer(e){return this.getLayerGroup().getLayers().remove(e)}handleLayerRemove_(e){Th(e.layer)}removeOverlay(e){return this.getOverlays().remove(e)}renderFrame_(e){const n=this.getSize(),i=this.getView(),s=this.frameState_;let r=null;if(n!==void 0&&Yl(n)&&i&&i.isDef()){const o=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),a=i.getState();if(r={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:fo(a.center,a.resolution,a.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:a,viewHints:o,wantedTiles:{},mapId:$e(this),renderTargets:{}},a.nextCenter&&a.nextResolution){const l=isNaN(a.nextRotation)?a.rotation:a.nextRotation;r.nextExtent=fo(a.nextCenter,a.nextResolution,l,n)}}this.frameState_=r,this.renderer_.renderFrame(r),r&&(r.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,r.postRenderFunctions),s&&(!this.previousExtent_||!cr(this.previousExtent_)&&!ho(r.extent,this.previousExtent_))&&(this.dispatchEvent(new kn(Jt.MOVESTART,this,s)),this.previousExtent_=rr(this.previousExtent_)),this.previousExtent_&&!r.viewHints[ct.ANIMATING]&&!r.viewHints[ct.INTERACTING]&&!ho(r.extent,this.previousExtent_)&&(this.dispatchEvent(new kn(Jt.MOVEEND,this,r)),D_(r.extent,this.previousExtent_))),this.dispatchEvent(new kn(Jt.POSTRENDER,this,r)),this.renderComplete_=(this.hasListener(Jt.LOADSTART)||this.hasListener(Jt.LOADEND)||this.hasListener(Mt.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(e){const n=this.getLayerGroup();n&&this.handleLayerRemove_(new nn("removelayer",n)),this.set(Xe.LAYERGROUP,e)}setSize(e){this.set(Xe.SIZE,e)}setTarget(e){this.set(Xe.TARGET,e)}setView(e){if(!e||e instanceof St){this.set(Xe.VIEW,e);return}this.set(Xe.VIEW,new St);const n=this;e.then(function(i){n.setView(new St(i))})}updateSize(){const e=this.getTargetElement();let n;if(e){const s=getComputedStyle(e),r=e.offsetWidth-parseFloat(s.borderLeftWidth)-parseFloat(s.paddingLeft)-parseFloat(s.paddingRight)-parseFloat(s.borderRightWidth),o=e.offsetHeight-parseFloat(s.borderTopWidth)-parseFloat(s.paddingTop)-parseFloat(s.paddingBottom)-parseFloat(s.borderBottomWidth);!isNaN(r)&&!isNaN(o)&&(n=[Math.max(0,r),Math.max(0,o)],!Yl(n)&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&Wu("No map visible because the map container's width or height are 0."))}const i=this.getSize();n&&(!i||!tr(n,i))&&(this.setSize(n),this.updateViewportSize_(n))}updateViewportSize_(e){const n=this.getView();n&&n.setViewportSize(e)}};function O0(t){let e=null;t.keyboardEventTarget!==void 0&&(e=typeof t.keyboardEventTarget=="string"?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);const n={},i=t.layers&&typeof t.layers.getLayers=="function"?t.layers:new ti({layers:t.layers});n[Xe.LAYERGROUP]=i,n[Xe.TARGET]=t.target,n[Xe.VIEW]=t.view instanceof St?t.view:new St;let s;t.controls!==void 0&&(Array.isArray(t.controls)?s=new Xt(t.controls.slice()):(ve(typeof t.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),s=t.controls));let r;t.interactions!==void 0&&(Array.isArray(t.interactions)?r=new Xt(t.interactions.slice()):(ve(typeof t.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),r=t.interactions));let o;return t.overlays!==void 0?Array.isArray(t.overlays)?o=new Xt(t.overlays.slice()):(ve(typeof t.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),o=t.overlays):o=new Xt,{controls:s,interactions:r,keyboardEventTarget:e,overlays:o,values:n}}const ps={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class D0 extends ur{constructor(e){e=e||{};const n=Object.assign({},e),i=e.cacheSize;delete e.cacheSize,delete n.preload,delete n.useInterimTilesOnError,super(n),this.on,this.once,this.un,this.cacheSize_=i,this.setPreload(e.preload!==void 0?e.preload:0),this.setUseInterimTilesOnError(e.useInterimTilesOnError!==void 0?e.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(ps.PRELOAD)}setPreload(e){this.set(ps.PRELOAD,e)}getUseInterimTilesOnError(){return this.get(ps.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(e){this.set(ps.USE_INTERIM_TILES_ON_ERROR,e)}getData(e){return super.getData(e)}}const F0=5;class N0 extends Bi{constructor(e){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=e,this.staleKeys_=new Array,this.maxStaleKeys=F0}getStaleKeys(){return this.staleKeys_}prependStaleKey(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(e){return ae()}getData(e){return null}prepareFrame(e){return ae()}renderFrame(e,n){return ae()}forEachFeatureAtCoordinate(e,n,i,s,r){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(e){const n=e.target;(n.getState()===oe.LOADED||n.getState()===oe.ERROR)&&this.renderIfReadyAndVisible()}loadImage(e){let n=e.getState();return n!=oe.LOADED&&n!=oe.ERROR&&e.addEventListener(J.CHANGE,this.boundHandleImageChange_),n==oe.IDLE&&(e.load(),n=e.getState()),n==oe.LOADED}renderIfReadyAndVisible(){const e=this.getLayer();e&&e.getVisible()&&e.getSourceState()==="ready"&&e.changed()}renderDeferred(e){}disposeInternal(){delete this.layer_,super.disposeInternal()}}class k0{constructor(){Sa(this,"pushMethodArgs_",(...e)=>(this.instructions_[this.zIndex+this.offset_].push(e),this));this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(Fs(),{get:(e,n)=>{if(typeof Fs()[n]=="function")return this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n),this.pushMethodArgs_},set:(e,n,i)=>(this.instructions_[this.zIndex+this.offset_]||(this.instructions_[this.zIndex+this.offset_]=[]),this.instructions_[this.zIndex+this.offset_].push(n,i),!0)})}pushFunction(e){this.instructions_[this.zIndex+this.offset_].push(e)}getContext(){return this.context_}draw(e){this.instructions_.forEach(n=>{for(let i=0,s=n.length;i<s;++i){const r=n[i];if(typeof r=="function"){r(e);continue}const o=n[++i];if(typeof e[r]=="function")e[r](...o);else{if(typeof o=="function"){e[r]=o(e);continue}e[r]=o}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}let zn=null;function z0(){zn=Ue(1,1,void 0,{willReadFrequently:!0})}class G0 extends N0{constructor(e){super(e),this.container=null,this.renderedResolution,this.tempTransform=Bn(),this.pixelTransform=Bn(),this.inversePixelTransform=Bn(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(e,n,i){zn||z0(),zn.clearRect(0,0,1,1);let s;try{zn.drawImage(e,n,i,1,1,0,0,1,1),s=zn.getImageData(0,0,1,1).data}catch{return zn=null,null}return s}getBackground(e){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(e.viewState.resolution)),i||void 0}useContainer(e,n,i){const s=this.getLayer().getClassName();let r,o;if(e&&e.className===s&&(!i||e&&e.style.backgroundColor&&tr(Xi(e.style.backgroundColor),Xi(i)))){const a=e.firstElementChild;a instanceof HTMLCanvasElement&&(o=a.getContext("2d"))}if(o&&o.canvas.style.transform===n?(this.container=e,this.context=o,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){r=document.createElement("div"),r.className=s;let a=r.style;a.position="absolute",a.width="100%",a.height="100%",o=Ue();const l=o.canvas;r.appendChild(l),a=l.style,a.position="absolute",a.left="0",a.transformOrigin="top left",this.container=r,this.context=o}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(e,n,i){const s=Cn(i),r=lr(i),o=ar(i),a=or(i);ut(n.coordinateToPixelTransform,s),ut(n.coordinateToPixelTransform,r),ut(n.coordinateToPixelTransform,o),ut(n.coordinateToPixelTransform,a);const l=this.inversePixelTransform;ut(l,s),ut(l,r),ut(l,o),ut(l,a),e.save(),e.beginPath(),e.moveTo(Math.round(s[0]),Math.round(s[1])),e.lineTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.clip()}prepareContainer(e,n){const i=e.extent,s=e.viewState.resolution,r=e.viewState.rotation,o=e.pixelRatio,a=Math.round(Ie(i)/s*o),l=Math.round(at(i)/s*o);Ni(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/o,1/o,r,-a/2,-l/2),Hu(this.inversePixelTransform,this.pixelTransform);const u=hm(this.pixelTransform);if(this.useContainer(n,u,this.getBackground(e)),!this.containerReused){const c=this.context.canvas;c.width!=a||c.height!=l?(c.width=a,c.height=l):this.context.clearRect(0,0,a,l),u!==c.style.transform&&(c.style.transform=u)}}dispatchRenderEvent_(e,n,i){const s=this.getLayer();if(s.hasListener(e)){const r=new vh(e,this.inversePixelTransform,i,n);s.dispatchEvent(r)}}preRender(e,n){this.frameState=n,!n.declutter&&this.dispatchRenderEvent_(Mt.PRERENDER,e,n)}postRender(e,n){n.declutter||this.dispatchRenderEvent_(Mt.POSTRENDER,e,n)}renderDeferredInternal(e){}getRenderContext(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new k0),e.declutter?this.deferredContext_.getContext():this.context}renderDeferred(e){e.declutter&&(this.dispatchRenderEvent_(Mt.PRERENDER,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(Mt.POSTRENDER,this.context,e))}getRenderTransform(e,n,i,s,r,o,a){const l=r/2,u=o/2,c=s/n,h=-c,f=-e[0]+a,d=-e[1];return Ni(this.tempTransform,l,u,c,h,-i,f,d)}disposeInternal(){delete this.frameState,super.disposeInternal()}}class Ra extends sr{constructor(e,n,i){super(),i=i||{},this.tileCoord=e,this.state=n,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(J.CHANGE)}release(){this.state===X.ERROR&&this.setState(X.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(e){if(this.state!==X.ERROR&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}load(){ae()}getAlpha(e,n){if(!this.transition_)return 1;let i=this.transitionStarts_[e];if(!i)i=n,this.transitionStarts_[e]=i;else if(i===-1)return 1;const s=n-i+1e3/60;return s>=this.transition_?1:Bu(s/this.transition_)}inTransition(e){return this.transition_?this.transitionStarts_[e]!==-1:!1}endTransition(e){this.transition_&&(this.transitionStarts_[e]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}function Gs(t){return t instanceof Image||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageBitmap?t:null}function X0(t){return t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Float32Array||t instanceof DataView?t:null}const j0=new Error("disposed");let Pn=null;function K0(t){Pn||(Pn=Ue(t.width,t.height,void 0,{willReadFrequently:!0}));const e=Pn.canvas,n=t.width;e.width!==n&&(e.width=n);const i=t.height;return e.height!==i&&(e.height=i),Pn.clearRect(0,0,n,i),Pn.drawImage(t,0,0),Pn.getImageData(0,0,n,i).data}const U0=[256,256];class vo extends Ra{constructor(e){const n=X.IDLE;super(e.tileCoord,n,{transition:e.transition,interpolate:e.interpolate}),this.loader_=e.loader,this.data_=null,this.error_=null,this.size_=e.size||null,this.controller_=e.controller||null}getSize(){if(this.size_)return this.size_;const e=Gs(this.data_);return e?[e.width,e.height]:U0}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==X.IDLE&&this.state!==X.ERROR)return;this.state=X.LOADING,this.changed();const e=this;this.loader_().then(function(n){e.data_=n,e.state=X.LOADED,e.changed()}).catch(function(n){e.error_=n,e.state=X.ERROR,e.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(j0),this.controller_=null),super.disposeInternal()}}class Ih extends Ra{constructor(e,n,i,s,r,o){super(e,n,o),this.crossOrigin_=s,this.src_=i,this.key=i,this.image_=new Image,s!==null&&(this.image_.crossOrigin=s),this.unlisten_=null,this.tileLoadFunction_=r}getImage(){return this.image_}setImage(e){this.image_=e,this.state=X.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=X.ERROR,this.unlistenImage_(),this.image_=V0(),this.changed()}handleImageLoad_(){const e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=X.LOADED:this.state=X.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==X.ERROR&&(this.state=X.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==X.IDLE&&(this.state=X.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=ip(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}}function V0(){const t=Ue(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}class Y0{constructor(e){this.highWaterMark=e!==void 0?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(e){for(;this.canExpireCache();){const n=this.pop();n instanceof Qs&&n.dispose()}}clear(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}containsKey(e){return this.entries_.hasOwnProperty(e)}forEach(e){let n=this.oldest_;for(;n;)e(n.value_,n.key_,this),n=n.newer}get(e,n){const i=this.entries_[e];return ve(i!==void 0,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(e){const n=this.entries_[e];return ve(n!==void 0,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_?(this.newest_=n.older,this.newest_&&(this.newest_.newer=null)):n===this.oldest_?(this.oldest_=n.newer,this.oldest_&&(this.oldest_.older=null)):(n.newer.older=n.older,n.older.newer=n.newer),delete this.entries_[e],--this.count_,n.value_}getCount(){return this.count_}getKeys(){const e=new Array(this.count_);let n=0,i;for(i=this.newest_;i;i=i.older)e[n++]=i.key_;return e}getValues(){const e=new Array(this.count_);let n=0,i;for(i=this.newest_;i;i=i.older)e[n++]=i.value_;return e}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(e){var n;return(n=this.entries_[e])==null?void 0:n.value_}pop(){const e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}replace(e,n){this.get(e),this.entries_[e].value_=n}set(e,n){ve(!(e in this.entries_),"Tried to set a value for a key that is used already");const i={key_:e,newer:null,older:this.newest_,value_:n};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[e]=i,++this.count_}setSize(e){this.highWaterMark=e}}const Ah=.5,W0=10,fc=.25;class Sh{constructor(e,n,i,s,r,o){this.sourceProj_=e,this.targetProj_=n;let a={};const l=Ds(this.targetProj_,this.sourceProj_);this.transformInv_=function(y){const x=y[0]+"/"+y[1];return a[x]||(a[x]=l(y)),a[x]},this.maxSourceExtent_=s,this.errorThresholdSquared_=r*r,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!s&&!!this.sourceProj_.getExtent()&&Ie(s)>=Ie(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Ie(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Ie(this.targetProj_.getExtent()):null;const u=Cn(i),c=lr(i),h=ar(i),f=or(i),d=this.transformInv_(u),_=this.transformInv_(c),p=this.transformInv_(h),E=this.transformInv_(f),v=W0+(o?Math.max(0,Math.ceil(Math.log2(Fi(i)/(o*o*256*256)))):0);if(this.addQuad_(u,c,h,f,d,_,p,E,v),this.wrapsXInSource_){let y=1/0;this.triangles_.forEach(function(x,R,I){y=Math.min(y,x.source[0][0],x.source[1][0],x.source[2][0])}),this.triangles_.forEach(x=>{if(Math.max(x.source[0][0],x.source[1][0],x.source[2][0])-y>this.sourceWorldWidth_/2){const R=[[x.source[0][0],x.source[0][1]],[x.source[1][0],x.source[1][1]],[x.source[2][0],x.source[2][1]]];R[0][0]-y>this.sourceWorldWidth_/2&&(R[0][0]-=this.sourceWorldWidth_),R[1][0]-y>this.sourceWorldWidth_/2&&(R[1][0]-=this.sourceWorldWidth_),R[2][0]-y>this.sourceWorldWidth_/2&&(R[2][0]-=this.sourceWorldWidth_);const I=Math.min(R[0][0],R[1][0],R[2][0]);Math.max(R[0][0],R[1][0],R[2][0])-I<this.sourceWorldWidth_/2&&(x.source=R)}})}a={}}addTriangle_(e,n,i,s,r,o){this.triangles_.push({source:[s,r,o],target:[e,n,i]})}addQuad_(e,n,i,s,r,o,a,l,u){const c=Ml([r,o,a,l]),h=this.sourceWorldWidth_?Ie(c)/this.sourceWorldWidth_:null,f=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&h>.5&&h<1;let _=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const E=Ml([e,n,i,s]);_=Ie(E)/this.targetWorldWidth_>fc||_}!d&&this.sourceProj_.isGlobal()&&h&&(_=h>fc||_)}if(!_&&this.maxSourceExtent_&&isFinite(c[0])&&isFinite(c[1])&&isFinite(c[2])&&isFinite(c[3])&&!qi(c,this.maxSourceExtent_))return;let p=0;if(!_&&(!isFinite(r[0])||!isFinite(r[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(l[0])||!isFinite(l[1]))){if(u>0)_=!0;else if(p=(!isFinite(r[0])||!isFinite(r[1])?8:0)+(!isFinite(o[0])||!isFinite(o[1])?4:0)+(!isFinite(a[0])||!isFinite(a[1])?2:0)+(!isFinite(l[0])||!isFinite(l[1])?1:0),p!=1&&p!=2&&p!=4&&p!=8)return}if(u>0){if(!_){const E=[(e[0]+i[0])/2,(e[1]+i[1])/2],v=this.transformInv_(E);let y;d?y=(Wn(r[0],f)+Wn(a[0],f))/2-Wn(v[0],f):y=(r[0]+a[0])/2-v[0];const x=(r[1]+a[1])/2-v[1];_=y*y+x*x>this.errorThresholdSquared_}if(_){if(Math.abs(e[0]-i[0])<=Math.abs(e[1]-i[1])){const E=[(n[0]+i[0])/2,(n[1]+i[1])/2],v=this.transformInv_(E),y=[(s[0]+e[0])/2,(s[1]+e[1])/2],x=this.transformInv_(y);this.addQuad_(e,n,E,y,r,o,v,x,u-1),this.addQuad_(y,E,i,s,x,v,a,l,u-1)}else{const E=[(e[0]+n[0])/2,(e[1]+n[1])/2],v=this.transformInv_(E),y=[(i[0]+s[0])/2,(i[1]+s[1])/2],x=this.transformInv_(y);this.addQuad_(e,E,y,s,r,v,x,l,u-1),this.addQuad_(E,n,i,y,v,o,a,x,u-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}p&11||this.addTriangle_(e,i,s,r,a,l),p&14||this.addTriangle_(e,i,n,r,a,o),p&&(p&13||this.addTriangle_(n,s,e,o,l,r),p&7||this.addTriangle_(n,s,i,o,l,a))}calculateSourceExtent(){const e=Rn();return this.triangles_.forEach(function(n,i,s){const r=n.source;Cs(e,r[0]),Cs(e,r[1]),Cs(e,r[2])}),e}getTriangles(){return this.triangles_}}let Vr;const Ut=[];function dc(t,e,n,i,s){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(i,s),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,i)+1,Math.max(n,s)),t.restore()}function Yr(t,e){return Math.abs(t[e*4]-210)>2||Math.abs(t[e*4+3]-.75*255)>2}function Z0(){if(Vr===void 0){const t=Ue(6,6,Ut);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",dc(t,4,5,4,0),dc(t,4,5,0,5);const e=t.getImageData(0,0,3,3).data;Vr=Yr(e,0)||Yr(e,4)||Yr(e,8),ji(t),Ut.push(t.canvas)}return Vr}function gc(t,e,n,i){const s=em(n,e,t);let r=Ol(e,i,n);const o=e.getMetersPerUnit();o!==void 0&&(r*=o);const a=t.getMetersPerUnit();a!==void 0&&(r/=a);const l=t.getExtent();if(!l||Jo(l,s)){const u=Ol(t,r,s)/r;isFinite(u)&&u>0&&(r/=u)}return r}function Mh(t,e,n,i){const s=Jn(n);let r=gc(t,e,s,i);return(!isFinite(r)||r<=0)&&Vu(n,function(o){return r=gc(t,e,o,i),isFinite(r)&&r>0}),r}function Ph(t,e,n,i,s,r,o,a,l,u,c,h,f,d){const _=Ue(Math.round(n*t),Math.round(n*e),Ut);if(h||(_.imageSmoothingEnabled=!1),l.length===0)return _.canvas;_.scale(n,n);function p(I){return Math.round(I*n)/n}_.globalCompositeOperation="lighter";const E=Rn();l.forEach(function(I,K,P){z_(E,I.extent)});let v;const y=n/i,x=(h?1:1+Math.pow(2,-24))/y;if(!f||l.length!==1||u!==0){if(v=Ue(Math.round(Ie(E)*y),Math.round(at(E)*y),Ut),h||(v.imageSmoothingEnabled=!1),s&&d){const I=(s[0]-E[0])*y,K=-(s[3]-E[3])*y,P=Ie(s)*y,D=at(s)*y;v.rect(I,K,P,D),v.clip()}l.forEach(function(I,K,P){if(I.image.width>0&&I.image.height>0){if(I.clipExtent){v.save();const ce=(I.clipExtent[0]-E[0])*y,te=-(I.clipExtent[3]-E[3])*y,B=Ie(I.clipExtent)*y,we=at(I.clipExtent)*y;v.rect(h?ce:Math.round(ce),h?te:Math.round(te),h?B:Math.round(ce+B)-Math.round(ce),h?we:Math.round(te+we)-Math.round(te)),v.clip()}const D=(I.extent[0]-E[0])*y,U=-(I.extent[3]-E[3])*y,se=Ie(I.extent)*y,le=at(I.extent)*y;v.drawImage(I.image,u,u,I.image.width-2*u,I.image.height-2*u,h?D:Math.round(D),h?U:Math.round(U),h?se:Math.round(D+se)-Math.round(D),h?le:Math.round(U+le)-Math.round(U)),I.clipExtent&&v.restore()}})}const R=Cn(o);return a.getTriangles().forEach(function(I,K,P){const D=I.source,U=I.target;let se=D[0][0],le=D[0][1],ce=D[1][0],te=D[1][1],B=D[2][0],we=D[2][1];const Y=p((U[0][0]-R[0])/r),H=p(-(U[0][1]-R[1])/r),$=p((U[1][0]-R[0])/r),Me=p(-(U[1][1]-R[1])/r),me=p((U[2][0]-R[0])/r),ue=p(-(U[2][1]-R[1])/r),he=se,Ye=le;se=0,le=0,ce-=he,te-=Ye,B-=he,we-=Ye;const Je=[[ce,te,0,0,$-Y],[B,we,0,0,me-Y],[0,0,ce,te,Me-H],[0,0,B,we,ue-H]],We=R_(Je);if(!We)return;if(_.save(),_.beginPath(),Z0()||!h){_.moveTo($,Me);const C=4,k=Y-$,F=H-Me;for(let j=0;j<C;j++)_.lineTo($+p((j+1)*k/C),Me+p(j*F/(C-1))),j!=C-1&&_.lineTo($+p((j+1)*k/C),Me+p((j+1)*F/(C-1)));_.lineTo(me,ue)}else _.moveTo($,Me),_.lineTo(Y,H),_.lineTo(me,ue);_.clip(),_.transform(We[0],We[2],We[1],We[3],Y,H),_.translate(E[0]-he,E[3]-Ye);let Re;if(v)Re=v.canvas,_.scale(x,-x);else{const C=l[0],k=C.extent;Re=C.image,_.scale(Ie(k)/Re.width,-at(k)/Re.height)}_.drawImage(Re,0,0),_.restore()}),v&&(ji(v),Ut.push(v.canvas)),c&&(_.save(),_.globalCompositeOperation="source-over",_.strokeStyle="black",_.lineWidth=1,a.getTriangles().forEach(function(I,K,P){const D=I.target,U=(D[0][0]-R[0])/r,se=-(D[0][1]-R[1])/r,le=(D[1][0]-R[0])/r,ce=-(D[1][1]-R[1])/r,te=(D[2][0]-R[0])/r,B=-(D[2][1]-R[1])/r;_.beginPath(),_.moveTo(le,ce),_.lineTo(U,se),_.lineTo(te,B),_.closePath(),_.stroke()}),_.restore()),_.canvas}class B0 extends vo{constructor(e){super({tileCoord:e.tileCoord,loader:()=>Promise.resolve(new Uint8ClampedArray(4)),interpolate:e.interpolate,transition:e.transition}),this.pixelRatio_=e.pixelRatio,this.gutter_=e.gutter,this.reprojData_=null,this.reprojError_=null,this.reprojSize_=void 0,this.sourceTileGrid_=e.sourceTileGrid,this.targetTileGrid_=e.targetTileGrid,this.wrappedTileCoord_=e.wrappedTileCoord||e.tileCoord,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;const n=e.sourceProj,i=n.getExtent(),s=e.sourceTileGrid.getExtent();this.clipExtent_=n.canWrapX()?s?Et(i,s):i:s;const r=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_),o=this.targetTileGrid_.getExtent();let a=this.sourceTileGrid_.getExtent();const l=o?Et(r,o):r;if(Fi(l)===0){this.state=X.EMPTY;return}i&&(a?a=Et(a,i):a=i);const u=this.targetTileGrid_.getResolution(this.wrappedTileCoord_[0]),c=e.targetProj,h=Mh(n,c,l,u);if(!isFinite(h)||h<=0){this.state=X.EMPTY;return}const f=e.errorThreshold!==void 0?e.errorThreshold:Ah;if(this.triangulation_=new Sh(n,c,l,a,h*f,u),this.triangulation_.getTriangles().length===0){this.state=X.EMPTY;return}this.sourceZ_=this.sourceTileGrid_.getZForResolution(h);let d=this.triangulation_.calculateSourceExtent();if(a&&(n.canWrapX()?(d[1]=Le(d[1],a[1],a[3]),d[3]=Le(d[3],a[1],a[3])):d=Et(d,a)),!Fi(d))this.state=X.EMPTY;else{let _=0,p=0;n.canWrapX()&&(_=Ie(i),p=Math.floor((d[0]-i[0])/_)),Yu(d.slice(),n,!0).forEach(v=>{const y=this.sourceTileGrid_.getTileRangeForExtentAndZ(v,this.sourceZ_),x=e.getTileFunction;for(let R=y.minX;R<=y.maxX;R++)for(let I=y.minY;I<=y.maxY;I++){const K=x(this.sourceZ_,R,I,this.pixelRatio_);if(K){const P=p*_;this.sourceTiles_.push({tile:K,offset:P})}}++p}),this.sourceTiles_.length===0&&(this.state=X.EMPTY)}}getSize(){return this.reprojSize_}getData(){return this.reprojData_}getError(){return this.reprojError_}reproject_(){const e=[];let n=!1;if(this.sourceTiles_.forEach(_=>{var H;const p=_.tile;if(!p||p.getState()!==X.LOADED)return;const E=p.getSize(),v=this.gutter_;let y;const x=X0(p.getData());x?y=x:(n=!0,y=K0(Gs(p.getData())));const R=[E[0]+2*v,E[1]+2*v],I=y instanceof Float32Array,K=R[0]*R[1],P=I?Float32Array:Uint8ClampedArray,D=new P(y.buffer),U=P.BYTES_PER_ELEMENT,se=U*D.length/K,le=D.byteLength/R[1],ce=Math.floor(le/U/R[0]),te=K*ce;let B=D;if(D.length!==te){B=new P(te);let $=0,Me=0;const me=R[0]*ce;for(let ue=0;ue<R[1];++ue){for(let he=0;he<me;++he)B[$++]=D[Me+he];Me+=le/U}}const we=this.sourceTileGrid_.getTileCoordExtent(p.tileCoord);we[0]+=_.offset,we[2]+=_.offset;const Y=(H=this.clipExtent_)==null?void 0:H.slice();Y&&(Y[0]+=_.offset,Y[2]+=_.offset),e.push({extent:we,clipExtent:Y,data:new Uint8ClampedArray(B.buffer),dataType:P,bytesPerPixel:se,pixelSize:R})}),this.sourceTiles_.length=0,e.length===0){this.state=X.ERROR,this.changed();return}const i=this.wrappedTileCoord_[0],s=this.targetTileGrid_.getTileSize(i),r=typeof s=="number"?s:s[0],o=typeof s=="number"?s:s[1],a=this.targetTileGrid_.getResolution(i),l=this.sourceTileGrid_.getResolution(this.sourceZ_),u=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);let c,h;const f=e[0].bytesPerPixel,d=Math.ceil(f/3);for(let _=d-1;_>=0;--_){const p=[];for(let I=0,K=e.length;I<K;++I){const P=e[I],D=P.data,U=P.pixelSize,se=U[0],le=U[1],ce=Ue(se,le,Ut),te=ce.createImageData(se,le),B=te.data;let we=_*3;for(let Y=0,H=B.length;Y<H;Y+=4)B[Y]=D[we],B[Y+1]=D[we+1],B[Y+2]=D[we+2],B[Y+3]=255,we+=f;ce.putImageData(te,0,0),p.push({extent:P.extent,clipExtent:P.clipExtent,image:ce.canvas})}const E=Ph(r,o,this.pixelRatio_,l,this.sourceTileGrid_.getExtent(),a,u,this.triangulation_,p,this.gutter_,!1,!1,!1);for(let I=0,K=p.length;I<K;++I){const D=p[I].image.getContext("2d");ji(D),Ut.push(D.canvas)}const v=E.getContext("2d"),y=v.getImageData(0,0,E.width,E.height);ji(v),Ut.push(E),c||(h=new Uint8ClampedArray(f*y.width*y.height),c=new e[0].dataType(h.buffer));const x=y.data;let R=_*3;for(let I=0,K=x.length;I<K;I+=4)x[I+3]===255?(h[R]=x[I],h[R+1]=x[I+1],h[R+2]=x[I+2]):(h[R]=0,h[R+1]=0,h[R+2]=0),R+=f}if(n){const _=Ue(r,o),p=new ImageData(c,r);_.putImageData(p,0,0),this.reprojData_=_.canvas}else this.reprojData_=c;this.reprojSize_=[Math.round(r*this.pixelRatio_),Math.round(o*this.pixelRatio_)],this.state=X.LOADED,this.changed()}load(){if(this.state!==X.IDLE&&this.state!==X.ERROR)return;this.state=X.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{const i=n.getState();if(i!==X.IDLE&&i!==X.LOADING)return;e++;const s=ge(n,J.CHANGE,()=>{const r=n.getState();(r==X.LOADED||r==X.ERROR||r==X.EMPTY)&&(Ae(s),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(s)}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n}){n.getState()==X.IDLE&&n.load()})}unlistenSources_(){this.sourcesListenerKeys_.forEach(Ae),this.sourcesListenerKeys_=null}}class wo extends Ra{constructor(e,n,i,s,r,o,a,l,u,c,h,f){super(r,X.IDLE,f),this.renderEdges_=h!==void 0?h:!1,this.pixelRatio_=a,this.gutter_=l,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=s,this.wrappedTileCoord_=o||r,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=e.canWrapX()?e.getExtent():void 0;const d=s.getTileCoordExtent(this.wrappedTileCoord_),_=this.targetTileGrid_.getExtent();let p=this.sourceTileGrid_.getExtent();const E=_?Et(d,_):d;if(Fi(E)===0){this.state=X.EMPTY;return}const v=e.getExtent();v&&(p?p=Et(p,v):p=v);const y=s.getResolution(this.wrappedTileCoord_[0]),x=Mh(e,i,E,y);if(!isFinite(x)||x<=0){this.state=X.EMPTY;return}const R=c!==void 0?c:Ah;if(this.triangulation_=new Sh(e,i,E,p,x*R,y),this.triangulation_.getTriangles().length===0){this.state=X.EMPTY;return}this.sourceZ_=n.getZForResolution(x);let I=this.triangulation_.calculateSourceExtent();if(p&&(e.canWrapX()?(I[1]=Le(I[1],p[1],p[3]),I[3]=Le(I[3],p[1],p[3])):I=Et(I,p)),!Fi(I))this.state=X.EMPTY;else{let K=0,P=0;e.canWrapX()&&(K=Ie(v),P=Math.floor((I[0]-v[0])/K)),Yu(I.slice(),e,!0).forEach(U=>{const se=n.getTileRangeForExtentAndZ(U,this.sourceZ_);for(let le=se.minX;le<=se.maxX;le++)for(let ce=se.minY;ce<=se.maxY;ce++){const te=u(this.sourceZ_,le,ce,a);if(te){const B=P*K;this.sourceTiles_.push({tile:te,offset:B})}}++P}),this.sourceTiles_.length===0&&(this.state=X.EMPTY)}}getImage(){return this.canvas_}reproject_(){const e=[];if(this.sourceTiles_.forEach(n=>{var s;const i=n.tile;if(i&&i.getState()==X.LOADED){const r=this.sourceTileGrid_.getTileCoordExtent(i.tileCoord);r[0]+=n.offset,r[2]+=n.offset;const o=(s=this.clipExtent_)==null?void 0:s.slice();o&&(o[0]+=n.offset,o[2]+=n.offset),e.push({extent:r,clipExtent:o,image:i.getImage()})}}),this.sourceTiles_.length=0,e.length===0)this.state=X.ERROR;else{const n=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(n),s=typeof i=="number"?i:i[0],r=typeof i=="number"?i:i[1],o=this.targetTileGrid_.getResolution(n),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=Ph(s,r,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),o,l,this.triangulation_,e,this.gutter_,this.renderEdges_,this.interpolate),this.state=X.LOADED}this.changed()}load(){if(this.state==X.IDLE){this.state=X.LOADING,this.changed();let e=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:n})=>{const i=n.getState();if(i==X.IDLE||i==X.LOADING){e++;const s=ge(n,J.CHANGE,r=>{const o=n.getState();(o==X.LOADED||o==X.ERROR||o==X.EMPTY)&&(Ae(s),e--,e===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(s)}}),e===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:n},i,s){n.getState()==X.IDLE&&n.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Ae),this.sourcesListenerKeys_=null}release(){this.canvas_&&(ji(this.canvas_.getContext("2d")),Ut.push(this.canvas_),this.canvas_=null),super.release()}}class Ca{constructor(e,n,i,s){this.minX=e,this.maxX=n,this.minY=i,this.maxY=s}contains(e){return this.containsXY(e[1],e[2])}containsTileRange(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}containsXY(e,n){return this.minX<=e&&e<=this.maxX&&this.minY<=n&&n<=this.maxY}equals(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}extend(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}function Ln(t,e,n,i,s){return s!==void 0?(s.minX=t,s.maxX=e,s.minY=n,s.maxY=i,s):new Ca(t,e,n,i)}function Xs(t,e,n,i){return i!==void 0?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function H0(t,e,n){return t+"/"+e+"/"+n}function $0(t){return q0(t[0],t[1],t[2])}function q0(t,e,n){return(e<<t)+n}function J0(t,e){const n=t[0],i=t[1],s=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const r=e.getFullTileRange(n);return r?r.containsXY(i,s):!0}function Wr(t,e,n,i){return`${t},${H0(e,n,i)}`}function Zr(t,e,n){if(!(n in t))return t[n]=new Set([e]),!0;const i=t[n],s=i.has(e);return s||i.add(e),!s}function Q0(t,e,n){const i=t[n];return i?i.delete(e):!1}function _c(t,e){const n=t.layerStatesArray[t.layerIndex];n.extent&&(e=Et(e,_n(n.extent,t.viewState.projection)));const i=n.layer.getRenderSource();if(!i.getWrapX()){const s=i.getTileGridForProjection(t.viewState.projection).getExtent();s&&(e=Et(e,s))}return e}class ey extends G0{constructor(e,n){super(e),n=n||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=Rn(),this.tempTileRange_=new Ca(0,0,0,0),this.tempTileCoord_=Xs(0,0,0);const i=n.cacheSize!==void 0?n.cacheSize:512;this.tileCache_=new Y0(i),this.renderedProjection_=void 0,this.maxStaleKeys=i*.5}getTileCache(){return this.tileCache_}getOrCreateTile(e,n,i,s){const r=this.tileCache_,a=this.getLayer().getSource(),l=Wr(a.getKey(),e,n,i);let u;if(r.containsKey(l))u=r.get(l);else{if(u=a.getTile(e,n,i,s.pixelRatio,s.viewState.projection),!u)return null;r.set(l,u)}return u}getTile(e,n,i,s){const r=this.getOrCreateTile(e,n,i,s);return r||null}getData(e){const n=this.frameState;if(!n)return null;const i=this.getLayer(),s=ut(n.pixelToCoordinateTransform,e.slice()),r=i.getExtent();if(r&&!Jo(r,s))return null;const o=n.viewState,a=i.getRenderSource(),l=a.getTileGridForProjection(o.projection),u=a.getTilePixelRatio(n.pixelRatio);for(let c=l.getZForResolution(o.resolution);c>=l.getMinZoom();--c){const h=l.getTileCoordForCoordAndZ(s,c),f=this.getTile(c,h[1],h[2],n);if(!f||f.getState()!==X.LOADED)continue;const d=l.getOrigin(c),_=tt(l.getTileSize(c)),p=l.getResolution(c);let E;if(f instanceof Ih||f instanceof wo)E=f.getImage();else if(f instanceof vo){if(E=Gs(f.getData()),!E)continue}else continue;const v=Math.floor(u*((s[0]-d[0])/p-h[1]*_[0])),y=Math.floor(u*((d[1]-s[1])/p-h[2]*_[1])),x=Math.round(u*a.getGutterForProjection(o.projection));return this.getImageData(E,v+x,y+x)}return null}prepareFrame(e){this.renderedProjection_?e.viewState.projection!==this.renderedProjection_&&(this.tileCache_.clear(),this.renderedProjection_=e.viewState.projection):this.renderedProjection_=e.viewState.projection;const n=this.getLayer().getSource();if(!n)return!1;const i=n.getRevision();return this.renderedRevision_?this.renderedRevision_!==i&&(this.renderedRevision_=i,this.renderedSourceKey_===n.getKey()&&this.tileCache_.clear()):this.renderedRevision_=i,!0}enqueueTiles(e,n,i,s,r){const o=e.viewState,a=this.getLayer(),l=a.getRenderSource(),u=l.getTileGridForProjection(o.projection),c=$e(l);c in e.wantedTiles||(e.wantedTiles[c]={});const h=e.wantedTiles[c],f=a.getMapInternal(),d=Math.max(i-r,u.getMinZoom(),u.getZForResolution(Math.min(a.getMaxResolution(),f?f.getView().getResolutionForZoom(Math.max(a.getMinZoom(),0)):u.getResolution(0)),l.zDirection));for(let _=i;_>=d;--_){const p=u.getTileRangeForExtentAndZ(n,_,this.tempTileRange_),E=u.getResolution(_);for(let v=p.minX;v<=p.maxX;++v)for(let y=p.minY;y<=p.maxY;++y){const x=this.getTile(_,v,y,e);if(!x||!Zr(s,x,_))continue;const I=x.getKey();if(h[I]=!0,x.getState()===X.IDLE&&!e.tileQueue.isKeyQueued(I)){const K=Xs(_,v,y,this.tempTileCoord_);e.tileQueue.enqueue([x,c,u.getTileCoordCenter(K),E])}}}}findStaleTile_(e,n){const i=this.tileCache_,s=e[0],r=e[1],o=e[2],a=this.getStaleKeys();for(let l=0;l<a.length;++l){const u=Wr(a[l],s,r,o);if(i.containsKey(u)){const c=i.get(u);if(c.getState()===X.LOADED)return c.endTransition($e(this)),Zr(n,c,s),!0}}return!1}findAltTiles_(e,n,i,s){const r=e.getTileRangeForTileCoordAndZ(n,i,this.tempTileRange_);if(!r)return!1;let o=!0;const a=this.tileCache_,u=this.getLayer().getRenderSource().getKey();for(let c=r.minX;c<=r.maxX;++c)for(let h=r.minY;h<=r.maxY;++h){const f=Wr(u,i,c,h);let d=!1;if(a.containsKey(f)){const _=a.get(f);_.getState()===X.LOADED&&(Zr(s,_,i),d=!0)}d||(o=!1)}return o}renderFrame(e,n){this.renderComplete=!0;const i=e.layerStatesArray[e.layerIndex],s=e.viewState,r=s.projection,o=s.resolution,a=s.center,l=e.pixelRatio,u=this.getLayer(),c=u.getSource(),h=c.getRevision(),f=c.getTileGridForProjection(r),d=f.getZForResolution(o,c.zDirection),_=f.getResolution(d),p=c.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==p&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=p):this.renderedSourceKey_=p;let E=e.extent;const v=c.getTilePixelRatio(l);this.prepareContainer(e,n);const y=this.context.canvas.width,x=this.context.canvas.height,R=i.extent&&_n(i.extent);R&&(E=Et(E,_n(i.extent)));const I=_*y/2/v,K=_*x/2/v,P=[a[0]-I,a[1]-K,a[0]+I,a[1]+K],D={};this.renderedTiles.length=0;const U=u.getPreload();if(e.nextExtent){const me=f.getZForResolution(s.nextResolution,c.zDirection),ue=_c(e,e.nextExtent);this.enqueueTiles(e,ue,me,D,U)}const se=_c(e,E);if(this.enqueueTiles(e,se,d,D,0),U>0&&setTimeout(()=>{this.enqueueTiles(e,se,d-1,D,U-1)},0),!(d in D))return this.container;const le=$e(this),ce=e.time;for(const me of D[d]){const ue=me.getState();if((me instanceof wo||me instanceof B0)&&ue===X.EMPTY)continue;const he=me.tileCoord;if(ue===X.LOADED&&me.getAlpha(le,ce)===1){me.endTransition(le);continue}if(this.renderComplete=!1,this.findStaleTile_(he,D)){Q0(D,me,d),e.animate=!0;continue}if(this.findAltTiles_(f,he,d+1,D))continue;const We=f.getMinZoom();for(let Re=d-1;Re>=We&&!this.findAltTiles_(f,he,Re,D);--Re);}const te=_/o*l/v,B=this.getRenderContext(e);Ni(this.tempTransform,y/2,x/2,te,te,0,-y/2,-x/2),i.extent&&this.clipUnrotated(B,e,R),c.getInterpolate()||(B.imageSmoothingEnabled=!1),this.preRender(B,e);const we=Object.keys(D).map(Number);we.sort(er);let Y;const H=[],$=[];for(let me=we.length-1;me>=0;--me){const ue=we[me],he=c.getTilePixelSize(ue,l,r),Je=f.getResolution(ue)/_,We=he[0]*Je*te,Re=he[1]*Je*te,C=f.getTileCoordForCoordAndZ(Cn(P),ue),k=f.getTileCoordExtent(C),F=ut(this.tempTransform,[v*(k[0]-P[0])/_,v*(P[3]-k[3])/_]),j=v*c.getGutterForProjection(r);for(const ne of D[ue]){if(ne.getState()!==X.LOADED)continue;const Ce=ne.tileCoord,g=C[1]-Ce[1],m=Math.round(F[0]-(g-1)*We),w=C[2]-Ce[2],S=Math.round(F[1]-(w-1)*Re),T=Math.round(F[0]-g*We),A=Math.round(F[1]-w*Re),N=m-T,L=S-A,O=we.length===1;let M=!1;Y=[T,A,T+N,A,T+N,A+L,T,A+L];for(let V=0,z=H.length;V<z;++V)if(!O&&ue<$[V]){const G=H[V];qi([T,A,T+N,A+L],[G[0],G[3],G[4],G[7]])&&(M||(B.save(),M=!0),B.beginPath(),B.moveTo(Y[0],Y[1]),B.lineTo(Y[2],Y[3]),B.lineTo(Y[4],Y[5]),B.lineTo(Y[6],Y[7]),B.moveTo(G[6],G[7]),B.lineTo(G[4],G[5]),B.lineTo(G[2],G[3]),B.lineTo(G[0],G[1]),B.clip())}H.push(Y),$.push(ue),this.drawTile(ne,e,T,A,N,L,j,O),M&&B.restore(),this.renderedTiles.unshift(ne),this.updateUsedTiles(e.usedTiles,c,ne)}}this.renderedRevision=h,this.renderedResolution=_,this.extentChanged=!this.renderedExtent_||!ho(this.renderedExtent_,P),this.renderedExtent_=P,this.renderedPixelRatio=l,this.renderedProjection=r,this.postRender(this.context,e),i.extent&&B.restore(),B.imageSmoothingEnabled=!0;const Me=(me,ue)=>{const he=$e(c),Ye=ue.wantedTiles[he],Je=Ye?Object.keys(Ye).length:0;this.updateCacheSize(Je),this.tileCache_.expireCache()};return e.postRenderFunctions.push(Me),this.container}updateCacheSize(e){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,e*2)}drawTile(e,n,i,s,r,o,a,l){let u;if(e instanceof vo){if(u=Gs(e.getData()),!u)throw new Error("Rendering array data is not yet supported")}else u=this.getTileImage(e);if(!u)return;const c=this.getRenderContext(n),h=$e(this),f=n.layerStatesArray[n.layerIndex],d=f.opacity*(l?e.getAlpha(h,n.time):1),_=d!==c.globalAlpha;_&&(c.save(),c.globalAlpha=d),c.drawImage(u,a,a,u.width-2*a,u.height-2*a,i,s,r,o),_&&c.restore(),d!==f.opacity?n.animate=!0:l&&e.endTransition(h)}getImage(){const e=this.context;return e?e.canvas:null}getTileImage(e){return e.getImage()}updateUsedTiles(e,n,i){const s=$e(n);s in e||(e[s]={}),e[s][i.getKey()]=!0}}class ty extends D0{constructor(e){super(e)}createRenderer(){return new ey(this,{cacheSize:this.getCacheSize()})}}const Br={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class ny extends Yt{constructor(e){super(),this.projection=Ct(e.projection),this.attributions_=mc(e.attributions),this.attributionsCollapsible_=e.attributionsCollapsible??!0,this.loading=!1,this.state_=e.state!==void 0?e.state:"ready",this.wrapX_=e.wrapX!==void 0?e.wrapX:!1,this.interpolate_=!!e.interpolate,this.viewResolver=null,this.viewRejector=null;const n=this;this.viewPromise_=new Promise(function(i,s){n.viewResolver=i,n.viewRejector=s})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(e){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(e){this.attributions_=mc(e),this.changed()}setState(e){this.state_=e,this.changed()}}function mc(t){return t?typeof t=="function"?t:(Array.isArray(t)||(t=[t]),e=>t):null}const On=[0,0,0],$t=5;class Lh{constructor(e){this.minZoom=e.minZoom!==void 0?e.minZoom:0,this.resolutions_=e.resolutions,ve(m_(this.resolutions_,(s,r)=>r-s),"`resolutions` must be sorted in descending order");let n;if(!e.origins){for(let s=0,r=this.resolutions_.length-1;s<r;++s)if(!n)n=this.resolutions_[s]/this.resolutions_[s+1];else if(this.resolutions_[s]/this.resolutions_[s+1]!==n){n=void 0;break}}this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=e.origin!==void 0?e.origin:null,this.origins_=null,e.origins!==void 0&&(this.origins_=e.origins,ve(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const i=e.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=Cn(i)),ve(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,e.tileSizes!==void 0&&(this.tileSizes_=e.tileSizes,ve(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=e.tileSize!==void 0?e.tileSize:this.tileSizes_?null:$o,ve(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],e.sizes!==void 0?this.fullTileRanges_=e.sizes.map((s,r)=>{const o=new Ca(Math.min(0,s[0]),Math.max(s[0]-1,-1),Math.min(0,s[1]),Math.max(s[1]-1,-1));if(i){const a=this.getTileRangeForExtentAndZ(i,r);o.minX=Math.max(a.minX,o.minX),o.maxX=Math.min(a.maxX,o.maxX),o.minY=Math.max(a.minY,o.minY),o.maxY=Math.min(a.maxY,o.maxY)}return o}):i&&this.calculateTileRanges_(i)}forEachTileCoord(e,n,i){const s=this.getTileRangeForExtentAndZ(e,n);for(let r=s.minX,o=s.maxX;r<=o;++r)for(let a=s.minY,l=s.maxY;a<=l;++a)i([n,r,a])}forEachTileCoordParentTileRange(e,n,i,s){let r,o,a,l=null,u=e[0]-1;for(this.zoomFactor_===2?(o=e[1],a=e[2]):l=this.getTileCoordExtent(e,s);u>=this.minZoom;){if(o!==void 0&&a!==void 0?(o=Math.floor(o/2),a=Math.floor(a/2),r=Ln(o,o,a,a,i)):r=this.getTileRangeForExtentAndZ(l,u,i),n(u,r))return!0;--u}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(e){return this.origin_?this.origin_:this.origins_[e]}getResolution(e){return this.resolutions_[e]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(e,n,i){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){const r=e[1]*2,o=e[2]*2;return Ln(r,r+1,o,o+1,n)}const s=this.getTileCoordExtent(e,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(s,e[0]+1,n)}return null}getTileRangeForTileCoordAndZ(e,n,i){if(n>this.maxZoom||n<this.minZoom)return null;const s=e[0],r=e[1],o=e[2];if(n===s)return Ln(r,o,r,o,i);if(this.zoomFactor_){const l=Math.pow(this.zoomFactor_,n-s),u=Math.floor(r*l),c=Math.floor(o*l);if(n<s)return Ln(u,u,c,c,i);const h=Math.floor(l*(r+1))-1,f=Math.floor(l*(o+1))-1;return Ln(u,h,c,f,i)}const a=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,n,i)}getTileRangeForExtentAndZ(e,n,i){this.getTileCoordForXYAndZ_(e[0],e[3],n,!1,On);const s=On[1],r=On[2];this.getTileCoordForXYAndZ_(e[2],e[1],n,!0,On);const o=On[1],a=On[2];return Ln(s,o,r,a,i)}getTileCoordCenter(e){const n=this.getOrigin(e[0]),i=this.getResolution(e[0]),s=tt(this.getTileSize(e[0]),this.tmpSize_);return[n[0]+(e[1]+.5)*s[0]*i,n[1]-(e[2]+.5)*s[1]*i]}getTileCoordExtent(e,n){const i=this.getOrigin(e[0]),s=this.getResolution(e[0]),r=tt(this.getTileSize(e[0]),this.tmpSize_),o=i[0]+e[1]*r[0]*s,a=i[1]-(e[2]+1)*r[1]*s,l=o+r[0]*s,u=a+r[1]*s;return $i(o,a,l,u,n)}getTileCoordForCoordAndResolution(e,n,i){return this.getTileCoordForXYAndResolution_(e[0],e[1],n,!1,i)}getTileCoordForXYAndResolution_(e,n,i,s,r){const o=this.getZForResolution(i),a=i/this.getResolution(o),l=this.getOrigin(o),u=tt(this.getTileSize(o),this.tmpSize_);let c=a*(e-l[0])/i/u[0],h=a*(l[1]-n)/i/u[1];return s?(c=us(c,$t)-1,h=us(h,$t)-1):(c=cs(c,$t),h=cs(h,$t)),Xs(o,c,h,r)}getTileCoordForXYAndZ_(e,n,i,s,r){const o=this.getOrigin(i),a=this.getResolution(i),l=tt(this.getTileSize(i),this.tmpSize_);let u=(e-o[0])/a/l[0],c=(o[1]-n)/a/l[1];return s?(u=us(u,$t)-1,c=us(c,$t)-1):(u=cs(u,$t),c=cs(c,$t)),Xs(i,u,c,r)}getTileCoordForCoordAndZ(e,n,i){return this.getTileCoordForXYAndZ_(e[0],e[1],n,!1,i)}getTileCoordResolution(e){return this.resolutions_[e[0]]}getTileSize(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}getFullTileRange(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}getZForResolution(e,n){const i=Ho(this.resolutions_,e,n||0);return Le(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(e,n){return ih(n,0,n.length,2,this.getTileCoordExtent(e))}calculateTileRanges_(e){const n=this.resolutions_.length,i=new Array(n);for(let s=this.minZoom;s<n;++s)i[s]=this.getTileRangeForExtentAndZ(e,s);this.fullTileRanges_=i}}function Oh(t){let e=t.getDefaultTileGrid();return e||(e=oy(t),t.setDefaultTileGrid(e)),e}function iy(t,e,n){const i=e[0],s=t.getTileCoordCenter(e),r=xa(n);if(!Jo(r,s)){const o=Ie(r),a=Math.ceil((r[0]-s[0])/o);return s[0]+=o*a,t.getTileCoordForCoordAndZ(s,i)}return e}function sy(t,e,n,i){i=i!==void 0?i:"top-left";const s=Dh(t,e,n);return new Lh({extent:t,origin:X_(t,i),resolutions:s,tileSize:n})}function ry(t){const e=t||{},n=e.extent||Ct("EPSG:3857").getExtent(),i={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:Dh(n,e.maxZoom,e.tileSize,e.maxResolution)};return new Lh(i)}function Dh(t,e,n,i){e=e!==void 0?e:x_,n=tt(n!==void 0?n:$o);const s=at(t),r=Ie(t);i=i>0?i:Math.max(r/n[0],s/n[1]);const o=e+1,a=new Array(o);for(let l=0;l<o;++l)a[l]=i/Math.pow(2,l);return a}function oy(t,e,n,i){const s=xa(t);return sy(s,e,n,i)}function xa(t){t=Ct(t);let e=t.getExtent();if(!e){const n=180*qo.degrees/t.getMetersPerUnit();e=$i(-n,-n,n,n)}return e}class ay extends ny{constructor(e){super({attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=e.tilePixelRatio!==void 0?e.tilePixelRatio:1,this.tileGrid=e.tileGrid!==void 0?e.tileGrid:null;const n=[256,256];this.tileGrid&&tt(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),n),this.tmpSize=[0,0],this.key_=e.key||$e(this),this.tileOptions={transition:e.transition,interpolate:e.interpolate},this.zDirection=e.zDirection?e.zDirection:0}getGutterForProjection(e){return 0}getKey(){return this.key_}setKey(e){this.key_!==e&&(this.key_=e,this.changed())}getResolutions(e){const n=e?this.getTileGridForProjection(e):this.tileGrid;return n?n.getResolutions():null}getTile(e,n,i,s,r){return ae()}getTileGrid(){return this.tileGrid}getTileGridForProjection(e){return this.tileGrid?this.tileGrid:Oh(e)}getTilePixelRatio(e){return this.tilePixelRatio_}getTilePixelSize(e,n,i){const s=this.getTileGridForProjection(i),r=this.getTilePixelRatio(n),o=tt(s.getTileSize(e),this.tmpSize);return r==1?o:Vm(o,r,this.tmpSize)}getTileCoordForTileUrlFunction(e,n){n=n!==void 0?n:this.getProjection();const i=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(e=iy(i,e,n)),J0(e,i)?e:null}clear(){}refresh(){this.clear(),super.refresh()}}class ly extends cn{constructor(e,n){super(e),this.tile=n}}const cy=/\{z\}/g,uy=/\{x\}/g,hy=/\{y\}/g,fy=/\{-y\}/g;function dy(t,e,n,i,s){return t.replace(cy,e.toString()).replace(uy,n.toString()).replace(hy,i.toString()).replace(fy,function(){if(s===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(s-i).toString()})}function gy(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const i=n[1].charCodeAt(0),s=n[2].charCodeAt(0);let r;for(r=i;r<=s;++r)e.push(t.replace(n[0],String.fromCharCode(r)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const i=parseInt(n[2],10);for(let s=parseInt(n[1],10);s<=i;s++)e.push(t.replace(n[0],s.toString()));return e}return e.push(t),e}function _y(t,e){return function(n,i,s){if(!n)return;let r;const o=n[0];if(e){const a=e.getFullTileRange(o);a&&(r=a.getHeight()-1)}return dy(t,o,n[1],n[2],r)}}function my(t,e){const n=t.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=_y(t[s],e);return py(i)}function py(t){return t.length===1?t[0]:function(e,n,i){if(!e)return;const s=$0(e),r=Wn(s,t.length);return t[r](e,n,i)}}class Ta extends ay{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===Ta.prototype.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(this.tileUrlFunction=e.tileUrlFunction),this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(e){const n=e.target,i=$e(n),s=n.getState();let r;s==X.LOADING?(this.tileLoadingKeys_[i]=!0,r=Br.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],r=s==X.ERROR?Br.TILELOADERROR:s==X.LOADED?Br.TILELOADEND:void 0),r!=null&&this.dispatchEvent(new ly(r,n))}setTileLoadFunction(e){this.tileLoadFunction=e,this.changed()}setTileUrlFunction(e,n){this.tileUrlFunction=e,typeof n<"u"?this.setKey(n):this.changed()}setUrl(e){const n=gy(e);this.urls=n,this.setUrls(n)}setUrls(e){this.urls=e;const n=e.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(my(e,this.tileGrid),n):this.setKey(n)}tileUrlFunction(e,n,i){}}class yy extends Ta{constructor(e){super({attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Ey,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate!==void 0?e.interpolate:!0,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.crossOrigin=e.crossOrigin!==void 0?e.crossOrigin:null,this.tileClass=e.tileClass!==void 0?e.tileClass:Ih,this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(e){return this.getProjection()&&e&&!Lr(this.getProjection(),e)?0:this.getGutter()}getGutter(){return 0}getKey(){let e=super.getKey();return this.getInterpolate()||(e+=":disable-interpolation"),e}getTileGridForProjection(e){const n=this.getProjection();if(this.tileGrid&&(!n||Lr(n,e)))return this.tileGrid;const i=$e(e);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=Oh(e)),this.tileGridForProjection[i]}createTile_(e,n,i,s,r,o){const a=[e,n,i],l=this.getTileCoordForTileUrlFunction(a,r),u=l?this.tileUrlFunction(l,s,r):void 0,c=new this.tileClass(a,u!==void 0?X.IDLE:X.EMPTY,u!==void 0?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return c.key=o,c.addEventListener(J.CHANGE,this.handleTileChange.bind(this)),c}getTile(e,n,i,s,r){const o=this.getProjection();if(!o||!r||Lr(o,r))return this.getTileInternal(e,n,i,s,o||r);const a=[e,n,i],l=this.getKey(),u=this.getTileGridForProjection(o),c=this.getTileGridForProjection(r),h=this.getTileCoordForTileUrlFunction(a,r),f=new wo(o,u,r,c,a,h,this.getTilePixelRatio(s),this.getGutter(),(d,_,p,E)=>this.getTileInternal(d,_,p,E,o),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return f.key=l,f}getTileInternal(e,n,i,s,r){const o=this.getKey();return this.createTile_(e,n,i,s,r,o)}setRenderReprojectionEdges(e){this.renderReprojectionEdges_!=e&&(this.renderReprojectionEdges_=e,this.changed())}setTileGridForProjection(e,n){const i=Ct(e);if(i){const s=$e(i);s in this.tileGridForProjection||(this.tileGridForProjection[s]=n)}}}function Ey(t,e){t.getImage().src=e}class vy extends yy{constructor(e){e=e||{};const n=e.projection!==void 0?e.projection:"EPSG:3857",i=e.tileGrid!==void 0?e.tileGrid:ry({extent:xa(n),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:n,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX!==void 0?e.wrapX:!0,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=e.gutter!==void 0?e.gutter:0}getGutter(){return this.gutter_}}const wy='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.';class Ry extends vy{constructor(e){e=e||{};let n;e.attributions!==void 0?n=e.attributions:n=[wy];const i=e.crossOrigin!==void 0?e.crossOrigin:"anonymous",s=e.url!==void 0?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:n,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:i,interpolate:e.interpolate,maxZoom:e.maxZoom!==void 0?e.maxZoom:19,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:s,wrapX:e.wrapX,zDirection:e.zDirection})}}const Cy={id:"map",class:"map-container"},xy=Wi({__name:"MapView",setup(t){return Ko(()=>{new L0({target:"map",layers:[new ty({source:new Ry})],view:new St({center:[0,0],zoom:2})})}),(e,n)=>(Mi(),mu("div",Cy))}}),Ty={id:"earch",class:"earth-container"},by=Wi({__name:"EarthView",setup(t){return Ko(()=>{Cesium.Ion.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJiY2ExNmYyOC0yYjk5LTRjOGMtYTI0ZC0xZmFmMDAwMzhlZDUiLCJpZCI6NTI1MjgsImlhdCI6MTYxODY2NjE5N30.ETTMOAYLjTMplvAxKehiZCrzT1o2s--bFqREAOSP3fg";const e=new Cesium.Viewer("earch",{infoBox:!1,geocoder:!1,navigationHelpButton:!1,selectionIndicator:!1,baseLayerPicker:!1,showRenderLoopErrors:!1,fullscreenButton:!0,sceneModePicker:!1,scene3DOnly:!0,timeline:!0,animation:!1,imageryProvider:new Cesium.ArcGisMapServerImageryProvider({url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",enablePickFeatures:!1}),terrainProvider:Cesium.createWorldTerrain({requestVertexNormals:!0,requestWaterMask:!0})});e.cesiumWidget.creditContainer.style.display="none",setTimeout(()=>{e.timeline.container.style.display="none"}),e.camera.setView({destination:Cesium.Cartesian3.fromDegrees(104.1954,35.8617,2e7)}),e.homeButton.viewModel.command.beforeExecute.addEventListener(function(n){n.cancel=!0,e.camera.flyTo({destination:Cesium.Cartesian3.fromDegrees(104.1954,35.8617,2e7)})})}),(e,n)=>(Mi(),mu("div",Ty))}}),Iy=Cu(by,[["__scopeId","data-v-8ed087be"]]),Ay=Wi({__name:"Home",setup(t){const e=zo(!0);return(n,i)=>e.value?(Mi(),so(Iy,{key:0})):(Mi(),so(xy,{key:1}))}}),Sy=[{path:"/",name:"Home",component:Ay}],My=d_({history:Ug("/GIS_Cesium_OpenLayers/"),routes:Sy});var Py=!1;/*!
 * pinia v2.2.2
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */const Ly=Symbol();var pc;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(pc||(pc={}));function Oy(){const t=Jh(!0),e=t.run(()=>zo({}));let n=[],i=[];const s=Gc({install(r){s._a=r,r.provide(Ly,s),r.config.globalProperties.$pinia=s,i.forEach(o=>n.push(o)),i=[]},use(r){return!this._a&&!Py?i.push(r):n.push(r),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const ba=ag(fg),Dy=Oy();ba.use(My);ba.use(Dy);ba.mount("#app");
